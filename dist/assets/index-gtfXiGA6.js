var bB=Object.defineProperty;var wI=t=>{throw TypeError(t)};var xB=(t,e,n)=>e in t?bB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var vn=(t,e,n)=>xB(t,typeof e!="symbol"?e+"":e,n),ww=(t,e,n)=>e.has(t)||wI("Cannot "+n);var Pe=(t,e,n)=>(ww(t,e,"read from private field"),n?n.call(t):e.get(t)),cn=(t,e,n)=>e.has(t)?wI("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ot=(t,e,n,r)=>(ww(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),yi=(t,e,n)=>(ww(t,e,"access private method"),n);var M0=(t,e,n,r)=>({set _(i){Ot(t,e,i,n)},get _(){return Pe(t,e,r)}});function SB(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var O0e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dR={exports:{}},Dv={},fR={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg=Symbol.for("react.element"),EB=Symbol.for("react.portal"),AB=Symbol.for("react.fragment"),TB=Symbol.for("react.strict_mode"),IB=Symbol.for("react.profiler"),CB=Symbol.for("react.provider"),NB=Symbol.for("react.context"),PB=Symbol.for("react.forward_ref"),kB=Symbol.for("react.suspense"),RB=Symbol.for("react.memo"),LB=Symbol.for("react.lazy"),_I=Symbol.iterator;function DB(t){return t===null||typeof t!="object"?null:(t=_I&&t[_I]||t["@@iterator"],typeof t=="function"?t:null)}var pR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mR=Object.assign,gR={};function Xf(t,e,n){this.props=t,this.context=e,this.refs=gR,this.updater=n||pR}Xf.prototype.isReactComponent={};Xf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yR(){}yR.prototype=Xf.prototype;function Yx(t,e,n){this.props=t,this.context=e,this.refs=gR,this.updater=n||pR}var Xx=Yx.prototype=new yR;Xx.constructor=Yx;mR(Xx,Xf.prototype);Xx.isPureReactComponent=!0;var bI=Array.isArray,vR=Object.prototype.hasOwnProperty,Qx={current:null},wR={key:!0,ref:!0,__self:!0,__source:!0};function _R(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)vR.call(e,r)&&!wR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Mg,type:t,key:s,ref:o,props:i,_owner:Qx.current}}function MB(t,e){return{$$typeof:Mg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Jx(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mg}function OB(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xI=/\/+/g;function _w(t,e){return typeof t=="object"&&t!==null&&t.key!=null?OB(""+t.key):e.toString(36)}function P1(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Mg:case EB:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+_w(o,0):r,bI(i)?(n="",t!=null&&(n=t.replace(xI,"$&/")+"/"),P1(i,e,n,"",function(c){return c})):i!=null&&(Jx(i)&&(i=MB(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(xI,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",bI(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+_w(s,a);o+=P1(s,e,n,l,i)}else if(l=DB(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+_w(s,a++),o+=P1(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function O0(t,e,n){if(t==null)return t;var r=[],i=0;return P1(t,r,"","",function(s){return e.call(n,s,i++)}),r}function jB(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yi={current:null},k1={transition:null},FB={ReactCurrentDispatcher:Yi,ReactCurrentBatchConfig:k1,ReactCurrentOwner:Qx};function bR(){throw Error("act(...) is not supported in production builds of React.")}Wt.Children={map:O0,forEach:function(t,e,n){O0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return O0(t,function(){e++}),e},toArray:function(t){return O0(t,function(e){return e})||[]},only:function(t){if(!Jx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Wt.Component=Xf;Wt.Fragment=AB;Wt.Profiler=IB;Wt.PureComponent=Yx;Wt.StrictMode=TB;Wt.Suspense=kB;Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FB;Wt.act=bR;Wt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=mR({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Qx.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)vR.call(e,l)&&!wR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Mg,type:t.type,key:i,ref:s,props:r,_owner:o}};Wt.createContext=function(t){return t={$$typeof:NB,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:CB,_context:t},t.Consumer=t};Wt.createElement=_R;Wt.createFactory=function(t){var e=_R.bind(null,t);return e.type=t,e};Wt.createRef=function(){return{current:null}};Wt.forwardRef=function(t){return{$$typeof:PB,render:t}};Wt.isValidElement=Jx;Wt.lazy=function(t){return{$$typeof:LB,_payload:{_status:-1,_result:t},_init:jB}};Wt.memo=function(t,e){return{$$typeof:RB,type:t,compare:e===void 0?null:e}};Wt.startTransition=function(t){var e=k1.transition;k1.transition={};try{t()}finally{k1.transition=e}};Wt.unstable_act=bR;Wt.useCallback=function(t,e){return Yi.current.useCallback(t,e)};Wt.useContext=function(t){return Yi.current.useContext(t)};Wt.useDebugValue=function(){};Wt.useDeferredValue=function(t){return Yi.current.useDeferredValue(t)};Wt.useEffect=function(t,e){return Yi.current.useEffect(t,e)};Wt.useId=function(){return Yi.current.useId()};Wt.useImperativeHandle=function(t,e,n){return Yi.current.useImperativeHandle(t,e,n)};Wt.useInsertionEffect=function(t,e){return Yi.current.useInsertionEffect(t,e)};Wt.useLayoutEffect=function(t,e){return Yi.current.useLayoutEffect(t,e)};Wt.useMemo=function(t,e){return Yi.current.useMemo(t,e)};Wt.useReducer=function(t,e,n){return Yi.current.useReducer(t,e,n)};Wt.useRef=function(t){return Yi.current.useRef(t)};Wt.useState=function(t){return Yi.current.useState(t)};Wt.useSyncExternalStore=function(t,e,n){return Yi.current.useSyncExternalStore(t,e,n)};Wt.useTransition=function(){return Yi.current.useTransition()};Wt.version="18.3.1";fR.exports=Wt;var C=fR.exports;const Be=hR(C),Zx=SB({__proto__:null,default:Be},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VB=C,UB=Symbol.for("react.element"),BB=Symbol.for("react.fragment"),zB=Object.prototype.hasOwnProperty,$B=VB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qB={key:!0,ref:!0,__self:!0,__source:!0};function xR(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)zB.call(e,r)&&!qB.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:UB,type:t,key:s,ref:o,props:i,_owner:$B.current}}Dv.Fragment=BB;Dv.jsx=xR;Dv.jsxs=xR;dR.exports=Dv;var v=dR.exports,SR={exports:{}},Hs={},ER={exports:{}},AR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,Q){var fe=Y.length;Y.push(Q);e:for(;0<fe;){var ye=fe-1>>>1,F=Y[ye];if(0<i(F,Q))Y[ye]=Q,Y[fe]=F,fe=ye;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var Q=Y[0],fe=Y.pop();if(fe!==Q){Y[0]=fe;e:for(var ye=0,F=Y.length,X=F>>>1;ye<X;){var J=2*(ye+1)-1,ie=Y[J],oe=J+1,re=Y[oe];if(0>i(ie,fe))oe<F&&0>i(re,ie)?(Y[ye]=re,Y[oe]=fe,ye=oe):(Y[ye]=ie,Y[J]=fe,ye=J);else if(oe<F&&0>i(re,fe))Y[ye]=re,Y[oe]=fe,ye=oe;else break e}}return Q}function i(Y,Q){var fe=Y.sortIndex-Q.sortIndex;return fe!==0?fe:Y.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,p=3,d=!1,b=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(Y){for(var Q=n(c);Q!==null;){if(Q.callback===null)r(c);else if(Q.startTime<=Y)r(c),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=n(c)}}function k(Y){if(y=!1,E(Y),!b)if(n(l)!==null)b=!0,ce(B);else{var Q=n(c);Q!==null&&le(k,Q.startTime-Y)}}function B(Y,Q){b=!1,y&&(y=!1,w(N),N=-1),d=!0;var fe=p;try{for(E(Q),h=n(l);h!==null&&(!(h.expirationTime>Q)||Y&&!I());){var ye=h.callback;if(typeof ye=="function"){h.callback=null,p=h.priorityLevel;var F=ye(h.expirationTime<=Q);Q=t.unstable_now(),typeof F=="function"?h.callback=F:h===n(l)&&r(l),E(Q)}else r(l);h=n(l)}if(h!==null)var X=!0;else{var J=n(c);J!==null&&le(k,J.startTime-Q),X=!1}return X}finally{h=null,p=fe,d=!1}}var G=!1,D=null,N=-1,P=5,j=-1;function I(){return!(t.unstable_now()-j<P)}function L(){if(D!==null){var Y=t.unstable_now();j=Y;var Q=!0;try{Q=D(!0,Y)}finally{Q?M():(G=!1,D=null)}}else G=!1}var M;if(typeof S=="function")M=function(){S(L)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ae=W.port2;W.port1.onmessage=L,M=function(){ae.postMessage(null)}}else M=function(){_(L,0)};function ce(Y){D=Y,G||(G=!0,M())}function le(Y,Q){N=_(function(){Y(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){b||d||(b=!0,ce(B))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Y){switch(p){case 1:case 2:case 3:var Q=3;break;default:Q=p}var fe=p;p=Q;try{return Y()}finally{p=fe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,Q){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var fe=p;p=Y;try{return Q()}finally{p=fe}},t.unstable_scheduleCallback=function(Y,Q,fe){var ye=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?ye+fe:ye):fe=ye,Y){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=fe+F,Y={id:u++,callback:Q,priorityLevel:Y,startTime:fe,expirationTime:F,sortIndex:-1},fe>ye?(Y.sortIndex=fe,e(c,Y),n(l)===null&&Y===n(c)&&(y?(w(N),N=-1):y=!0,le(k,fe-ye))):(Y.sortIndex=F,e(l,Y),b||d||(b=!0,ce(B))),Y},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(Y){var Q=p;return function(){var fe=p;p=Q;try{return Y.apply(this,arguments)}finally{p=fe}}}})(AR);ER.exports=AR;var HB=ER.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WB=C,qs=HB;function je(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var TR=new Set,Vm={};function Wh(t,e){If(t,e),If(t+"Capture",e)}function If(t,e){for(Vm[t]=e,t=0;t<e.length;t++)TR.add(e[t])}var Cl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m5=Object.prototype.hasOwnProperty,GB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,SI={},EI={};function KB(t){return m5.call(EI,t)?!0:m5.call(SI,t)?!1:GB.test(t)?EI[t]=!0:(SI[t]=!0,!1)}function YB(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XB(t,e,n,r){if(e===null||typeof e>"u"||YB(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xi(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ui={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ui[t]=new Xi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ui[e]=new Xi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ui[t]=new Xi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ui[t]=new Xi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ui[t]=new Xi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ui[t]=new Xi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ui[t]=new Xi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ui[t]=new Xi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ui[t]=new Xi(t,5,!1,t.toLowerCase(),null,!1,!1)});var eS=/[\-:]([a-z])/g;function tS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(eS,tS);ui[e]=new Xi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(eS,tS);ui[e]=new Xi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(eS,tS);ui[e]=new Xi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ui[t]=new Xi(t,1,!1,t.toLowerCase(),null,!1,!1)});ui.xlinkHref=new Xi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ui[t]=new Xi(t,1,!1,t.toLowerCase(),null,!0,!0)});function nS(t,e,n,r){var i=ui.hasOwnProperty(e)?ui[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XB(e,n,i,r)&&(n=null),r||i===null?KB(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ul=WB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j0=Symbol.for("react.element"),Ld=Symbol.for("react.portal"),Dd=Symbol.for("react.fragment"),rS=Symbol.for("react.strict_mode"),g5=Symbol.for("react.profiler"),IR=Symbol.for("react.provider"),CR=Symbol.for("react.context"),iS=Symbol.for("react.forward_ref"),y5=Symbol.for("react.suspense"),v5=Symbol.for("react.suspense_list"),sS=Symbol.for("react.memo"),_c=Symbol.for("react.lazy"),NR=Symbol.for("react.offscreen"),AI=Symbol.iterator;function Dp(t){return t===null||typeof t!="object"?null:(t=AI&&t[AI]||t["@@iterator"],typeof t=="function"?t:null)}var nr=Object.assign,bw;function Yp(t){if(bw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bw=e&&e[1]||""}return`
`+bw+t}var xw=!1;function Sw(t,e){if(!t||xw)return"";xw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{xw=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yp(t):""}function QB(t){switch(t.tag){case 5:return Yp(t.type);case 16:return Yp("Lazy");case 13:return Yp("Suspense");case 19:return Yp("SuspenseList");case 0:case 2:case 15:return t=Sw(t.type,!1),t;case 11:return t=Sw(t.type.render,!1),t;case 1:return t=Sw(t.type,!0),t;default:return""}}function w5(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Dd:return"Fragment";case Ld:return"Portal";case g5:return"Profiler";case rS:return"StrictMode";case y5:return"Suspense";case v5:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case CR:return(t.displayName||"Context")+".Consumer";case IR:return(t._context.displayName||"Context")+".Provider";case iS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case sS:return e=t.displayName||null,e!==null?e:w5(t.type)||"Memo";case _c:e=t._payload,t=t._init;try{return w5(t(e))}catch{}}return null}function JB(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return w5(e);case 8:return e===rS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ru(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function PR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ZB(t){var e=PR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function F0(t){t._valueTracker||(t._valueTracker=ZB(t))}function kR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=PR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yy(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _5(t,e){var n=e.checked;return nr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function TI(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ru(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function RR(t,e){e=e.checked,e!=null&&nS(t,"checked",e,!1)}function b5(t,e){RR(t,e);var n=ru(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?x5(t,e.type,n):e.hasOwnProperty("defaultValue")&&x5(t,e.type,ru(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function II(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function x5(t,e,n){(e!=="number"||yy(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xp=Array.isArray;function Jd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ru(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function S5(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(je(91));return nr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function CI(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(je(92));if(Xp(n)){if(1<n.length)throw Error(je(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ru(n)}}function LR(t,e){var n=ru(e.value),r=ru(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function NI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function DR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function E5(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?DR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var V0,MR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(V0=V0||document.createElement("div"),V0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=V0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Um(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var um={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ez=["Webkit","ms","Moz","O"];Object.keys(um).forEach(function(t){ez.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),um[e]=um[t]})});function OR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||um.hasOwnProperty(t)&&um[t]?(""+e).trim():e+"px"}function jR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=OR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var tz=nr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function A5(t,e){if(e){if(tz[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(je(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(je(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(je(61))}if(e.style!=null&&typeof e.style!="object")throw Error(je(62))}}function T5(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var I5=null;function oS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var C5=null,Zd=null,ef=null;function PI(t){if(t=Fg(t)){if(typeof C5!="function")throw Error(je(280));var e=t.stateNode;e&&(e=Vv(e),C5(t.stateNode,t.type,e))}}function FR(t){Zd?ef?ef.push(t):ef=[t]:Zd=t}function VR(){if(Zd){var t=Zd,e=ef;if(ef=Zd=null,PI(t),e)for(t=0;t<e.length;t++)PI(e[t])}}function UR(t,e){return t(e)}function BR(){}var Ew=!1;function zR(t,e,n){if(Ew)return t(e,n);Ew=!0;try{return UR(t,e,n)}finally{Ew=!1,(Zd!==null||ef!==null)&&(BR(),VR())}}function Bm(t,e){var n=t.stateNode;if(n===null)return null;var r=Vv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(je(231,e,typeof n));return n}var N5=!1;if(Cl)try{var Mp={};Object.defineProperty(Mp,"passive",{get:function(){N5=!0}}),window.addEventListener("test",Mp,Mp),window.removeEventListener("test",Mp,Mp)}catch{N5=!1}function nz(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var hm=!1,vy=null,wy=!1,P5=null,rz={onError:function(t){hm=!0,vy=t}};function iz(t,e,n,r,i,s,o,a,l){hm=!1,vy=null,nz.apply(rz,arguments)}function sz(t,e,n,r,i,s,o,a,l){if(iz.apply(this,arguments),hm){if(hm){var c=vy;hm=!1,vy=null}else throw Error(je(198));wy||(wy=!0,P5=c)}}function Gh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $R(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kI(t){if(Gh(t)!==t)throw Error(je(188))}function oz(t){var e=t.alternate;if(!e){if(e=Gh(t),e===null)throw Error(je(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return kI(i),t;if(s===r)return kI(i),e;s=s.sibling}throw Error(je(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(je(189))}}if(n.alternate!==r)throw Error(je(190))}if(n.tag!==3)throw Error(je(188));return n.stateNode.current===n?t:e}function qR(t){return t=oz(t),t!==null?HR(t):null}function HR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=HR(t);if(e!==null)return e;t=t.sibling}return null}var WR=qs.unstable_scheduleCallback,RI=qs.unstable_cancelCallback,az=qs.unstable_shouldYield,lz=qs.unstable_requestPaint,xr=qs.unstable_now,cz=qs.unstable_getCurrentPriorityLevel,aS=qs.unstable_ImmediatePriority,GR=qs.unstable_UserBlockingPriority,_y=qs.unstable_NormalPriority,uz=qs.unstable_LowPriority,KR=qs.unstable_IdlePriority,Mv=null,ka=null;function hz(t){if(ka&&typeof ka.onCommitFiberRoot=="function")try{ka.onCommitFiberRoot(Mv,t,void 0,(t.current.flags&128)===128)}catch{}}var $o=Math.clz32?Math.clz32:pz,dz=Math.log,fz=Math.LN2;function pz(t){return t>>>=0,t===0?32:31-(dz(t)/fz|0)|0}var U0=64,B0=4194304;function Qp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function by(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Qp(a):(s&=o,s!==0&&(r=Qp(s)))}else o=n&~i,o!==0?r=Qp(o):s!==0&&(r=Qp(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$o(e),i=1<<n,r|=t[n],e&=~i;return r}function mz(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gz(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-$o(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=mz(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function k5(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function YR(){var t=U0;return U0<<=1,!(U0&4194240)&&(U0=64),t}function Aw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Og(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$o(e),t[e]=n}function yz(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-$o(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function lS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$o(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _n=0;function XR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var QR,cS,JR,ZR,e6,R5=!1,z0=[],Bc=null,zc=null,$c=null,zm=new Map,$m=new Map,xc=[],vz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function LI(t,e){switch(t){case"focusin":case"focusout":Bc=null;break;case"dragenter":case"dragleave":zc=null;break;case"mouseover":case"mouseout":$c=null;break;case"pointerover":case"pointerout":zm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$m.delete(e.pointerId)}}function Op(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Fg(e),e!==null&&cS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function wz(t,e,n,r,i){switch(e){case"focusin":return Bc=Op(Bc,t,e,n,r,i),!0;case"dragenter":return zc=Op(zc,t,e,n,r,i),!0;case"mouseover":return $c=Op($c,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return zm.set(s,Op(zm.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,$m.set(s,Op($m.get(s)||null,t,e,n,r,i)),!0}return!1}function t6(t){var e=th(t.target);if(e!==null){var n=Gh(e);if(n!==null){if(e=n.tag,e===13){if(e=$R(n),e!==null){t.blockedOn=e,e6(t.priority,function(){JR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function R1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=L5(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);I5=r,n.target.dispatchEvent(r),I5=null}else return e=Fg(n),e!==null&&cS(e),t.blockedOn=n,!1;e.shift()}return!0}function DI(t,e,n){R1(t)&&n.delete(e)}function _z(){R5=!1,Bc!==null&&R1(Bc)&&(Bc=null),zc!==null&&R1(zc)&&(zc=null),$c!==null&&R1($c)&&($c=null),zm.forEach(DI),$m.forEach(DI)}function jp(t,e){t.blockedOn===e&&(t.blockedOn=null,R5||(R5=!0,qs.unstable_scheduleCallback(qs.unstable_NormalPriority,_z)))}function qm(t){function e(i){return jp(i,t)}if(0<z0.length){jp(z0[0],t);for(var n=1;n<z0.length;n++){var r=z0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Bc!==null&&jp(Bc,t),zc!==null&&jp(zc,t),$c!==null&&jp($c,t),zm.forEach(e),$m.forEach(e),n=0;n<xc.length;n++)r=xc[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xc.length&&(n=xc[0],n.blockedOn===null);)t6(n),n.blockedOn===null&&xc.shift()}var tf=Ul.ReactCurrentBatchConfig,xy=!0;function bz(t,e,n,r){var i=_n,s=tf.transition;tf.transition=null;try{_n=1,uS(t,e,n,r)}finally{_n=i,tf.transition=s}}function xz(t,e,n,r){var i=_n,s=tf.transition;tf.transition=null;try{_n=4,uS(t,e,n,r)}finally{_n=i,tf.transition=s}}function uS(t,e,n,r){if(xy){var i=L5(t,e,n,r);if(i===null)Mw(t,e,r,Sy,n),LI(t,r);else if(wz(i,t,e,n,r))r.stopPropagation();else if(LI(t,r),e&4&&-1<vz.indexOf(t)){for(;i!==null;){var s=Fg(i);if(s!==null&&QR(s),s=L5(t,e,n,r),s===null&&Mw(t,e,r,Sy,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Mw(t,e,r,null,n)}}var Sy=null;function L5(t,e,n,r){if(Sy=null,t=oS(r),t=th(t),t!==null)if(e=Gh(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$R(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Sy=t,null}function n6(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cz()){case aS:return 1;case GR:return 4;case _y:case uz:return 16;case KR:return 536870912;default:return 16}default:return 16}}var Mc=null,hS=null,L1=null;function r6(){if(L1)return L1;var t,e=hS,n=e.length,r,i="value"in Mc?Mc.value:Mc.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return L1=i.slice(t,1<r?1-r:void 0)}function D1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $0(){return!0}function MI(){return!1}function Ws(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$0:MI,this.isPropagationStopped=MI,this}return nr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$0)},persist:function(){},isPersistent:$0}),e}var Qf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dS=Ws(Qf),jg=nr({},Qf,{view:0,detail:0}),Sz=Ws(jg),Tw,Iw,Fp,Ov=nr({},jg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fp&&(Fp&&t.type==="mousemove"?(Tw=t.screenX-Fp.screenX,Iw=t.screenY-Fp.screenY):Iw=Tw=0,Fp=t),Tw)},movementY:function(t){return"movementY"in t?t.movementY:Iw}}),OI=Ws(Ov),Ez=nr({},Ov,{dataTransfer:0}),Az=Ws(Ez),Tz=nr({},jg,{relatedTarget:0}),Cw=Ws(Tz),Iz=nr({},Qf,{animationName:0,elapsedTime:0,pseudoElement:0}),Cz=Ws(Iz),Nz=nr({},Qf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pz=Ws(Nz),kz=nr({},Qf,{data:0}),jI=Ws(kz),Rz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mz(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Dz[t])?!!e[t]:!1}function fS(){return Mz}var Oz=nr({},jg,{key:function(t){if(t.key){var e=Rz[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=D1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lz[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fS,charCode:function(t){return t.type==="keypress"?D1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?D1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jz=Ws(Oz),Fz=nr({},Ov,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),FI=Ws(Fz),Vz=nr({},jg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fS}),Uz=Ws(Vz),Bz=nr({},Qf,{propertyName:0,elapsedTime:0,pseudoElement:0}),zz=Ws(Bz),$z=nr({},Ov,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qz=Ws($z),Hz=[9,13,27,32],pS=Cl&&"CompositionEvent"in window,dm=null;Cl&&"documentMode"in document&&(dm=document.documentMode);var Wz=Cl&&"TextEvent"in window&&!dm,i6=Cl&&(!pS||dm&&8<dm&&11>=dm),VI=" ",UI=!1;function s6(t,e){switch(t){case"keyup":return Hz.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Md=!1;function Gz(t,e){switch(t){case"compositionend":return o6(e);case"keypress":return e.which!==32?null:(UI=!0,VI);case"textInput":return t=e.data,t===VI&&UI?null:t;default:return null}}function Kz(t,e){if(Md)return t==="compositionend"||!pS&&s6(t,e)?(t=r6(),L1=hS=Mc=null,Md=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return i6&&e.locale!=="ko"?null:e.data;default:return null}}var Yz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Yz[t.type]:e==="textarea"}function a6(t,e,n,r){FR(r),e=Ey(e,"onChange"),0<e.length&&(n=new dS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var fm=null,Hm=null;function Xz(t){v6(t,0)}function jv(t){var e=Fd(t);if(kR(e))return t}function Qz(t,e){if(t==="change")return e}var l6=!1;if(Cl){var Nw;if(Cl){var Pw="oninput"in document;if(!Pw){var zI=document.createElement("div");zI.setAttribute("oninput","return;"),Pw=typeof zI.oninput=="function"}Nw=Pw}else Nw=!1;l6=Nw&&(!document.documentMode||9<document.documentMode)}function $I(){fm&&(fm.detachEvent("onpropertychange",c6),Hm=fm=null)}function c6(t){if(t.propertyName==="value"&&jv(Hm)){var e=[];a6(e,Hm,t,oS(t)),zR(Xz,e)}}function Jz(t,e,n){t==="focusin"?($I(),fm=e,Hm=n,fm.attachEvent("onpropertychange",c6)):t==="focusout"&&$I()}function Zz(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jv(Hm)}function e$(t,e){if(t==="click")return jv(e)}function t$(t,e){if(t==="input"||t==="change")return jv(e)}function n$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Go=typeof Object.is=="function"?Object.is:n$;function Wm(t,e){if(Go(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!m5.call(e,i)||!Go(t[i],e[i]))return!1}return!0}function qI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function HI(t,e){var n=qI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qI(n)}}function u6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?u6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function h6(){for(var t=window,e=yy();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yy(t.document)}return e}function mS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function r$(t){var e=h6(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&u6(n.ownerDocument.documentElement,n)){if(r!==null&&mS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=HI(n,s);var o=HI(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var i$=Cl&&"documentMode"in document&&11>=document.documentMode,Od=null,D5=null,pm=null,M5=!1;function WI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;M5||Od==null||Od!==yy(r)||(r=Od,"selectionStart"in r&&mS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pm&&Wm(pm,r)||(pm=r,r=Ey(D5,"onSelect"),0<r.length&&(e=new dS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Od)))}function q0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var jd={animationend:q0("Animation","AnimationEnd"),animationiteration:q0("Animation","AnimationIteration"),animationstart:q0("Animation","AnimationStart"),transitionend:q0("Transition","TransitionEnd")},kw={},d6={};Cl&&(d6=document.createElement("div").style,"AnimationEvent"in window||(delete jd.animationend.animation,delete jd.animationiteration.animation,delete jd.animationstart.animation),"TransitionEvent"in window||delete jd.transitionend.transition);function Fv(t){if(kw[t])return kw[t];if(!jd[t])return t;var e=jd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in d6)return kw[t]=e[n];return t}var f6=Fv("animationend"),p6=Fv("animationiteration"),m6=Fv("animationstart"),g6=Fv("transitionend"),y6=new Map,GI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wu(t,e){y6.set(t,e),Wh(e,[t])}for(var Rw=0;Rw<GI.length;Rw++){var Lw=GI[Rw],s$=Lw.toLowerCase(),o$=Lw[0].toUpperCase()+Lw.slice(1);wu(s$,"on"+o$)}wu(f6,"onAnimationEnd");wu(p6,"onAnimationIteration");wu(m6,"onAnimationStart");wu("dblclick","onDoubleClick");wu("focusin","onFocus");wu("focusout","onBlur");wu(g6,"onTransitionEnd");If("onMouseEnter",["mouseout","mouseover"]);If("onMouseLeave",["mouseout","mouseover"]);If("onPointerEnter",["pointerout","pointerover"]);If("onPointerLeave",["pointerout","pointerover"]);Wh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jp));function KI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sz(r,e,void 0,t),t.currentTarget=null}function v6(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;KI(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;KI(i,a,c),s=l}}}if(wy)throw t=P5,wy=!1,P5=null,t}function Bn(t,e){var n=e[U5];n===void 0&&(n=e[U5]=new Set);var r=t+"__bubble";n.has(r)||(w6(e,t,2,!1),n.add(r))}function Dw(t,e,n){var r=0;e&&(r|=4),w6(n,t,r,e)}var H0="_reactListening"+Math.random().toString(36).slice(2);function Gm(t){if(!t[H0]){t[H0]=!0,TR.forEach(function(n){n!=="selectionchange"&&(a$.has(n)||Dw(n,!1,t),Dw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[H0]||(e[H0]=!0,Dw("selectionchange",!1,e))}}function w6(t,e,n,r){switch(n6(e)){case 1:var i=bz;break;case 4:i=xz;break;default:i=uS}n=i.bind(null,e,n,t),i=void 0,!N5||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Mw(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=th(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}zR(function(){var c=s,u=oS(n),h=[];e:{var p=y6.get(t);if(p!==void 0){var d=dS,b=t;switch(t){case"keypress":if(D1(n)===0)break e;case"keydown":case"keyup":d=jz;break;case"focusin":b="focus",d=Cw;break;case"focusout":b="blur",d=Cw;break;case"beforeblur":case"afterblur":d=Cw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=OI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=Az;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=Uz;break;case f6:case p6:case m6:d=Cz;break;case g6:d=zz;break;case"scroll":d=Sz;break;case"wheel":d=qz;break;case"copy":case"cut":case"paste":d=Pz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=FI}var y=(e&4)!==0,_=!y&&t==="scroll",w=y?p!==null?p+"Capture":null:p;y=[];for(var S=c,E;S!==null;){E=S;var k=E.stateNode;if(E.tag===5&&k!==null&&(E=k,w!==null&&(k=Bm(S,w),k!=null&&y.push(Km(S,k,E)))),_)break;S=S.return}0<y.length&&(p=new d(p,b,null,n,u),h.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",p&&n!==I5&&(b=n.relatedTarget||n.fromElement)&&(th(b)||b[Nl]))break e;if((d||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,d?(b=n.relatedTarget||n.toElement,d=c,b=b?th(b):null,b!==null&&(_=Gh(b),b!==_||b.tag!==5&&b.tag!==6)&&(b=null)):(d=null,b=c),d!==b)){if(y=OI,k="onMouseLeave",w="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(y=FI,k="onPointerLeave",w="onPointerEnter",S="pointer"),_=d==null?p:Fd(d),E=b==null?p:Fd(b),p=new y(k,S+"leave",d,n,u),p.target=_,p.relatedTarget=E,k=null,th(u)===c&&(y=new y(w,S+"enter",b,n,u),y.target=E,y.relatedTarget=_,k=y),_=k,d&&b)t:{for(y=d,w=b,S=0,E=y;E;E=wd(E))S++;for(E=0,k=w;k;k=wd(k))E++;for(;0<S-E;)y=wd(y),S--;for(;0<E-S;)w=wd(w),E--;for(;S--;){if(y===w||w!==null&&y===w.alternate)break t;y=wd(y),w=wd(w)}y=null}else y=null;d!==null&&YI(h,p,d,y,!1),b!==null&&_!==null&&YI(h,_,b,y,!0)}}e:{if(p=c?Fd(c):window,d=p.nodeName&&p.nodeName.toLowerCase(),d==="select"||d==="input"&&p.type==="file")var B=Qz;else if(BI(p))if(l6)B=t$;else{B=Zz;var G=Jz}else(d=p.nodeName)&&d.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(B=e$);if(B&&(B=B(t,c))){a6(h,B,n,u);break e}G&&G(t,p,c),t==="focusout"&&(G=p._wrapperState)&&G.controlled&&p.type==="number"&&x5(p,"number",p.value)}switch(G=c?Fd(c):window,t){case"focusin":(BI(G)||G.contentEditable==="true")&&(Od=G,D5=c,pm=null);break;case"focusout":pm=D5=Od=null;break;case"mousedown":M5=!0;break;case"contextmenu":case"mouseup":case"dragend":M5=!1,WI(h,n,u);break;case"selectionchange":if(i$)break;case"keydown":case"keyup":WI(h,n,u)}var D;if(pS)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Md?s6(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(i6&&n.locale!=="ko"&&(Md||N!=="onCompositionStart"?N==="onCompositionEnd"&&Md&&(D=r6()):(Mc=u,hS="value"in Mc?Mc.value:Mc.textContent,Md=!0)),G=Ey(c,N),0<G.length&&(N=new jI(N,t,null,n,u),h.push({event:N,listeners:G}),D?N.data=D:(D=o6(n),D!==null&&(N.data=D)))),(D=Wz?Gz(t,n):Kz(t,n))&&(c=Ey(c,"onBeforeInput"),0<c.length&&(u=new jI("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=D))}v6(h,e)})}function Km(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ey(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Bm(t,n),s!=null&&r.unshift(Km(t,s,i)),s=Bm(t,e),s!=null&&r.push(Km(t,s,i))),t=t.return}return r}function wd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function YI(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Bm(n,s),l!=null&&o.unshift(Km(n,l,a))):i||(l=Bm(n,s),l!=null&&o.push(Km(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var l$=/\r\n?/g,c$=/\u0000|\uFFFD/g;function XI(t){return(typeof t=="string"?t:""+t).replace(l$,`
`).replace(c$,"")}function W0(t,e,n){if(e=XI(e),XI(t)!==e&&n)throw Error(je(425))}function Ay(){}var O5=null,j5=null;function F5(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var V5=typeof setTimeout=="function"?setTimeout:void 0,u$=typeof clearTimeout=="function"?clearTimeout:void 0,QI=typeof Promise=="function"?Promise:void 0,h$=typeof queueMicrotask=="function"?queueMicrotask:typeof QI<"u"?function(t){return QI.resolve(null).then(t).catch(d$)}:V5;function d$(t){setTimeout(function(){throw t})}function Ow(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),qm(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);qm(e)}function qc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function JI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Jf=Math.random().toString(36).slice(2),Aa="__reactFiber$"+Jf,Ym="__reactProps$"+Jf,Nl="__reactContainer$"+Jf,U5="__reactEvents$"+Jf,f$="__reactListeners$"+Jf,p$="__reactHandles$"+Jf;function th(t){var e=t[Aa];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Nl]||n[Aa]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=JI(t);t!==null;){if(n=t[Aa])return n;t=JI(t)}return e}t=n,n=t.parentNode}return null}function Fg(t){return t=t[Aa]||t[Nl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(je(33))}function Vv(t){return t[Ym]||null}var B5=[],Vd=-1;function _u(t){return{current:t}}function Hn(t){0>Vd||(t.current=B5[Vd],B5[Vd]=null,Vd--)}function jn(t,e){Vd++,B5[Vd]=t.current,t.current=e}var iu={},Pi=_u(iu),ps=_u(!1),Ah=iu;function Cf(t,e){var n=t.type.contextTypes;if(!n)return iu;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ms(t){return t=t.childContextTypes,t!=null}function Ty(){Hn(ps),Hn(Pi)}function ZI(t,e,n){if(Pi.current!==iu)throw Error(je(168));jn(Pi,e),jn(ps,n)}function _6(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(je(108,JB(t)||"Unknown",i));return nr({},n,r)}function Iy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||iu,Ah=Pi.current,jn(Pi,t),jn(ps,ps.current),!0}function e4(t,e,n){var r=t.stateNode;if(!r)throw Error(je(169));n?(t=_6(t,e,Ah),r.__reactInternalMemoizedMergedChildContext=t,Hn(ps),Hn(Pi),jn(Pi,t)):Hn(ps),jn(ps,n)}var gl=null,Uv=!1,jw=!1;function b6(t){gl===null?gl=[t]:gl.push(t)}function m$(t){Uv=!0,b6(t)}function bu(){if(!jw&&gl!==null){jw=!0;var t=0,e=_n;try{var n=gl;for(_n=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}gl=null,Uv=!1}catch(i){throw gl!==null&&(gl=gl.slice(t+1)),WR(aS,bu),i}finally{_n=e,jw=!1}}return null}var Ud=[],Bd=0,Cy=null,Ny=0,lo=[],co=0,Th=null,bl=1,xl="";function Yu(t,e){Ud[Bd++]=Ny,Ud[Bd++]=Cy,Cy=t,Ny=e}function x6(t,e,n){lo[co++]=bl,lo[co++]=xl,lo[co++]=Th,Th=t;var r=bl;t=xl;var i=32-$o(r)-1;r&=~(1<<i),n+=1;var s=32-$o(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,bl=1<<32-$o(e)+i|n<<i|r,xl=s+t}else bl=1<<s|n<<i|r,xl=t}function gS(t){t.return!==null&&(Yu(t,1),x6(t,1,0))}function yS(t){for(;t===Cy;)Cy=Ud[--Bd],Ud[Bd]=null,Ny=Ud[--Bd],Ud[Bd]=null;for(;t===Th;)Th=lo[--co],lo[co]=null,xl=lo[--co],lo[co]=null,bl=lo[--co],lo[co]=null}var Us=null,Ms=null,Qn=!1,Bo=null;function S6(t,e){var n=fo(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function t4(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Us=t,Ms=qc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Us=t,Ms=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Th!==null?{id:bl,overflow:xl}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fo(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Us=t,Ms=null,!0):!1;default:return!1}}function z5(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $5(t){if(Qn){var e=Ms;if(e){var n=e;if(!t4(t,e)){if(z5(t))throw Error(je(418));e=qc(n.nextSibling);var r=Us;e&&t4(t,e)?S6(r,n):(t.flags=t.flags&-4097|2,Qn=!1,Us=t)}}else{if(z5(t))throw Error(je(418));t.flags=t.flags&-4097|2,Qn=!1,Us=t}}}function n4(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Us=t}function G0(t){if(t!==Us)return!1;if(!Qn)return n4(t),Qn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!F5(t.type,t.memoizedProps)),e&&(e=Ms)){if(z5(t))throw E6(),Error(je(418));for(;e;)S6(t,e),e=qc(e.nextSibling)}if(n4(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(je(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ms=qc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ms=null}}else Ms=Us?qc(t.stateNode.nextSibling):null;return!0}function E6(){for(var t=Ms;t;)t=qc(t.nextSibling)}function Nf(){Ms=Us=null,Qn=!1}function vS(t){Bo===null?Bo=[t]:Bo.push(t)}var g$=Ul.ReactCurrentBatchConfig;function Vp(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(je(309));var r=n.stateNode}if(!r)throw Error(je(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(je(284));if(!n._owner)throw Error(je(290,t))}return t}function K0(t,e){throw t=Object.prototype.toString.call(e),Error(je(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function r4(t){var e=t._init;return e(t._payload)}function A6(t){function e(w,S){if(t){var E=w.deletions;E===null?(w.deletions=[S],w.flags|=16):E.push(S)}}function n(w,S){if(!t)return null;for(;S!==null;)e(w,S),S=S.sibling;return null}function r(w,S){for(w=new Map;S!==null;)S.key!==null?w.set(S.key,S):w.set(S.index,S),S=S.sibling;return w}function i(w,S){return w=Kc(w,S),w.index=0,w.sibling=null,w}function s(w,S,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<S?(w.flags|=2,S):E):(w.flags|=2,S)):(w.flags|=1048576,S)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,S,E,k){return S===null||S.tag!==6?(S=qw(E,w.mode,k),S.return=w,S):(S=i(S,E),S.return=w,S)}function l(w,S,E,k){var B=E.type;return B===Dd?u(w,S,E.props.children,k,E.key):S!==null&&(S.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===_c&&r4(B)===S.type)?(k=i(S,E.props),k.ref=Vp(w,S,E),k.return=w,k):(k=B1(E.type,E.key,E.props,null,w.mode,k),k.ref=Vp(w,S,E),k.return=w,k)}function c(w,S,E,k){return S===null||S.tag!==4||S.stateNode.containerInfo!==E.containerInfo||S.stateNode.implementation!==E.implementation?(S=Hw(E,w.mode,k),S.return=w,S):(S=i(S,E.children||[]),S.return=w,S)}function u(w,S,E,k,B){return S===null||S.tag!==7?(S=vh(E,w.mode,k,B),S.return=w,S):(S=i(S,E),S.return=w,S)}function h(w,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return S=qw(""+S,w.mode,E),S.return=w,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case j0:return E=B1(S.type,S.key,S.props,null,w.mode,E),E.ref=Vp(w,null,S),E.return=w,E;case Ld:return S=Hw(S,w.mode,E),S.return=w,S;case _c:var k=S._init;return h(w,k(S._payload),E)}if(Xp(S)||Dp(S))return S=vh(S,w.mode,E,null),S.return=w,S;K0(w,S)}return null}function p(w,S,E,k){var B=S!==null?S.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return B!==null?null:a(w,S,""+E,k);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case j0:return E.key===B?l(w,S,E,k):null;case Ld:return E.key===B?c(w,S,E,k):null;case _c:return B=E._init,p(w,S,B(E._payload),k)}if(Xp(E)||Dp(E))return B!==null?null:u(w,S,E,k,null);K0(w,E)}return null}function d(w,S,E,k,B){if(typeof k=="string"&&k!==""||typeof k=="number")return w=w.get(E)||null,a(S,w,""+k,B);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case j0:return w=w.get(k.key===null?E:k.key)||null,l(S,w,k,B);case Ld:return w=w.get(k.key===null?E:k.key)||null,c(S,w,k,B);case _c:var G=k._init;return d(w,S,E,G(k._payload),B)}if(Xp(k)||Dp(k))return w=w.get(E)||null,u(S,w,k,B,null);K0(S,k)}return null}function b(w,S,E,k){for(var B=null,G=null,D=S,N=S=0,P=null;D!==null&&N<E.length;N++){D.index>N?(P=D,D=null):P=D.sibling;var j=p(w,D,E[N],k);if(j===null){D===null&&(D=P);break}t&&D&&j.alternate===null&&e(w,D),S=s(j,S,N),G===null?B=j:G.sibling=j,G=j,D=P}if(N===E.length)return n(w,D),Qn&&Yu(w,N),B;if(D===null){for(;N<E.length;N++)D=h(w,E[N],k),D!==null&&(S=s(D,S,N),G===null?B=D:G.sibling=D,G=D);return Qn&&Yu(w,N),B}for(D=r(w,D);N<E.length;N++)P=d(D,w,N,E[N],k),P!==null&&(t&&P.alternate!==null&&D.delete(P.key===null?N:P.key),S=s(P,S,N),G===null?B=P:G.sibling=P,G=P);return t&&D.forEach(function(I){return e(w,I)}),Qn&&Yu(w,N),B}function y(w,S,E,k){var B=Dp(E);if(typeof B!="function")throw Error(je(150));if(E=B.call(E),E==null)throw Error(je(151));for(var G=B=null,D=S,N=S=0,P=null,j=E.next();D!==null&&!j.done;N++,j=E.next()){D.index>N?(P=D,D=null):P=D.sibling;var I=p(w,D,j.value,k);if(I===null){D===null&&(D=P);break}t&&D&&I.alternate===null&&e(w,D),S=s(I,S,N),G===null?B=I:G.sibling=I,G=I,D=P}if(j.done)return n(w,D),Qn&&Yu(w,N),B;if(D===null){for(;!j.done;N++,j=E.next())j=h(w,j.value,k),j!==null&&(S=s(j,S,N),G===null?B=j:G.sibling=j,G=j);return Qn&&Yu(w,N),B}for(D=r(w,D);!j.done;N++,j=E.next())j=d(D,w,N,j.value,k),j!==null&&(t&&j.alternate!==null&&D.delete(j.key===null?N:j.key),S=s(j,S,N),G===null?B=j:G.sibling=j,G=j);return t&&D.forEach(function(L){return e(w,L)}),Qn&&Yu(w,N),B}function _(w,S,E,k){if(typeof E=="object"&&E!==null&&E.type===Dd&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case j0:e:{for(var B=E.key,G=S;G!==null;){if(G.key===B){if(B=E.type,B===Dd){if(G.tag===7){n(w,G.sibling),S=i(G,E.props.children),S.return=w,w=S;break e}}else if(G.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===_c&&r4(B)===G.type){n(w,G.sibling),S=i(G,E.props),S.ref=Vp(w,G,E),S.return=w,w=S;break e}n(w,G);break}else e(w,G);G=G.sibling}E.type===Dd?(S=vh(E.props.children,w.mode,k,E.key),S.return=w,w=S):(k=B1(E.type,E.key,E.props,null,w.mode,k),k.ref=Vp(w,S,E),k.return=w,w=k)}return o(w);case Ld:e:{for(G=E.key;S!==null;){if(S.key===G)if(S.tag===4&&S.stateNode.containerInfo===E.containerInfo&&S.stateNode.implementation===E.implementation){n(w,S.sibling),S=i(S,E.children||[]),S.return=w,w=S;break e}else{n(w,S);break}else e(w,S);S=S.sibling}S=Hw(E,w.mode,k),S.return=w,w=S}return o(w);case _c:return G=E._init,_(w,S,G(E._payload),k)}if(Xp(E))return b(w,S,E,k);if(Dp(E))return y(w,S,E,k);K0(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,S!==null&&S.tag===6?(n(w,S.sibling),S=i(S,E),S.return=w,w=S):(n(w,S),S=qw(E,w.mode,k),S.return=w,w=S),o(w)):n(w,S)}return _}var Pf=A6(!0),T6=A6(!1),Py=_u(null),ky=null,zd=null,wS=null;function _S(){wS=zd=ky=null}function bS(t){var e=Py.current;Hn(Py),t._currentValue=e}function q5(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function nf(t,e){ky=t,wS=zd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hs=!0),t.firstContext=null)}function wo(t){var e=t._currentValue;if(wS!==t)if(t={context:t,memoizedValue:e,next:null},zd===null){if(ky===null)throw Error(je(308));zd=t,ky.dependencies={lanes:0,firstContext:t}}else zd=zd.next=t;return e}var nh=null;function xS(t){nh===null?nh=[t]:nh.push(t)}function I6(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,xS(e)):(n.next=i.next,i.next=n),e.interleaved=n,Pl(t,r)}function Pl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bc=!1;function SS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C6(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Al(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Hc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,an&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Pl(t,n)}return i=r.interleaved,i===null?(e.next=e,xS(r)):(e.next=i.next,i.next=e),r.interleaved=e,Pl(t,n)}function M1(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lS(t,n)}}function i4(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ry(t,e,n,r){var i=t.updateQueue;bc=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var p=a.lane,d=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,y=a;switch(p=e,d=n,y.tag){case 1:if(b=y.payload,typeof b=="function"){h=b.call(d,h,p);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=y.payload,p=typeof b=="function"?b.call(d,h,p):b,p==null)break e;h=nr({},h,p);break e;case 2:bc=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else d={eventTime:d,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=d,l=h):u=u.next=d,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ch|=o,t.lanes=o,t.memoizedState=h}}function s4(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(je(191,i));i.call(r)}}}var Vg={},Ra=_u(Vg),Xm=_u(Vg),Qm=_u(Vg);function rh(t){if(t===Vg)throw Error(je(174));return t}function ES(t,e){switch(jn(Qm,e),jn(Xm,t),jn(Ra,Vg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:E5(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=E5(e,t)}Hn(Ra),jn(Ra,e)}function kf(){Hn(Ra),Hn(Xm),Hn(Qm)}function N6(t){rh(Qm.current);var e=rh(Ra.current),n=E5(e,t.type);e!==n&&(jn(Xm,t),jn(Ra,n))}function AS(t){Xm.current===t&&(Hn(Ra),Hn(Xm))}var Zn=_u(0);function Ly(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fw=[];function TS(){for(var t=0;t<Fw.length;t++)Fw[t]._workInProgressVersionPrimary=null;Fw.length=0}var O1=Ul.ReactCurrentDispatcher,Vw=Ul.ReactCurrentBatchConfig,Ih=0,tr=null,qr=null,Qr=null,Dy=!1,mm=!1,Jm=0,y$=0;function vi(){throw Error(je(321))}function IS(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Go(t[n],e[n]))return!1;return!0}function CS(t,e,n,r,i,s){if(Ih=s,tr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,O1.current=t===null||t.memoizedState===null?b$:x$,t=n(r,i),mm){s=0;do{if(mm=!1,Jm=0,25<=s)throw Error(je(301));s+=1,Qr=qr=null,e.updateQueue=null,O1.current=S$,t=n(r,i)}while(mm)}if(O1.current=My,e=qr!==null&&qr.next!==null,Ih=0,Qr=qr=tr=null,Dy=!1,e)throw Error(je(300));return t}function NS(){var t=Jm!==0;return Jm=0,t}function _a(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qr===null?tr.memoizedState=Qr=t:Qr=Qr.next=t,Qr}function _o(){if(qr===null){var t=tr.alternate;t=t!==null?t.memoizedState:null}else t=qr.next;var e=Qr===null?tr.memoizedState:Qr.next;if(e!==null)Qr=e,qr=t;else{if(t===null)throw Error(je(310));qr=t,t={memoizedState:qr.memoizedState,baseState:qr.baseState,baseQueue:qr.baseQueue,queue:qr.queue,next:null},Qr===null?tr.memoizedState=Qr=t:Qr=Qr.next=t}return Qr}function Zm(t,e){return typeof e=="function"?e(t):e}function Uw(t){var e=_o(),n=e.queue;if(n===null)throw Error(je(311));n.lastRenderedReducer=t;var r=qr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Ih&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,tr.lanes|=u,Ch|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Go(r,e.memoizedState)||(hs=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,tr.lanes|=s,Ch|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bw(t){var e=_o(),n=e.queue;if(n===null)throw Error(je(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Go(s,e.memoizedState)||(hs=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function P6(){}function k6(t,e){var n=tr,r=_o(),i=e(),s=!Go(r.memoizedState,i);if(s&&(r.memoizedState=i,hs=!0),r=r.queue,PS(D6.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Qr!==null&&Qr.memoizedState.tag&1){if(n.flags|=2048,eg(9,L6.bind(null,n,r,i,e),void 0,null),Zr===null)throw Error(je(349));Ih&30||R6(n,e,i)}return i}function R6(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=tr.updateQueue,e===null?(e={lastEffect:null,stores:null},tr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function L6(t,e,n,r){e.value=n,e.getSnapshot=r,M6(e)&&O6(t)}function D6(t,e,n){return n(function(){M6(e)&&O6(t)})}function M6(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Go(t,n)}catch{return!0}}function O6(t){var e=Pl(t,1);e!==null&&qo(e,t,1,-1)}function o4(t){var e=_a();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zm,lastRenderedState:t},e.queue=t,t=t.dispatch=_$.bind(null,tr,t),[e.memoizedState,t]}function eg(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=tr.updateQueue,e===null?(e={lastEffect:null,stores:null},tr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function j6(){return _o().memoizedState}function j1(t,e,n,r){var i=_a();tr.flags|=t,i.memoizedState=eg(1|e,n,void 0,r===void 0?null:r)}function Bv(t,e,n,r){var i=_o();r=r===void 0?null:r;var s=void 0;if(qr!==null){var o=qr.memoizedState;if(s=o.destroy,r!==null&&IS(r,o.deps)){i.memoizedState=eg(e,n,s,r);return}}tr.flags|=t,i.memoizedState=eg(1|e,n,s,r)}function a4(t,e){return j1(8390656,8,t,e)}function PS(t,e){return Bv(2048,8,t,e)}function F6(t,e){return Bv(4,2,t,e)}function V6(t,e){return Bv(4,4,t,e)}function U6(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function B6(t,e,n){return n=n!=null?n.concat([t]):null,Bv(4,4,U6.bind(null,e,t),n)}function kS(){}function z6(t,e){var n=_o();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&IS(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function $6(t,e){var n=_o();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&IS(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function q6(t,e,n){return Ih&21?(Go(n,e)||(n=YR(),tr.lanes|=n,Ch|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hs=!0),t.memoizedState=n)}function v$(t,e){var n=_n;_n=n!==0&&4>n?n:4,t(!0);var r=Vw.transition;Vw.transition={};try{t(!1),e()}finally{_n=n,Vw.transition=r}}function H6(){return _o().memoizedState}function w$(t,e,n){var r=Gc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},W6(t))G6(e,n);else if(n=I6(t,e,n,r),n!==null){var i=Wi();qo(n,t,r,i),K6(n,e,r)}}function _$(t,e,n){var r=Gc(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(W6(t))G6(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Go(a,o)){var l=e.interleaved;l===null?(i.next=i,xS(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=I6(t,e,i,r),n!==null&&(i=Wi(),qo(n,t,r,i),K6(n,e,r))}}function W6(t){var e=t.alternate;return t===tr||e!==null&&e===tr}function G6(t,e){mm=Dy=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function K6(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lS(t,n)}}var My={readContext:wo,useCallback:vi,useContext:vi,useEffect:vi,useImperativeHandle:vi,useInsertionEffect:vi,useLayoutEffect:vi,useMemo:vi,useReducer:vi,useRef:vi,useState:vi,useDebugValue:vi,useDeferredValue:vi,useTransition:vi,useMutableSource:vi,useSyncExternalStore:vi,useId:vi,unstable_isNewReconciler:!1},b$={readContext:wo,useCallback:function(t,e){return _a().memoizedState=[t,e===void 0?null:e],t},useContext:wo,useEffect:a4,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,j1(4194308,4,U6.bind(null,e,t),n)},useLayoutEffect:function(t,e){return j1(4194308,4,t,e)},useInsertionEffect:function(t,e){return j1(4,2,t,e)},useMemo:function(t,e){var n=_a();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_a();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=w$.bind(null,tr,t),[r.memoizedState,t]},useRef:function(t){var e=_a();return t={current:t},e.memoizedState=t},useState:o4,useDebugValue:kS,useDeferredValue:function(t){return _a().memoizedState=t},useTransition:function(){var t=o4(!1),e=t[0];return t=v$.bind(null,t[1]),_a().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=tr,i=_a();if(Qn){if(n===void 0)throw Error(je(407));n=n()}else{if(n=e(),Zr===null)throw Error(je(349));Ih&30||R6(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,a4(D6.bind(null,r,s,t),[t]),r.flags|=2048,eg(9,L6.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=_a(),e=Zr.identifierPrefix;if(Qn){var n=xl,r=bl;n=(r&~(1<<32-$o(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Jm++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=y$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},x$={readContext:wo,useCallback:z6,useContext:wo,useEffect:PS,useImperativeHandle:B6,useInsertionEffect:F6,useLayoutEffect:V6,useMemo:$6,useReducer:Uw,useRef:j6,useState:function(){return Uw(Zm)},useDebugValue:kS,useDeferredValue:function(t){var e=_o();return q6(e,qr.memoizedState,t)},useTransition:function(){var t=Uw(Zm)[0],e=_o().memoizedState;return[t,e]},useMutableSource:P6,useSyncExternalStore:k6,useId:H6,unstable_isNewReconciler:!1},S$={readContext:wo,useCallback:z6,useContext:wo,useEffect:PS,useImperativeHandle:B6,useInsertionEffect:F6,useLayoutEffect:V6,useMemo:$6,useReducer:Bw,useRef:j6,useState:function(){return Bw(Zm)},useDebugValue:kS,useDeferredValue:function(t){var e=_o();return qr===null?e.memoizedState=t:q6(e,qr.memoizedState,t)},useTransition:function(){var t=Bw(Zm)[0],e=_o().memoizedState;return[t,e]},useMutableSource:P6,useSyncExternalStore:k6,useId:H6,unstable_isNewReconciler:!1};function Oo(t,e){if(t&&t.defaultProps){e=nr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function H5(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:nr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zv={isMounted:function(t){return(t=t._reactInternals)?Gh(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wi(),i=Gc(t),s=Al(r,i);s.payload=e,n!=null&&(s.callback=n),e=Hc(t,s,i),e!==null&&(qo(e,t,i,r),M1(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wi(),i=Gc(t),s=Al(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Hc(t,s,i),e!==null&&(qo(e,t,i,r),M1(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wi(),r=Gc(t),i=Al(n,r);i.tag=2,e!=null&&(i.callback=e),e=Hc(t,i,r),e!==null&&(qo(e,t,r,n),M1(e,t,r))}};function l4(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Wm(n,r)||!Wm(i,s):!0}function Y6(t,e,n){var r=!1,i=iu,s=e.contextType;return typeof s=="object"&&s!==null?s=wo(s):(i=ms(e)?Ah:Pi.current,r=e.contextTypes,s=(r=r!=null)?Cf(t,i):iu),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function c4(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zv.enqueueReplaceState(e,e.state,null)}function W5(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},SS(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=wo(s):(s=ms(e)?Ah:Pi.current,i.context=Cf(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(H5(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&zv.enqueueReplaceState(i,i.state,null),Ry(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Rf(t,e){try{var n="",r=e;do n+=QB(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function zw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function G5(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var E$=typeof WeakMap=="function"?WeakMap:Map;function X6(t,e,n){n=Al(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){jy||(jy=!0,rb=r),G5(t,e)},n}function Q6(t,e,n){n=Al(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){G5(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){G5(t,e),typeof r!="function"&&(Wc===null?Wc=new Set([this]):Wc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function u4(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new E$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=F$.bind(null,t,e,n),e.then(t,t))}function h4(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function d4(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Al(-1,1),e.tag=2,Hc(n,e,1))),n.lanes|=1),t)}var A$=Ul.ReactCurrentOwner,hs=!1;function zi(t,e,n,r){e.child=t===null?T6(e,null,n,r):Pf(e,t.child,n,r)}function f4(t,e,n,r,i){n=n.render;var s=e.ref;return nf(e,i),r=CS(t,e,n,r,s,i),n=NS(),t!==null&&!hs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,kl(t,e,i)):(Qn&&n&&gS(e),e.flags|=1,zi(t,e,r,i),e.child)}function p4(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!VS(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,J6(t,e,s,r,i)):(t=B1(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Wm,n(o,r)&&t.ref===e.ref)return kl(t,e,i)}return e.flags|=1,t=Kc(s,r),t.ref=e.ref,t.return=e,e.child=t}function J6(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Wm(s,r)&&t.ref===e.ref)if(hs=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(hs=!0);else return e.lanes=t.lanes,kl(t,e,i)}return K5(t,e,n,r,i)}function Z6(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},jn(qd,Rs),Rs|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,jn(qd,Rs),Rs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,jn(qd,Rs),Rs|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,jn(qd,Rs),Rs|=r;return zi(t,e,i,n),e.child}function eL(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function K5(t,e,n,r,i){var s=ms(n)?Ah:Pi.current;return s=Cf(e,s),nf(e,i),n=CS(t,e,n,r,s,i),r=NS(),t!==null&&!hs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,kl(t,e,i)):(Qn&&r&&gS(e),e.flags|=1,zi(t,e,n,i),e.child)}function m4(t,e,n,r,i){if(ms(n)){var s=!0;Iy(e)}else s=!1;if(nf(e,i),e.stateNode===null)F1(t,e),Y6(e,n,r),W5(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=wo(c):(c=ms(n)?Ah:Pi.current,c=Cf(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&c4(e,o,r,c),bc=!1;var p=e.memoizedState;o.state=p,Ry(e,r,o,i),l=e.memoizedState,a!==r||p!==l||ps.current||bc?(typeof u=="function"&&(H5(e,n,u,r),l=e.memoizedState),(a=bc||l4(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,C6(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Oo(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=wo(l):(l=ms(n)?Ah:Pi.current,l=Cf(e,l));var d=n.getDerivedStateFromProps;(u=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&c4(e,o,r,l),bc=!1,p=e.memoizedState,o.state=p,Ry(e,r,o,i);var b=e.memoizedState;a!==h||p!==b||ps.current||bc?(typeof d=="function"&&(H5(e,n,d,r),b=e.memoizedState),(c=bc||l4(e,n,c,r,p,b,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Y5(t,e,n,r,s,i)}function Y5(t,e,n,r,i,s){eL(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&e4(e,n,!1),kl(t,e,s);r=e.stateNode,A$.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Pf(e,t.child,null,s),e.child=Pf(e,null,a,s)):zi(t,e,a,s),e.memoizedState=r.state,i&&e4(e,n,!0),e.child}function tL(t){var e=t.stateNode;e.pendingContext?ZI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ZI(t,e.context,!1),ES(t,e.containerInfo)}function g4(t,e,n,r,i){return Nf(),vS(i),e.flags|=256,zi(t,e,n,r),e.child}var X5={dehydrated:null,treeContext:null,retryLane:0};function Q5(t){return{baseLanes:t,cachePool:null,transitions:null}}function nL(t,e,n){var r=e.pendingProps,i=Zn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),jn(Zn,i&1),t===null)return $5(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Hv(o,r,0,null),t=vh(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Q5(n),e.memoizedState=X5,t):RS(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return T$(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Kc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Kc(a,s):(s=vh(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Q5(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=X5,r}return s=t.child,t=s.sibling,r=Kc(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function RS(t,e){return e=Hv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Y0(t,e,n,r){return r!==null&&vS(r),Pf(e,t.child,null,n),t=RS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function T$(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=zw(Error(je(422))),Y0(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Hv({mode:"visible",children:r.children},i,0,null),s=vh(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Pf(e,t.child,null,o),e.child.memoizedState=Q5(o),e.memoizedState=X5,s);if(!(e.mode&1))return Y0(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(je(419)),r=zw(s,r,void 0),Y0(t,e,o,r)}if(a=(o&t.childLanes)!==0,hs||a){if(r=Zr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Pl(t,i),qo(r,t,i,-1))}return FS(),r=zw(Error(je(421))),Y0(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=V$.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ms=qc(i.nextSibling),Us=e,Qn=!0,Bo=null,t!==null&&(lo[co++]=bl,lo[co++]=xl,lo[co++]=Th,bl=t.id,xl=t.overflow,Th=e),e=RS(e,r.children),e.flags|=4096,e)}function y4(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),q5(t.return,e,n)}function $w(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function rL(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(zi(t,e,r.children,n),r=Zn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&y4(t,n,e);else if(t.tag===19)y4(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(jn(Zn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ly(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),$w(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ly(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}$w(e,!0,n,null,s);break;case"together":$w(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function F1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function kl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ch|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(je(153));if(e.child!==null){for(t=e.child,n=Kc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Kc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function I$(t,e,n){switch(e.tag){case 3:tL(e),Nf();break;case 5:N6(e);break;case 1:ms(e.type)&&Iy(e);break;case 4:ES(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;jn(Py,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(jn(Zn,Zn.current&1),e.flags|=128,null):n&e.child.childLanes?nL(t,e,n):(jn(Zn,Zn.current&1),t=kl(t,e,n),t!==null?t.sibling:null);jn(Zn,Zn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return rL(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),jn(Zn,Zn.current),r)break;return null;case 22:case 23:return e.lanes=0,Z6(t,e,n)}return kl(t,e,n)}var iL,J5,sL,oL;iL=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};J5=function(){};sL=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,rh(Ra.current);var s=null;switch(n){case"input":i=_5(t,i),r=_5(t,r),s=[];break;case"select":i=nr({},i,{value:void 0}),r=nr({},r,{value:void 0}),s=[];break;case"textarea":i=S5(t,i),r=S5(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ay)}A5(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Vm.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Vm.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Bn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};oL=function(t,e,n,r){n!==r&&(e.flags|=4)};function Up(t,e){if(!Qn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function wi(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function C$(t,e,n){var r=e.pendingProps;switch(yS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wi(e),null;case 1:return ms(e.type)&&Ty(),wi(e),null;case 3:return r=e.stateNode,kf(),Hn(ps),Hn(Pi),TS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(G0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bo!==null&&(ob(Bo),Bo=null))),J5(t,e),wi(e),null;case 5:AS(e);var i=rh(Qm.current);if(n=e.type,t!==null&&e.stateNode!=null)sL(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(je(166));return wi(e),null}if(t=rh(Ra.current),G0(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Aa]=e,r[Ym]=s,t=(e.mode&1)!==0,n){case"dialog":Bn("cancel",r),Bn("close",r);break;case"iframe":case"object":case"embed":Bn("load",r);break;case"video":case"audio":for(i=0;i<Jp.length;i++)Bn(Jp[i],r);break;case"source":Bn("error",r);break;case"img":case"image":case"link":Bn("error",r),Bn("load",r);break;case"details":Bn("toggle",r);break;case"input":TI(r,s),Bn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Bn("invalid",r);break;case"textarea":CI(r,s),Bn("invalid",r)}A5(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&W0(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&W0(r.textContent,a,t),i=["children",""+a]):Vm.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Bn("scroll",r)}switch(n){case"input":F0(r),II(r,s,!0);break;case"textarea":F0(r),NI(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ay)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=DR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Aa]=e,t[Ym]=r,iL(t,e,!1,!1),e.stateNode=t;e:{switch(o=T5(n,r),n){case"dialog":Bn("cancel",t),Bn("close",t),i=r;break;case"iframe":case"object":case"embed":Bn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Jp.length;i++)Bn(Jp[i],t);i=r;break;case"source":Bn("error",t),i=r;break;case"img":case"image":case"link":Bn("error",t),Bn("load",t),i=r;break;case"details":Bn("toggle",t),i=r;break;case"input":TI(t,r),i=_5(t,r),Bn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=nr({},r,{value:void 0}),Bn("invalid",t);break;case"textarea":CI(t,r),i=S5(t,r),Bn("invalid",t);break;default:i=r}A5(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?jR(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&MR(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Um(t,l):typeof l=="number"&&Um(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vm.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Bn("scroll",t):l!=null&&nS(t,s,l,o))}switch(n){case"input":F0(t),II(t,r,!1);break;case"textarea":F0(t),NI(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ru(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Jd(t,!!r.multiple,s,!1):r.defaultValue!=null&&Jd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ay)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wi(e),null;case 6:if(t&&e.stateNode!=null)oL(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(je(166));if(n=rh(Qm.current),rh(Ra.current),G0(e)){if(r=e.stateNode,n=e.memoizedProps,r[Aa]=e,(s=r.nodeValue!==n)&&(t=Us,t!==null))switch(t.tag){case 3:W0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&W0(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Aa]=e,e.stateNode=r}return wi(e),null;case 13:if(Hn(Zn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qn&&Ms!==null&&e.mode&1&&!(e.flags&128))E6(),Nf(),e.flags|=98560,s=!1;else if(s=G0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(je(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(je(317));s[Aa]=e}else Nf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wi(e),s=!1}else Bo!==null&&(ob(Bo),Bo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Zn.current&1?Wr===0&&(Wr=3):FS())),e.updateQueue!==null&&(e.flags|=4),wi(e),null);case 4:return kf(),J5(t,e),t===null&&Gm(e.stateNode.containerInfo),wi(e),null;case 10:return bS(e.type._context),wi(e),null;case 17:return ms(e.type)&&Ty(),wi(e),null;case 19:if(Hn(Zn),s=e.memoizedState,s===null)return wi(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Up(s,!1);else{if(Wr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ly(t),o!==null){for(e.flags|=128,Up(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return jn(Zn,Zn.current&1|2),e.child}t=t.sibling}s.tail!==null&&xr()>Lf&&(e.flags|=128,r=!0,Up(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ly(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Up(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Qn)return wi(e),null}else 2*xr()-s.renderingStartTime>Lf&&n!==1073741824&&(e.flags|=128,r=!0,Up(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=xr(),e.sibling=null,n=Zn.current,jn(Zn,r?n&1|2:n&1),e):(wi(e),null);case 22:case 23:return jS(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rs&1073741824&&(wi(e),e.subtreeFlags&6&&(e.flags|=8192)):wi(e),null;case 24:return null;case 25:return null}throw Error(je(156,e.tag))}function N$(t,e){switch(yS(e),e.tag){case 1:return ms(e.type)&&Ty(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return kf(),Hn(ps),Hn(Pi),TS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return AS(e),null;case 13:if(Hn(Zn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(je(340));Nf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Hn(Zn),null;case 4:return kf(),null;case 10:return bS(e.type._context),null;case 22:case 23:return jS(),null;case 24:return null;default:return null}}var X0=!1,Ii=!1,P$=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function $d(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){hr(t,e,r)}else n.current=null}function Z5(t,e,n){try{n()}catch(r){hr(t,e,r)}}var v4=!1;function k$(t,e){if(O5=xy,t=h6(),mS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,p=null;t:for(;;){for(var d;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(d=h.firstChild)!==null;)p=h,h=d;for(;;){if(h===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++u===r&&(l=o),(d=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(j5={focusedElem:t,selectionRange:n},xy=!1,Ye=e;Ye!==null;)if(e=Ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ye=t;else for(;Ye!==null;){e=Ye;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var y=b.memoizedProps,_=b.memoizedState,w=e.stateNode,S=w.getSnapshotBeforeUpdate(e.elementType===e.type?y:Oo(e.type,y),_);w.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(je(163))}}catch(k){hr(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Ye=t;break}Ye=e.return}return b=v4,v4=!1,b}function gm(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Z5(e,n,s)}i=i.next}while(i!==r)}}function $v(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function eb(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function aL(t){var e=t.alternate;e!==null&&(t.alternate=null,aL(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Aa],delete e[Ym],delete e[U5],delete e[f$],delete e[p$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lL(t){return t.tag===5||t.tag===3||t.tag===4}function w4(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lL(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ay));else if(r!==4&&(t=t.child,t!==null))for(tb(t,e,n),t=t.sibling;t!==null;)tb(t,e,n),t=t.sibling}function nb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(nb(t,e,n),t=t.sibling;t!==null;)nb(t,e,n),t=t.sibling}var ii=null,Uo=!1;function hc(t,e,n){for(n=n.child;n!==null;)cL(t,e,n),n=n.sibling}function cL(t,e,n){if(ka&&typeof ka.onCommitFiberUnmount=="function")try{ka.onCommitFiberUnmount(Mv,n)}catch{}switch(n.tag){case 5:Ii||$d(n,e);case 6:var r=ii,i=Uo;ii=null,hc(t,e,n),ii=r,Uo=i,ii!==null&&(Uo?(t=ii,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ii.removeChild(n.stateNode));break;case 18:ii!==null&&(Uo?(t=ii,n=n.stateNode,t.nodeType===8?Ow(t.parentNode,n):t.nodeType===1&&Ow(t,n),qm(t)):Ow(ii,n.stateNode));break;case 4:r=ii,i=Uo,ii=n.stateNode.containerInfo,Uo=!0,hc(t,e,n),ii=r,Uo=i;break;case 0:case 11:case 14:case 15:if(!Ii&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Z5(n,e,o),i=i.next}while(i!==r)}hc(t,e,n);break;case 1:if(!Ii&&($d(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){hr(n,e,a)}hc(t,e,n);break;case 21:hc(t,e,n);break;case 22:n.mode&1?(Ii=(r=Ii)||n.memoizedState!==null,hc(t,e,n),Ii=r):hc(t,e,n);break;default:hc(t,e,n)}}function _4(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new P$),e.forEach(function(r){var i=U$.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ko(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ii=a.stateNode,Uo=!1;break e;case 3:ii=a.stateNode.containerInfo,Uo=!0;break e;case 4:ii=a.stateNode.containerInfo,Uo=!0;break e}a=a.return}if(ii===null)throw Error(je(160));cL(s,o,i),ii=null,Uo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){hr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uL(e,t),e=e.sibling}function uL(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ko(e,t),ga(t),r&4){try{gm(3,t,t.return),$v(3,t)}catch(y){hr(t,t.return,y)}try{gm(5,t,t.return)}catch(y){hr(t,t.return,y)}}break;case 1:ko(e,t),ga(t),r&512&&n!==null&&$d(n,n.return);break;case 5:if(ko(e,t),ga(t),r&512&&n!==null&&$d(n,n.return),t.flags&32){var i=t.stateNode;try{Um(i,"")}catch(y){hr(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&RR(i,s),T5(a,o);var c=T5(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?jR(i,h):u==="dangerouslySetInnerHTML"?MR(i,h):u==="children"?Um(i,h):nS(i,u,h,c)}switch(a){case"input":b5(i,s);break;case"textarea":LR(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?Jd(i,!!s.multiple,d,!1):p!==!!s.multiple&&(s.defaultValue!=null?Jd(i,!!s.multiple,s.defaultValue,!0):Jd(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ym]=s}catch(y){hr(t,t.return,y)}}break;case 6:if(ko(e,t),ga(t),r&4){if(t.stateNode===null)throw Error(je(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){hr(t,t.return,y)}}break;case 3:if(ko(e,t),ga(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qm(e.containerInfo)}catch(y){hr(t,t.return,y)}break;case 4:ko(e,t),ga(t);break;case 13:ko(e,t),ga(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(MS=xr())),r&4&&_4(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ii=(c=Ii)||u,ko(e,t),Ii=c):ko(e,t),ga(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ye=t,u=t.child;u!==null;){for(h=Ye=u;Ye!==null;){switch(p=Ye,d=p.child,p.tag){case 0:case 11:case 14:case 15:gm(4,p,p.return);break;case 1:$d(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(y){hr(r,n,y)}}break;case 5:$d(p,p.return);break;case 22:if(p.memoizedState!==null){x4(h);continue}}d!==null?(d.return=p,Ye=d):x4(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=OR("display",o))}catch(y){hr(t,t.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){hr(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ko(e,t),ga(t),r&4&&_4(t);break;case 21:break;default:ko(e,t),ga(t)}}function ga(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(lL(n)){var r=n;break e}n=n.return}throw Error(je(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Um(i,""),r.flags&=-33);var s=w4(t);nb(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=w4(t);tb(t,a,o);break;default:throw Error(je(161))}}catch(l){hr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function R$(t,e,n){Ye=t,hL(t)}function hL(t,e,n){for(var r=(t.mode&1)!==0;Ye!==null;){var i=Ye,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||X0;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ii;a=X0;var c=Ii;if(X0=o,(Ii=l)&&!c)for(Ye=i;Ye!==null;)o=Ye,l=o.child,o.tag===22&&o.memoizedState!==null?S4(i):l!==null?(l.return=o,Ye=l):S4(i);for(;s!==null;)Ye=s,hL(s),s=s.sibling;Ye=i,X0=a,Ii=c}b4(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ye=s):b4(t)}}function b4(t){for(;Ye!==null;){var e=Ye;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ii||$v(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ii)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Oo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&s4(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}s4(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&qm(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(je(163))}Ii||e.flags&512&&eb(e)}catch(p){hr(e,e.return,p)}}if(e===t){Ye=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ye=n;break}Ye=e.return}}function x4(t){for(;Ye!==null;){var e=Ye;if(e===t){Ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ye=n;break}Ye=e.return}}function S4(t){for(;Ye!==null;){var e=Ye;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$v(4,e)}catch(l){hr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){hr(e,i,l)}}var s=e.return;try{eb(e)}catch(l){hr(e,s,l)}break;case 5:var o=e.return;try{eb(e)}catch(l){hr(e,o,l)}}}catch(l){hr(e,e.return,l)}if(e===t){Ye=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ye=a;break}Ye=e.return}}var L$=Math.ceil,Oy=Ul.ReactCurrentDispatcher,LS=Ul.ReactCurrentOwner,mo=Ul.ReactCurrentBatchConfig,an=0,Zr=null,Dr=null,ci=0,Rs=0,qd=_u(0),Wr=0,tg=null,Ch=0,qv=0,DS=0,ym=null,cs=null,MS=0,Lf=1/0,ml=null,jy=!1,rb=null,Wc=null,Q0=!1,Oc=null,Fy=0,vm=0,ib=null,V1=-1,U1=0;function Wi(){return an&6?xr():V1!==-1?V1:V1=xr()}function Gc(t){return t.mode&1?an&2&&ci!==0?ci&-ci:g$.transition!==null?(U1===0&&(U1=YR()),U1):(t=_n,t!==0||(t=window.event,t=t===void 0?16:n6(t.type)),t):1}function qo(t,e,n,r){if(50<vm)throw vm=0,ib=null,Error(je(185));Og(t,n,r),(!(an&2)||t!==Zr)&&(t===Zr&&(!(an&2)&&(qv|=n),Wr===4&&Sc(t,ci)),gs(t,r),n===1&&an===0&&!(e.mode&1)&&(Lf=xr()+500,Uv&&bu()))}function gs(t,e){var n=t.callbackNode;gz(t,e);var r=by(t,t===Zr?ci:0);if(r===0)n!==null&&RI(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&RI(n),e===1)t.tag===0?m$(E4.bind(null,t)):b6(E4.bind(null,t)),h$(function(){!(an&6)&&bu()}),n=null;else{switch(XR(r)){case 1:n=aS;break;case 4:n=GR;break;case 16:n=_y;break;case 536870912:n=KR;break;default:n=_y}n=wL(n,dL.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function dL(t,e){if(V1=-1,U1=0,an&6)throw Error(je(327));var n=t.callbackNode;if(rf()&&t.callbackNode!==n)return null;var r=by(t,t===Zr?ci:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Vy(t,r);else{e=r;var i=an;an|=2;var s=pL();(Zr!==t||ci!==e)&&(ml=null,Lf=xr()+500,yh(t,e));do try{O$();break}catch(a){fL(t,a)}while(!0);_S(),Oy.current=s,an=i,Dr!==null?e=0:(Zr=null,ci=0,e=Wr)}if(e!==0){if(e===2&&(i=k5(t),i!==0&&(r=i,e=sb(t,i))),e===1)throw n=tg,yh(t,0),Sc(t,r),gs(t,xr()),n;if(e===6)Sc(t,r);else{if(i=t.current.alternate,!(r&30)&&!D$(i)&&(e=Vy(t,r),e===2&&(s=k5(t),s!==0&&(r=s,e=sb(t,s))),e===1))throw n=tg,yh(t,0),Sc(t,r),gs(t,xr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(je(345));case 2:Xu(t,cs,ml);break;case 3:if(Sc(t,r),(r&130023424)===r&&(e=MS+500-xr(),10<e)){if(by(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Wi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=V5(Xu.bind(null,t,cs,ml),e);break}Xu(t,cs,ml);break;case 4:if(Sc(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-$o(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=xr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*L$(r/1960))-r,10<r){t.timeoutHandle=V5(Xu.bind(null,t,cs,ml),r);break}Xu(t,cs,ml);break;case 5:Xu(t,cs,ml);break;default:throw Error(je(329))}}}return gs(t,xr()),t.callbackNode===n?dL.bind(null,t):null}function sb(t,e){var n=ym;return t.current.memoizedState.isDehydrated&&(yh(t,e).flags|=256),t=Vy(t,e),t!==2&&(e=cs,cs=n,e!==null&&ob(e)),t}function ob(t){cs===null?cs=t:cs.push.apply(cs,t)}function D$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Go(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Sc(t,e){for(e&=~DS,e&=~qv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$o(e),r=1<<n;t[n]=-1,e&=~r}}function E4(t){if(an&6)throw Error(je(327));rf();var e=by(t,0);if(!(e&1))return gs(t,xr()),null;var n=Vy(t,e);if(t.tag!==0&&n===2){var r=k5(t);r!==0&&(e=r,n=sb(t,r))}if(n===1)throw n=tg,yh(t,0),Sc(t,e),gs(t,xr()),n;if(n===6)throw Error(je(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xu(t,cs,ml),gs(t,xr()),null}function OS(t,e){var n=an;an|=1;try{return t(e)}finally{an=n,an===0&&(Lf=xr()+500,Uv&&bu())}}function Nh(t){Oc!==null&&Oc.tag===0&&!(an&6)&&rf();var e=an;an|=1;var n=mo.transition,r=_n;try{if(mo.transition=null,_n=1,t)return t()}finally{_n=r,mo.transition=n,an=e,!(an&6)&&bu()}}function jS(){Rs=qd.current,Hn(qd)}function yh(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,u$(n)),Dr!==null)for(n=Dr.return;n!==null;){var r=n;switch(yS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ty();break;case 3:kf(),Hn(ps),Hn(Pi),TS();break;case 5:AS(r);break;case 4:kf();break;case 13:Hn(Zn);break;case 19:Hn(Zn);break;case 10:bS(r.type._context);break;case 22:case 23:jS()}n=n.return}if(Zr=t,Dr=t=Kc(t.current,null),ci=Rs=e,Wr=0,tg=null,DS=qv=Ch=0,cs=ym=null,nh!==null){for(e=0;e<nh.length;e++)if(n=nh[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}nh=null}return t}function fL(t,e){do{var n=Dr;try{if(_S(),O1.current=My,Dy){for(var r=tr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Dy=!1}if(Ih=0,Qr=qr=tr=null,mm=!1,Jm=0,LS.current=null,n===null||n.return===null){Wr=1,tg=e,Dr=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=ci,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var d=h4(o);if(d!==null){d.flags&=-257,d4(d,o,a,s,e),d.mode&1&&u4(s,c,e),e=d,l=c;var b=e.updateQueue;if(b===null){var y=new Set;y.add(l),e.updateQueue=y}else b.add(l);break e}else{if(!(e&1)){u4(s,c,e),FS();break e}l=Error(je(426))}}else if(Qn&&a.mode&1){var _=h4(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),d4(_,o,a,s,e),vS(Rf(l,a));break e}}s=l=Rf(l,a),Wr!==4&&(Wr=2),ym===null?ym=[s]:ym.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=X6(s,l,e);i4(s,w);break e;case 1:a=l;var S=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Wc===null||!Wc.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=Q6(s,a,e);i4(s,k);break e}}s=s.return}while(s!==null)}gL(n)}catch(B){e=B,Dr===n&&n!==null&&(Dr=n=n.return);continue}break}while(!0)}function pL(){var t=Oy.current;return Oy.current=My,t===null?My:t}function FS(){(Wr===0||Wr===3||Wr===2)&&(Wr=4),Zr===null||!(Ch&268435455)&&!(qv&268435455)||Sc(Zr,ci)}function Vy(t,e){var n=an;an|=2;var r=pL();(Zr!==t||ci!==e)&&(ml=null,yh(t,e));do try{M$();break}catch(i){fL(t,i)}while(!0);if(_S(),an=n,Oy.current=r,Dr!==null)throw Error(je(261));return Zr=null,ci=0,Wr}function M$(){for(;Dr!==null;)mL(Dr)}function O$(){for(;Dr!==null&&!az();)mL(Dr)}function mL(t){var e=vL(t.alternate,t,Rs);t.memoizedProps=t.pendingProps,e===null?gL(t):Dr=e,LS.current=null}function gL(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=N$(n,e),n!==null){n.flags&=32767,Dr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Wr=6,Dr=null;return}}else if(n=C$(n,e,Rs),n!==null){Dr=n;return}if(e=e.sibling,e!==null){Dr=e;return}Dr=e=t}while(e!==null);Wr===0&&(Wr=5)}function Xu(t,e,n){var r=_n,i=mo.transition;try{mo.transition=null,_n=1,j$(t,e,n,r)}finally{mo.transition=i,_n=r}return null}function j$(t,e,n,r){do rf();while(Oc!==null);if(an&6)throw Error(je(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(je(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(yz(t,s),t===Zr&&(Dr=Zr=null,ci=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Q0||(Q0=!0,wL(_y,function(){return rf(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=mo.transition,mo.transition=null;var o=_n;_n=1;var a=an;an|=4,LS.current=null,k$(t,n),uL(n,t),r$(j5),xy=!!O5,j5=O5=null,t.current=n,R$(n),lz(),an=a,_n=o,mo.transition=s}else t.current=n;if(Q0&&(Q0=!1,Oc=t,Fy=i),s=t.pendingLanes,s===0&&(Wc=null),hz(n.stateNode),gs(t,xr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(jy)throw jy=!1,t=rb,rb=null,t;return Fy&1&&t.tag!==0&&rf(),s=t.pendingLanes,s&1?t===ib?vm++:(vm=0,ib=t):vm=0,bu(),null}function rf(){if(Oc!==null){var t=XR(Fy),e=mo.transition,n=_n;try{if(mo.transition=null,_n=16>t?16:t,Oc===null)var r=!1;else{if(t=Oc,Oc=null,Fy=0,an&6)throw Error(je(331));var i=an;for(an|=4,Ye=t.current;Ye!==null;){var s=Ye,o=s.child;if(Ye.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ye=c;Ye!==null;){var u=Ye;switch(u.tag){case 0:case 11:case 15:gm(8,u,s)}var h=u.child;if(h!==null)h.return=u,Ye=h;else for(;Ye!==null;){u=Ye;var p=u.sibling,d=u.return;if(aL(u),u===c){Ye=null;break}if(p!==null){p.return=d,Ye=p;break}Ye=d}}}var b=s.alternate;if(b!==null){var y=b.child;if(y!==null){b.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}Ye=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ye=o;else e:for(;Ye!==null;){if(s=Ye,s.flags&2048)switch(s.tag){case 0:case 11:case 15:gm(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Ye=w;break e}Ye=s.return}}var S=t.current;for(Ye=S;Ye!==null;){o=Ye;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,Ye=E;else e:for(o=S;Ye!==null;){if(a=Ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$v(9,a)}}catch(B){hr(a,a.return,B)}if(a===o){Ye=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Ye=k;break e}Ye=a.return}}if(an=i,bu(),ka&&typeof ka.onPostCommitFiberRoot=="function")try{ka.onPostCommitFiberRoot(Mv,t)}catch{}r=!0}return r}finally{_n=n,mo.transition=e}}return!1}function A4(t,e,n){e=Rf(n,e),e=X6(t,e,1),t=Hc(t,e,1),e=Wi(),t!==null&&(Og(t,1,e),gs(t,e))}function hr(t,e,n){if(t.tag===3)A4(t,t,n);else for(;e!==null;){if(e.tag===3){A4(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wc===null||!Wc.has(r))){t=Rf(n,t),t=Q6(e,t,1),e=Hc(e,t,1),t=Wi(),e!==null&&(Og(e,1,t),gs(e,t));break}}e=e.return}}function F$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Wi(),t.pingedLanes|=t.suspendedLanes&n,Zr===t&&(ci&n)===n&&(Wr===4||Wr===3&&(ci&130023424)===ci&&500>xr()-MS?yh(t,0):DS|=n),gs(t,e)}function yL(t,e){e===0&&(t.mode&1?(e=B0,B0<<=1,!(B0&130023424)&&(B0=4194304)):e=1);var n=Wi();t=Pl(t,e),t!==null&&(Og(t,e,n),gs(t,n))}function V$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),yL(t,n)}function U$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(je(314))}r!==null&&r.delete(e),yL(t,n)}var vL;vL=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ps.current)hs=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return hs=!1,I$(t,e,n);hs=!!(t.flags&131072)}else hs=!1,Qn&&e.flags&1048576&&x6(e,Ny,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;F1(t,e),t=e.pendingProps;var i=Cf(e,Pi.current);nf(e,n),i=CS(null,e,r,t,i,n);var s=NS();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ms(r)?(s=!0,Iy(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,SS(e),i.updater=zv,e.stateNode=i,i._reactInternals=e,W5(e,r,t,n),e=Y5(null,e,r,!0,s,n)):(e.tag=0,Qn&&s&&gS(e),zi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(F1(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=z$(r),t=Oo(r,t),i){case 0:e=K5(null,e,r,t,n);break e;case 1:e=m4(null,e,r,t,n);break e;case 11:e=f4(null,e,r,t,n);break e;case 14:e=p4(null,e,r,Oo(r.type,t),n);break e}throw Error(je(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Oo(r,i),K5(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Oo(r,i),m4(t,e,r,i,n);case 3:e:{if(tL(e),t===null)throw Error(je(387));r=e.pendingProps,s=e.memoizedState,i=s.element,C6(t,e),Ry(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Rf(Error(je(423)),e),e=g4(t,e,r,n,i);break e}else if(r!==i){i=Rf(Error(je(424)),e),e=g4(t,e,r,n,i);break e}else for(Ms=qc(e.stateNode.containerInfo.firstChild),Us=e,Qn=!0,Bo=null,n=T6(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nf(),r===i){e=kl(t,e,n);break e}zi(t,e,r,n)}e=e.child}return e;case 5:return N6(e),t===null&&$5(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,F5(r,i)?o=null:s!==null&&F5(r,s)&&(e.flags|=32),eL(t,e),zi(t,e,o,n),e.child;case 6:return t===null&&$5(e),null;case 13:return nL(t,e,n);case 4:return ES(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Pf(e,null,r,n):zi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Oo(r,i),f4(t,e,r,i,n);case 7:return zi(t,e,e.pendingProps,n),e.child;case 8:return zi(t,e,e.pendingProps.children,n),e.child;case 12:return zi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,jn(Py,r._currentValue),r._currentValue=o,s!==null)if(Go(s.value,o)){if(s.children===i.children&&!ps.current){e=kl(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Al(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),q5(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(je(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),q5(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}zi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,nf(e,n),i=wo(i),r=r(i),e.flags|=1,zi(t,e,r,n),e.child;case 14:return r=e.type,i=Oo(r,e.pendingProps),i=Oo(r.type,i),p4(t,e,r,i,n);case 15:return J6(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Oo(r,i),F1(t,e),e.tag=1,ms(r)?(t=!0,Iy(e)):t=!1,nf(e,n),Y6(e,r,i),W5(e,r,i,n),Y5(null,e,r,!0,t,n);case 19:return rL(t,e,n);case 22:return Z6(t,e,n)}throw Error(je(156,e.tag))};function wL(t,e){return WR(t,e)}function B$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fo(t,e,n,r){return new B$(t,e,n,r)}function VS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function z$(t){if(typeof t=="function")return VS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===iS)return 11;if(t===sS)return 14}return 2}function Kc(t,e){var n=t.alternate;return n===null?(n=fo(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function B1(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")VS(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Dd:return vh(n.children,i,s,e);case rS:o=8,i|=8;break;case g5:return t=fo(12,n,e,i|2),t.elementType=g5,t.lanes=s,t;case y5:return t=fo(13,n,e,i),t.elementType=y5,t.lanes=s,t;case v5:return t=fo(19,n,e,i),t.elementType=v5,t.lanes=s,t;case NR:return Hv(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case IR:o=10;break e;case CR:o=9;break e;case iS:o=11;break e;case sS:o=14;break e;case _c:o=16,r=null;break e}throw Error(je(130,t==null?t:typeof t,""))}return e=fo(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function vh(t,e,n,r){return t=fo(7,t,r,e),t.lanes=n,t}function Hv(t,e,n,r){return t=fo(22,t,r,e),t.elementType=NR,t.lanes=n,t.stateNode={isHidden:!1},t}function qw(t,e,n){return t=fo(6,t,null,e),t.lanes=n,t}function Hw(t,e,n){return e=fo(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Aw(0),this.expirationTimes=Aw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Aw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function US(t,e,n,r,i,s,o,a,l){return t=new $$(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=fo(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},SS(s),t}function q$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ld,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function _L(t){if(!t)return iu;t=t._reactInternals;e:{if(Gh(t)!==t||t.tag!==1)throw Error(je(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ms(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(je(171))}if(t.tag===1){var n=t.type;if(ms(n))return _6(t,n,e)}return e}function bL(t,e,n,r,i,s,o,a,l){return t=US(n,r,!0,t,i,s,o,a,l),t.context=_L(null),n=t.current,r=Wi(),i=Gc(n),s=Al(r,i),s.callback=e??null,Hc(n,s,i),t.current.lanes=i,Og(t,i,r),gs(t,r),t}function Wv(t,e,n,r){var i=e.current,s=Wi(),o=Gc(i);return n=_L(n),e.context===null?e.context=n:e.pendingContext=n,e=Al(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Hc(i,e,o),t!==null&&(qo(t,i,o,s),M1(t,i,o)),o}function Uy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function T4(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function BS(t,e){T4(t,e),(t=t.alternate)&&T4(t,e)}function H$(){return null}var xL=typeof reportError=="function"?reportError:function(t){console.error(t)};function zS(t){this._internalRoot=t}Gv.prototype.render=zS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(je(409));Wv(t,e,null,null)};Gv.prototype.unmount=zS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Nh(function(){Wv(null,t,null,null)}),e[Nl]=null}};function Gv(t){this._internalRoot=t}Gv.prototype.unstable_scheduleHydration=function(t){if(t){var e=ZR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xc.length&&e!==0&&e<xc[n].priority;n++);xc.splice(n,0,t),n===0&&t6(t)}};function $S(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function I4(){}function W$(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Uy(o);s.call(c)}}var o=bL(e,r,t,0,null,!1,!1,"",I4);return t._reactRootContainer=o,t[Nl]=o.current,Gm(t.nodeType===8?t.parentNode:t),Nh(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Uy(l);a.call(c)}}var l=US(t,0,!1,null,null,!1,!1,"",I4);return t._reactRootContainer=l,t[Nl]=l.current,Gm(t.nodeType===8?t.parentNode:t),Nh(function(){Wv(e,l,n,r)}),l}function Yv(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Uy(o);a.call(l)}}Wv(e,o,t,i)}else o=W$(n,e,t,i,r);return Uy(o)}QR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qp(e.pendingLanes);n!==0&&(lS(e,n|1),gs(e,xr()),!(an&6)&&(Lf=xr()+500,bu()))}break;case 13:Nh(function(){var r=Pl(t,1);if(r!==null){var i=Wi();qo(r,t,1,i)}}),BS(t,1)}};cS=function(t){if(t.tag===13){var e=Pl(t,134217728);if(e!==null){var n=Wi();qo(e,t,134217728,n)}BS(t,134217728)}};JR=function(t){if(t.tag===13){var e=Gc(t),n=Pl(t,e);if(n!==null){var r=Wi();qo(n,t,e,r)}BS(t,e)}};ZR=function(){return _n};e6=function(t,e){var n=_n;try{return _n=t,e()}finally{_n=n}};C5=function(t,e,n){switch(e){case"input":if(b5(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Vv(r);if(!i)throw Error(je(90));kR(r),b5(r,i)}}}break;case"textarea":LR(t,n);break;case"select":e=n.value,e!=null&&Jd(t,!!n.multiple,e,!1)}};UR=OS;BR=Nh;var G$={usingClientEntryPoint:!1,Events:[Fg,Fd,Vv,FR,VR,OS]},Bp={findFiberByHostInstance:th,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},K$={bundleType:Bp.bundleType,version:Bp.version,rendererPackageName:Bp.rendererPackageName,rendererConfig:Bp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ul.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qR(t),t===null?null:t.stateNode},findFiberByHostInstance:Bp.findFiberByHostInstance||H$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var J0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!J0.isDisabled&&J0.supportsFiber)try{Mv=J0.inject(K$),ka=J0}catch{}}Hs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G$;Hs.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$S(e))throw Error(je(200));return q$(t,e,null,n)};Hs.createRoot=function(t,e){if(!$S(t))throw Error(je(299));var n=!1,r="",i=xL;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=US(t,1,!1,null,null,n,!1,r,i),t[Nl]=e.current,Gm(t.nodeType===8?t.parentNode:t),new zS(e)};Hs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(je(188)):(t=Object.keys(t).join(","),Error(je(268,t)));return t=qR(e),t=t===null?null:t.stateNode,t};Hs.flushSync=function(t){return Nh(t)};Hs.hydrate=function(t,e,n){if(!Kv(e))throw Error(je(200));return Yv(null,t,e,!0,n)};Hs.hydrateRoot=function(t,e,n){if(!$S(t))throw Error(je(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=xL;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=bL(e,null,t,1,n??null,i,!1,s,o),t[Nl]=e.current,Gm(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Gv(e)};Hs.render=function(t,e,n){if(!Kv(e))throw Error(je(200));return Yv(null,t,e,!1,n)};Hs.unmountComponentAtNode=function(t){if(!Kv(t))throw Error(je(40));return t._reactRootContainer?(Nh(function(){Yv(null,null,t,!1,function(){t._reactRootContainer=null,t[Nl]=null})}),!0):!1};Hs.unstable_batchedUpdates=OS;Hs.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Kv(n))throw Error(je(200));if(t==null||t._reactInternals===void 0)throw Error(je(38));return Yv(t,e,n,!1,r)};Hs.version="18.3.1-next-f1338f8080-20240426";function SL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SL)}catch(t){console.error(t)}}SL(),SR.exports=Hs;var Kh=SR.exports;const EL=hR(Kh);var AL,C4=Kh;AL=C4.createRoot,C4.hydrateRoot;const Y$=1,X$=1e6;let Ww=0;function Q$(){return Ww=(Ww+1)%Number.MAX_SAFE_INTEGER,Ww.toString()}const Gw=new Map,N4=t=>{if(Gw.has(t))return;const e=setTimeout(()=>{Gw.delete(t),wm({type:"REMOVE_TOAST",toastId:t})},X$);Gw.set(t,e)},J$=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Y$)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?N4(n):t.toasts.forEach(r=>{N4(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},z1=[];let $1={toasts:[]};function wm(t){$1=J$($1,t),z1.forEach(e=>{e($1)})}function _l({...t}){const e=Q$(),n=i=>wm({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>wm({type:"DISMISS_TOAST",toastId:e});return wm({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Ug(){const[t,e]=C.useState($1);return C.useEffect(()=>(z1.push(e),()=>{const n=z1.indexOf(e);n>-1&&z1.splice(n,1)}),[t]),{...t,toast:_l,dismiss:n=>wm({type:"DISMISS_TOAST",toastId:n})}}function He(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function P4(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Xv(...t){return e=>{let n=!1;const r=t.map(i=>{const s=P4(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():P4(t[i],null)}}}}function Sn(...t){return C.useCallback(Xv(...t),t)}function ea(t,e=[]){let n=[];function r(s,o){const a=C.createContext(o),l=n.length;n=[...n,o];const c=h=>{var w;const{scope:p,children:d,...b}=h,y=((w=p==null?void 0:p[t])==null?void 0:w[l])||a,_=C.useMemo(()=>b,Object.values(b));return v.jsx(y.Provider,{value:_,children:d})};c.displayName=s+"Provider";function u(h,p){var y;const d=((y=p==null?void 0:p[t])==null?void 0:y[l])||a,b=C.useContext(d);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>C.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return C.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,Z$(i,...e)]}function Z$(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Df(t){const e=tq(t),n=C.forwardRef((r,i)=>{const{children:s,...o}=r,a=C.Children.toArray(s),l=a.find(rq);if(l){const c=l.props.children,u=a.map(h=>h===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:h);return v.jsx(e,{...o,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,u):null})}return v.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var eq=Df("Slot");function tq(t){const e=C.forwardRef((n,r)=>{const{children:i,...s}=n;if(C.isValidElement(i)){const o=sq(i),a=iq(s,i.props);return i.type!==C.Fragment&&(a.ref=r?Xv(r,o):o),C.cloneElement(i,a)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var TL=Symbol("radix.slottable");function nq(t){const e=({children:n})=>v.jsx(v.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=TL,e}function rq(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===TL}function iq(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function sq(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Qv(t){const e=t+"CollectionProvider",[n,r]=ea(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:_,children:w}=y,S=Be.useRef(null),E=Be.useRef(new Map).current;return v.jsx(i,{scope:_,itemMap:E,collectionRef:S,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=Df(a),c=Be.forwardRef((y,_)=>{const{scope:w,children:S}=y,E=s(a,w),k=Sn(_,E.collectionRef);return v.jsx(l,{ref:k,children:S})});c.displayName=a;const u=t+"CollectionItemSlot",h="data-radix-collection-item",p=Df(u),d=Be.forwardRef((y,_)=>{const{scope:w,children:S,...E}=y,k=Be.useRef(null),B=Sn(_,k),G=s(u,w);return Be.useEffect(()=>(G.itemMap.set(k,{ref:k,...E}),()=>void G.itemMap.delete(k))),v.jsx(p,{[h]:"",ref:B,children:S})});d.displayName=u;function b(y){const _=s(t+"CollectionConsumer",y);return Be.useCallback(()=>{const S=_.collectionRef.current;if(!S)return[];const E=Array.from(S.querySelectorAll(`[${h}]`));return Array.from(_.itemMap.values()).sort((G,D)=>E.indexOf(G.ref.current)-E.indexOf(D.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:c,ItemSlot:d},b,r]}var oq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kt=oq.reduce((t,e)=>{const n=Df(`Primitive.${e}`),r=C.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function qS(t,e){t&&Kh.flushSync(()=>t.dispatchEvent(e))}function Ki(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function aq(t,e=globalThis==null?void 0:globalThis.document){const n=Ki(t);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var lq="DismissableLayer",ab="dismissableLayer.update",cq="dismissableLayer.pointerDownOutside",uq="dismissableLayer.focusOutside",k4,IL=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bg=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=C.useContext(IL),[u,h]=C.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,d]=C.useState({}),b=Sn(e,D=>h(D)),y=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=y.indexOf(_),S=u?y.indexOf(u):-1,E=c.layersWithOutsidePointerEventsDisabled.size>0,k=S>=w,B=dq(D=>{const N=D.target,P=[...c.branches].some(j=>j.contains(N));!k||P||(i==null||i(D),o==null||o(D),D.defaultPrevented||a==null||a())},p),G=fq(D=>{const N=D.target;[...c.branches].some(j=>j.contains(N))||(s==null||s(D),o==null||o(D),D.defaultPrevented||a==null||a())},p);return aq(D=>{S===c.layers.size-1&&(r==null||r(D),!D.defaultPrevented&&a&&(D.preventDefault(),a()))},p),C.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(k4=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),R4(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=k4)}},[u,p,n,c]),C.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),R4())},[u,c]),C.useEffect(()=>{const D=()=>d({});return document.addEventListener(ab,D),()=>document.removeEventListener(ab,D)},[]),v.jsx(kt.div,{...l,ref:b,style:{pointerEvents:E?k?"auto":"none":void 0,...t.style},onFocusCapture:He(t.onFocusCapture,G.onFocusCapture),onBlurCapture:He(t.onBlurCapture,G.onBlurCapture),onPointerDownCapture:He(t.onPointerDownCapture,B.onPointerDownCapture)})});Bg.displayName=lq;var hq="DismissableLayerBranch",CL=C.forwardRef((t,e)=>{const n=C.useContext(IL),r=C.useRef(null),i=Sn(e,r);return C.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),v.jsx(kt.div,{...t,ref:i})});CL.displayName=hq;function dq(t,e=globalThis==null?void 0:globalThis.document){const n=Ki(t),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){NL(cq,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function fq(t,e=globalThis==null?void 0:globalThis.document){const n=Ki(t),r=C.useRef(!1);return C.useEffect(()=>{const i=s=>{s.target&&!r.current&&NL(uq,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function R4(){const t=new CustomEvent(ab);document.dispatchEvent(t)}function NL(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?qS(i,s):i.dispatchEvent(s)}var pq=Bg,mq=CL,Fr=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},gq="Portal",Jv=C.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=C.useState(!1);Fr(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?EL.createPortal(v.jsx(kt.div,{...r,ref:e}),o):null});Jv.displayName=gq;function yq(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var xu=t=>{const{present:e,children:n}=t,r=vq(e),i=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),s=Sn(r.ref,wq(i));return typeof n=="function"||r.isPresent?C.cloneElement(i,{ref:s}):null};xu.displayName="Presence";function vq(t){const[e,n]=C.useState(),r=C.useRef(null),i=C.useRef(t),s=C.useRef("none"),o=t?"mounted":"unmounted",[a,l]=yq(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const c=Z0(r.current);s.current=a==="mounted"?c:"none"},[a]),Fr(()=>{const c=r.current,u=i.current;if(u!==t){const p=s.current,d=Z0(c);t?l("MOUNT"):d==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==d?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Fr(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=d=>{const y=Z0(r.current).includes(d.animationName);if(d.target===e&&y&&(l("ANIMATION_END"),!i.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},p=d=>{d.target===e&&(s.current=Z0(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:C.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Z0(t){return(t==null?void 0:t.animationName)||"none"}function wq(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var _q=Zx[" useInsertionEffect ".trim().toString()]||Fr;function Mf({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=bq({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const u=C.useRef(t!==void 0);C.useEffect(()=>{const h=u.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=C.useCallback(u=>{var h;if(a){const p=xq(u)?u(t):u;p!==t&&((h=o.current)==null||h.call(o,p))}else s(u)},[a,t,s,o]);return[l,c]}function bq({defaultProp:t,onChange:e}){const[n,r]=C.useState(t),i=C.useRef(n),s=C.useRef(e);return _q(()=>{s.current=e},[e]),C.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function xq(t){return typeof t=="function"}var PL=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Sq="VisuallyHidden",Zv=C.forwardRef((t,e)=>v.jsx(kt.span,{...t,ref:e,style:{...PL,...t.style}}));Zv.displayName=Sq;var Eq=Zv,HS="ToastProvider",[WS,Aq,Tq]=Qv("Toast"),[kL,j0e]=ea("Toast",[Tq]),[Iq,e2]=kL(HS),RL=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=C.useState(null),[c,u]=C.useState(0),h=C.useRef(!1),p=C.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${HS}\`. Expected non-empty \`string\`.`),v.jsx(WS.Provider,{scope:e,children:v.jsx(Iq,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:C.useCallback(()=>u(d=>d+1),[]),onToastRemove:C.useCallback(()=>u(d=>d-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};RL.displayName=HS;var LL="ToastViewport",Cq=["F8"],lb="toast.viewportPause",cb="toast.viewportResume",DL=C.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Cq,label:i="Notifications ({hotkey})",...s}=t,o=e2(LL,n),a=Aq(n),l=C.useRef(null),c=C.useRef(null),u=C.useRef(null),h=C.useRef(null),p=Sn(e,h,o.onViewportChange),d=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;C.useEffect(()=>{const _=w=>{var E;r.length!==0&&r.every(k=>w[k]||w.code===k)&&((E=h.current)==null||E.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),C.useEffect(()=>{const _=l.current,w=h.current;if(b&&_&&w){const S=()=>{if(!o.isClosePausedRef.current){const G=new CustomEvent(lb);w.dispatchEvent(G),o.isClosePausedRef.current=!0}},E=()=>{if(o.isClosePausedRef.current){const G=new CustomEvent(cb);w.dispatchEvent(G),o.isClosePausedRef.current=!1}},k=G=>{!_.contains(G.relatedTarget)&&E()},B=()=>{_.contains(document.activeElement)||E()};return _.addEventListener("focusin",S),_.addEventListener("focusout",k),_.addEventListener("pointermove",S),_.addEventListener("pointerleave",B),window.addEventListener("blur",S),window.addEventListener("focus",E),()=>{_.removeEventListener("focusin",S),_.removeEventListener("focusout",k),_.removeEventListener("pointermove",S),_.removeEventListener("pointerleave",B),window.removeEventListener("blur",S),window.removeEventListener("focus",E)}}},[b,o.isClosePausedRef]);const y=C.useCallback(({tabbingDirection:_})=>{const S=a().map(E=>{const k=E.ref.current,B=[k,...Bq(k)];return _==="forwards"?B:B.reverse()});return(_==="forwards"?S.reverse():S).flat()},[a]);return C.useEffect(()=>{const _=h.current;if(_){const w=S=>{var B,G,D;const E=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!E){const N=document.activeElement,P=S.shiftKey;if(S.target===_&&P){(B=c.current)==null||B.focus();return}const L=y({tabbingDirection:P?"backwards":"forwards"}),M=L.findIndex(W=>W===N);Kw(L.slice(M+1))?S.preventDefault():P?(G=c.current)==null||G.focus():(D=u.current)==null||D.focus()}};return _.addEventListener("keydown",w),()=>_.removeEventListener("keydown",w)}},[a,y]),v.jsxs(mq,{ref:l,role:"region","aria-label":i.replace("{hotkey}",d),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&v.jsx(ub,{ref:c,onFocusFromOutsideViewport:()=>{const _=y({tabbingDirection:"forwards"});Kw(_)}}),v.jsx(WS.Slot,{scope:n,children:v.jsx(kt.ol,{tabIndex:-1,...s,ref:p})}),b&&v.jsx(ub,{ref:u,onFocusFromOutsideViewport:()=>{const _=y({tabbingDirection:"backwards"});Kw(_)}})]})});DL.displayName=LL;var ML="ToastFocusProxy",ub=C.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=e2(ML,n);return v.jsx(Zv,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});ub.displayName=ML;var zg="Toast",Nq="toast.swipeStart",Pq="toast.swipeMove",kq="toast.swipeCancel",Rq="toast.swipeEnd",OL=C.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a,l]=Mf({prop:r,defaultProp:i??!0,onChange:s,caller:zg});return v.jsx(xu,{present:n||a,children:v.jsx(Mq,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Ki(t.onPause),onResume:Ki(t.onResume),onSwipeStart:He(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:He(t.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:He(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:He(t.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});OL.displayName=zg;var[Lq,Dq]=kL(zg,{onClose(){}}),Mq=C.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:d,...b}=t,y=e2(zg,n),[_,w]=C.useState(null),S=Sn(e,W=>w(W)),E=C.useRef(null),k=C.useRef(null),B=i||y.duration,G=C.useRef(0),D=C.useRef(B),N=C.useRef(0),{onToastAdd:P,onToastRemove:j}=y,I=Ki(()=>{var ae;(_==null?void 0:_.contains(document.activeElement))&&((ae=y.viewport)==null||ae.focus()),o()}),L=C.useCallback(W=>{!W||W===1/0||(window.clearTimeout(N.current),G.current=new Date().getTime(),N.current=window.setTimeout(I,W))},[I]);C.useEffect(()=>{const W=y.viewport;if(W){const ae=()=>{L(D.current),c==null||c()},ce=()=>{const le=new Date().getTime()-G.current;D.current=D.current-le,window.clearTimeout(N.current),l==null||l()};return W.addEventListener(lb,ce),W.addEventListener(cb,ae),()=>{W.removeEventListener(lb,ce),W.removeEventListener(cb,ae)}}},[y.viewport,B,l,c,L]),C.useEffect(()=>{s&&!y.isClosePausedRef.current&&L(B)},[s,B,y.isClosePausedRef,L]),C.useEffect(()=>(P(),()=>j()),[P,j]);const M=C.useMemo(()=>_?$L(_):null,[_]);return y.viewport?v.jsxs(v.Fragment,{children:[M&&v.jsx(Oq,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:M}),v.jsx(Lq,{scope:n,onClose:I,children:Kh.createPortal(v.jsx(WS.ItemSlot,{scope:n,children:v.jsx(pq,{asChild:!0,onEscapeKeyDown:He(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||I(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:v.jsx(kt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,...b,ref:S,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:He(t.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:He(t.onPointerDown,W=>{W.button===0&&(E.current={x:W.clientX,y:W.clientY})}),onPointerMove:He(t.onPointerMove,W=>{if(!E.current)return;const ae=W.clientX-E.current.x,ce=W.clientY-E.current.y,le=!!k.current,Y=["left","right"].includes(y.swipeDirection),Q=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,fe=Y?Q(0,ae):0,ye=Y?0:Q(0,ce),F=W.pointerType==="touch"?10:2,X={x:fe,y:ye},J={originalEvent:W,delta:X};le?(k.current=X,e1(Pq,h,J,{discrete:!1})):L4(X,y.swipeDirection,F)?(k.current=X,e1(Nq,u,J,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(ae)>F||Math.abs(ce)>F)&&(E.current=null)}),onPointerUp:He(t.onPointerUp,W=>{const ae=k.current,ce=W.target;if(ce.hasPointerCapture(W.pointerId)&&ce.releasePointerCapture(W.pointerId),k.current=null,E.current=null,ae){const le=W.currentTarget,Y={originalEvent:W,delta:ae};L4(ae,y.swipeDirection,y.swipeThreshold)?e1(Rq,d,Y,{discrete:!0}):e1(kq,p,Y,{discrete:!0}),le.addEventListener("click",Q=>Q.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),Oq=t=>{const{__scopeToast:e,children:n,...r}=t,i=e2(zg,e),[s,o]=C.useState(!1),[a,l]=C.useState(!1);return Vq(()=>o(!0)),C.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:v.jsx(Jv,{asChild:!0,children:v.jsx(Zv,{...r,children:s&&v.jsxs(v.Fragment,{children:[i.label," ",n]})})})},jq="ToastTitle",jL=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return v.jsx(kt.div,{...r,ref:e})});jL.displayName=jq;var Fq="ToastDescription",FL=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return v.jsx(kt.div,{...r,ref:e})});FL.displayName=Fq;var VL="ToastAction",UL=C.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?v.jsx(zL,{altText:n,asChild:!0,children:v.jsx(GS,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${VL}\`. Expected non-empty \`string\`.`),null)});UL.displayName=VL;var BL="ToastClose",GS=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=Dq(BL,n);return v.jsx(zL,{asChild:!0,children:v.jsx(kt.button,{type:"button",...r,ref:e,onClick:He(t.onClick,i.onClose)})})});GS.displayName=BL;var zL=C.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return v.jsx(kt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function $L(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Uq(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...$L(r))}}),e}function e1(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?qS(i,s):i.dispatchEvent(s)}var L4=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function Vq(t=()=>{}){const e=Ki(t);Fr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Uq(t){return t.nodeType===t.ELEMENT_NODE}function Bq(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Kw(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var zq=RL,qL=DL,HL=OL,WL=jL,GL=FL,KL=UL,YL=GS;function XL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=XL(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function QL(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=XL(t))&&(r&&(r+=" "),r+=e);return r}const D4=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,M4=QL,t2=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return M4(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],h=s==null?void 0:s[c];if(u===null)return null;const p=D4(u)||D4(h);return i[c][p]}),a=n&&Object.entries(n).reduce((c,u)=>{let[h,p]=u;return p===void 0||(c[h]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:h,className:p,...d}=u;return Object.entries(d).every(b=>{let[y,_]=b;return Array.isArray(_)?_.includes({...s,...a}[y]):{...s,...a}[y]===_})?[...c,h,p]:c},[]);return M4(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JL=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>C.createElement("svg",{ref:l,...qq,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:JL("lucide",i),...a},[...o.map(([c,u])=>C.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=(t,e)=>{const n=C.forwardRef(({className:r,...i},s)=>C.createElement(Hq,{ref:s,iconNode:e,className:JL(`lucide-${$q(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=bn("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=bn("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=bn("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=bn("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=bn("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=bn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=bn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=bn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=bn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=bn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=bn("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=bn("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=bn("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=bn("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=bn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=bn("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=bn("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=bn("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=bn("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=bn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=bn("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=bn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=bn("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=bn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=bn("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=bn("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=bn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=bn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=bn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),QS="-",lH=t=>{const e=uH(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(QS);return a[0]===""&&a.length!==1&&a.shift(),lD(a,e)||cH(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},lD=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?lD(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(QS);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},O4=/^\[(.+)\]$/,cH=t=>{if(O4.test(t)){const e=O4.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},uH=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return dH(Object.entries(t.classGroups),n).forEach(([s,o])=>{hb(o,r,s,e)}),r},hb=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:j4(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(hH(i)){hb(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{hb(o,j4(e,s),n,r)})})},j4=(t,e)=>{let n=t;return e.split(QS).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},hH=t=>t.isThemeGetter,dH=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,fH=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},cD="!",pH=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,h;for(let _=0;_<a.length;_++){let w=a[_];if(c===0){if(w===i&&(r||a.slice(_,_+s)===e)){l.push(a.slice(u,_)),u=_+s;continue}if(w==="/"){h=_;continue}}w==="["?c++:w==="]"&&c--}const p=l.length===0?a:a.substring(u),d=p.startsWith(cD),b=d?p.substring(1):p,y=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:d,baseClassName:b,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},mH=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},gH=t=>({cache:fH(t.cacheSize),parseClassName:pH(t),...lH(t)}),yH=/\s+/,vH=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(yH);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:d}=n(c);let b=!!d,y=r(b?p.substring(0,d):p);if(!y){if(!b){a=c+(a.length>0?" "+a:a);continue}if(y=r(p),!y){a=c+(a.length>0?" "+a:a);continue}b=!1}const _=mH(u).join(":"),w=h?_+cD:_,S=w+y;if(s.includes(S))continue;s.push(S);const E=i(y,b);for(let k=0;k<E.length;++k){const B=E[k];s.push(w+B)}a=c+(a.length>0?" "+a:a)}return a};function wH(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=uD(e))&&(r&&(r+=" "),r+=n);return r}const uD=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=uD(t[r]))&&(n&&(n+=" "),n+=e);return n};function _H(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((u,h)=>h(u),t());return n=gH(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=vH(l,n);return i(l,u),u}return function(){return s(wH.apply(null,arguments))}}const Un=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},hD=/^\[(?:([a-z-]+):)?(.+)\]$/i,bH=/^\d+\/\d+$/,xH=new Set(["px","full","screen"]),SH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,EH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,AH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,TH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,IH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hl=t=>sf(t)||xH.has(t)||bH.test(t),dc=t=>Zf(t,"length",MH),sf=t=>!!t&&!Number.isNaN(Number(t)),Yw=t=>Zf(t,"number",sf),zp=t=>!!t&&Number.isInteger(Number(t)),CH=t=>t.endsWith("%")&&sf(t.slice(0,-1)),zt=t=>hD.test(t),fc=t=>SH.test(t),NH=new Set(["length","size","percentage"]),PH=t=>Zf(t,NH,dD),kH=t=>Zf(t,"position",dD),RH=new Set(["image","url"]),LH=t=>Zf(t,RH,jH),DH=t=>Zf(t,"",OH),$p=()=>!0,Zf=(t,e,n)=>{const r=hD.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},MH=t=>EH.test(t)&&!AH.test(t),dD=()=>!1,OH=t=>TH.test(t),jH=t=>IH.test(t),FH=()=>{const t=Un("colors"),e=Un("spacing"),n=Un("blur"),r=Un("brightness"),i=Un("borderColor"),s=Un("borderRadius"),o=Un("borderSpacing"),a=Un("borderWidth"),l=Un("contrast"),c=Un("grayscale"),u=Un("hueRotate"),h=Un("invert"),p=Un("gap"),d=Un("gradientColorStops"),b=Un("gradientColorStopPositions"),y=Un("inset"),_=Un("margin"),w=Un("opacity"),S=Un("padding"),E=Un("saturate"),k=Un("scale"),B=Un("sepia"),G=Un("skew"),D=Un("space"),N=Un("translate"),P=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",zt,e],L=()=>[zt,e],M=()=>["",hl,dc],W=()=>["auto",sf,zt],ae=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ce=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",zt],fe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ye=()=>[sf,zt];return{cacheSize:500,separator:":",theme:{colors:[$p],spacing:[hl,dc],blur:["none","",fc,zt],brightness:ye(),borderColor:[t],borderRadius:["none","","full",fc,zt],borderSpacing:L(),borderWidth:M(),contrast:ye(),grayscale:Q(),hueRotate:ye(),invert:Q(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[CH,dc],inset:I(),margin:I(),opacity:ye(),padding:L(),saturate:ye(),scale:ye(),sepia:Q(),skew:ye(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",zt]}],container:["container"],columns:[{columns:[fc]}],"break-after":[{"break-after":fe()}],"break-before":[{"break-before":fe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ae(),zt]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zp,zt]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",zt]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",zp,zt]}],"grid-cols":[{"grid-cols":[$p]}],"col-start-end":[{col:["auto",{span:["full",zp,zt]},zt]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[$p]}],"row-start-end":[{row:["auto",{span:[zp,zt]},zt]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",zt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",zt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",zt,e]}],"min-w":[{"min-w":[zt,e,"min","max","fit"]}],"max-w":[{"max-w":[zt,e,"none","full","min","max","fit","prose",{screen:[fc]},fc]}],h:[{h:[zt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[zt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[zt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[zt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",fc,dc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Yw]}],"font-family":[{font:[$p]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",zt]}],"line-clamp":[{"line-clamp":["none",sf,Yw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",hl,zt]}],"list-image":[{"list-image":["none",zt]}],"list-style-type":[{list:["none","disc","decimal",zt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ce(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",hl,dc]}],"underline-offset":[{"underline-offset":["auto",hl,zt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",zt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",zt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ae(),kH]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",PH]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},LH]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[d]}],"gradient-via":[{via:[d]}],"gradient-to":[{to:[d]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...ce(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:ce()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ce()]}],"outline-offset":[{"outline-offset":[hl,zt]}],"outline-w":[{outline:[hl,dc]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[hl,dc]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",fc,DH]}],"shadow-color":[{shadow:[$p]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",fc,zt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[E]}],sepia:[{sepia:[B]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[B]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",zt]}],duration:[{duration:ye()}],ease:[{ease:["linear","in","out","in-out",zt]}],delay:[{delay:ye()}],animate:[{animate:["none","spin","ping","pulse","bounce",zt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[zp,zt]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[G]}],"skew-y":[{"skew-y":[G]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",zt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",zt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",zt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[hl,dc,Yw]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},VH=_H(FH);function $t(...t){return VH(QL(t))}const UH=zq,fD=C.forwardRef(({className:t,...e},n)=>v.jsx(qL,{ref:n,className:$t("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));fD.displayName=qL.displayName;const BH=t2("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),pD=C.forwardRef(({className:t,variant:e,...n},r)=>v.jsx(HL,{ref:r,className:$t(BH({variant:e}),t),...n}));pD.displayName=HL.displayName;const zH=C.forwardRef(({className:t,...e},n)=>v.jsx(KL,{ref:n,className:$t("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));zH.displayName=KL.displayName;const mD=C.forwardRef(({className:t,...e},n)=>v.jsx(YL,{ref:n,className:$t("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:v.jsx(aH,{className:"h-4 w-4"})}));mD.displayName=YL.displayName;const gD=C.forwardRef(({className:t,...e},n)=>v.jsx(WL,{ref:n,className:$t("text-sm font-semibold",t),...e}));gD.displayName=WL.displayName;const yD=C.forwardRef(({className:t,...e},n)=>v.jsx(GL,{ref:n,className:$t("text-sm opacity-90",t),...e}));yD.displayName=GL.displayName;function $H(){const{toasts:t}=Ug();return v.jsxs(UH,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return v.jsxs(pD,{...s,children:[v.jsxs("div",{className:"grid gap-1",children:[n&&v.jsx(gD,{children:n}),r&&v.jsx(yD,{children:r})]}),i,v.jsx(mD,{})]},e)}),v.jsx(fD,{})]})}var F4=["light","dark"],qH="(prefers-color-scheme: dark)",HH=C.createContext(void 0),WH={setTheme:t=>{},themes:[]},GH=()=>{var t;return(t=C.useContext(HH))!=null?t:WH};C.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=i?F4.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(b,y=!1,_=!0)=>{let w=o?o[b]:b,S=y?b+"|| ''":`'${w}'`,E="";return i&&_&&!y&&F4.includes(b)&&(E+=`d.style.colorScheme = '${b}';`),n==="class"?y||w?E+=`c.add(${S})`:E+="null":w&&(E+=`d[s](n,${S})`),E},d=t?`!function(){${u}${p(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${qH}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(s,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(s,!1,!1)};}${h}}catch(t){}}();`;return C.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:d}})});var KH=t=>{switch(t){case"success":return QH;case"info":return ZH;case"warning":return JH;case"error":return eW;default:return null}},YH=Array(12).fill(0),XH=({visible:t,className:e})=>Be.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Be.createElement("div",{className:"sonner-spinner"},YH.map((n,r)=>Be.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),QH=Be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Be.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),JH=Be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Be.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ZH=Be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Be.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),eW=Be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Be.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),tW=Be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Be.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Be.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),nW=()=>{let[t,e]=Be.useState(document.hidden);return Be.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},db=1,rW=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:db++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0,o,a=i.then(async c=>{if(o=["resolve",c],Be.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(sW(c)&&!c.ok){s=!1;let u=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:u,description:h})}else if(n.success!==void 0){s=!1;let u=typeof n.success=="function"?await n.success(c):n.success,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:u,description:h})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){s=!1;let u=typeof n.error=="function"?await n.error(c):n.error,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:u,description:h})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),l=()=>new Promise((c,u)=>a.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||db++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},as=new rW,iW=(t,e)=>{let n=(e==null?void 0:e.id)||db++;return as.addToast({title:t,...e,id:n}),n},sW=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",oW=iW,aW=()=>as.toasts,lW=()=>as.getActiveToasts();Object.assign(oW,{success:as.success,info:as.info,warning:as.warning,error:as.error,custom:as.custom,message:as.message,promise:as.promise,dismiss:as.dismiss,loading:as.loading},{getHistory:aW,getToasts:lW});function cW(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}cW(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function t1(t){return t.label!==void 0}var uW=3,hW="32px",dW="16px",V4=4e3,fW=356,pW=14,mW=20,gW=200;function Ro(...t){return t.filter(Boolean).join(" ")}function yW(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var vW=t=>{var e,n,r,i,s,o,a,l,c,u,h;let{invert:p,toast:d,unstyled:b,interacting:y,setHeights:_,visibleToasts:w,heights:S,index:E,toasts:k,expanded:B,removeToast:G,defaultRichColors:D,closeButton:N,style:P,cancelButtonStyle:j,actionButtonStyle:I,className:L="",descriptionClassName:M="",duration:W,position:ae,gap:ce,loadingIcon:le,expandByDefault:Y,classNames:Q,icons:fe,closeButtonAriaLabel:ye="Close toast",pauseWhenPageIsHidden:F}=t,[X,J]=Be.useState(null),[ie,oe]=Be.useState(null),[re,ge]=Be.useState(!1),[me,xe]=Be.useState(!1),[Ee,Le]=Be.useState(!1),[Fe,Se]=Be.useState(!1),[ne,wt]=Be.useState(!1),[pt,tt]=Be.useState(0),[Ne,$e]=Be.useState(0),Ue=Be.useRef(d.duration||W||V4),At=Be.useRef(null),Xe=Be.useRef(null),Jt=E===0,gt=E+1<=w,st=d.type,qt=d.dismissible!==!1,St=d.className||"",ot=d.descriptionClassName||"",mt=Be.useMemo(()=>S.findIndex(ut=>ut.toastId===d.id)||0,[S,d.id]),it=Be.useMemo(()=>{var ut;return(ut=d.closeButton)!=null?ut:N},[d.closeButton,N]),ln=Be.useMemo(()=>d.duration||W||V4,[d.duration,W]),Vt=Be.useRef(0),We=Be.useRef(0),vt=Be.useRef(0),jt=Be.useRef(null),[dt,Ft]=ae.split("-"),_t=Be.useMemo(()=>S.reduce((ut,It,Gt)=>Gt>=mt?ut:ut+It.height,0),[S,mt]),dn=nW(),Gn=d.invert||p,Tt=st==="loading";We.current=Be.useMemo(()=>mt*ce+_t,[mt,_t]),Be.useEffect(()=>{Ue.current=ln},[ln]),Be.useEffect(()=>{ge(!0)},[]),Be.useEffect(()=>{let ut=Xe.current;if(ut){let It=ut.getBoundingClientRect().height;return $e(It),_(Gt=>[{toastId:d.id,height:It,position:d.position},...Gt]),()=>_(Gt=>Gt.filter(mn=>mn.toastId!==d.id))}},[_,d.id]),Be.useLayoutEffect(()=>{if(!re)return;let ut=Xe.current,It=ut.style.height;ut.style.height="auto";let Gt=ut.getBoundingClientRect().height;ut.style.height=It,$e(Gt),_(mn=>mn.find(Je=>Je.toastId===d.id)?mn.map(Je=>Je.toastId===d.id?{...Je,height:Gt}:Je):[{toastId:d.id,height:Gt,position:d.position},...mn])},[re,d.title,d.description,_,d.id]);let ct=Be.useCallback(()=>{xe(!0),tt(We.current),_(ut=>ut.filter(It=>It.toastId!==d.id)),setTimeout(()=>{G(d)},gW)},[d,G,_,We]);Be.useEffect(()=>{if(d.promise&&st==="loading"||d.duration===1/0||d.type==="loading")return;let ut;return B||y||F&&dn?(()=>{if(vt.current<Vt.current){let It=new Date().getTime()-Vt.current;Ue.current=Ue.current-It}vt.current=new Date().getTime()})():Ue.current!==1/0&&(Vt.current=new Date().getTime(),ut=setTimeout(()=>{var It;(It=d.onAutoClose)==null||It.call(d,d),ct()},Ue.current)),()=>clearTimeout(ut)},[B,y,d,st,F,dn,ct]),Be.useEffect(()=>{d.delete&&ct()},[ct,d.delete]);function Ht(){var ut,It,Gt;return fe!=null&&fe.loading?Be.createElement("div",{className:Ro(Q==null?void 0:Q.loader,(ut=d==null?void 0:d.classNames)==null?void 0:ut.loader,"sonner-loader"),"data-visible":st==="loading"},fe.loading):le?Be.createElement("div",{className:Ro(Q==null?void 0:Q.loader,(It=d==null?void 0:d.classNames)==null?void 0:It.loader,"sonner-loader"),"data-visible":st==="loading"},le):Be.createElement(XH,{className:Ro(Q==null?void 0:Q.loader,(Gt=d==null?void 0:d.classNames)==null?void 0:Gt.loader),visible:st==="loading"})}return Be.createElement("li",{tabIndex:0,ref:Xe,className:Ro(L,St,Q==null?void 0:Q.toast,(e=d==null?void 0:d.classNames)==null?void 0:e.toast,Q==null?void 0:Q.default,Q==null?void 0:Q[st],(n=d==null?void 0:d.classNames)==null?void 0:n[st]),"data-sonner-toast":"","data-rich-colors":(r=d.richColors)!=null?r:D,"data-styled":!(d.jsx||d.unstyled||b),"data-mounted":re,"data-promise":!!d.promise,"data-swiped":ne,"data-removed":me,"data-visible":gt,"data-y-position":dt,"data-x-position":Ft,"data-index":E,"data-front":Jt,"data-swiping":Ee,"data-dismissible":qt,"data-type":st,"data-invert":Gn,"data-swipe-out":Fe,"data-swipe-direction":ie,"data-expanded":!!(B||Y&&re),style:{"--index":E,"--toasts-before":E,"--z-index":k.length-E,"--offset":`${me?pt:We.current}px`,"--initial-height":Y?"auto":`${Ne}px`,...P,...d.style},onDragEnd:()=>{Le(!1),J(null),jt.current=null},onPointerDown:ut=>{Tt||!qt||(At.current=new Date,tt(We.current),ut.target.setPointerCapture(ut.pointerId),ut.target.tagName!=="BUTTON"&&(Le(!0),jt.current={x:ut.clientX,y:ut.clientY}))},onPointerUp:()=>{var ut,It,Gt,mn;if(Fe||!qt)return;jt.current=null;let Je=Number(((ut=Xe.current)==null?void 0:ut.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Nr=Number(((It=Xe.current)==null?void 0:It.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ir=new Date().getTime()-((Gt=At.current)==null?void 0:Gt.getTime()),En=X==="x"?Je:Nr,Kn=Math.abs(En)/ir;if(Math.abs(En)>=mW||Kn>.11){tt(We.current),(mn=d.onDismiss)==null||mn.call(d,d),oe(X==="x"?Je>0?"right":"left":Nr>0?"down":"up"),ct(),Se(!0),wt(!1);return}Le(!1),J(null)},onPointerMove:ut=>{var It,Gt,mn,Je;if(!jt.current||!qt||((It=window.getSelection())==null?void 0:It.toString().length)>0)return;let Nr=ut.clientY-jt.current.y,ir=ut.clientX-jt.current.x,En=(Gt=t.swipeDirections)!=null?Gt:yW(ae);!X&&(Math.abs(ir)>1||Math.abs(Nr)>1)&&J(Math.abs(ir)>Math.abs(Nr)?"x":"y");let Kn={x:0,y:0};X==="y"?(En.includes("top")||En.includes("bottom"))&&(En.includes("top")&&Nr<0||En.includes("bottom")&&Nr>0)&&(Kn.y=Nr):X==="x"&&(En.includes("left")||En.includes("right"))&&(En.includes("left")&&ir<0||En.includes("right")&&ir>0)&&(Kn.x=ir),(Math.abs(Kn.x)>0||Math.abs(Kn.y)>0)&&wt(!0),(mn=Xe.current)==null||mn.style.setProperty("--swipe-amount-x",`${Kn.x}px`),(Je=Xe.current)==null||Je.style.setProperty("--swipe-amount-y",`${Kn.y}px`)}},it&&!d.jsx?Be.createElement("button",{"aria-label":ye,"data-disabled":Tt,"data-close-button":!0,onClick:Tt||!qt?()=>{}:()=>{var ut;ct(),(ut=d.onDismiss)==null||ut.call(d,d)},className:Ro(Q==null?void 0:Q.closeButton,(i=d==null?void 0:d.classNames)==null?void 0:i.closeButton)},(s=fe==null?void 0:fe.close)!=null?s:tW):null,d.jsx||C.isValidElement(d.title)?d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title:Be.createElement(Be.Fragment,null,st||d.icon||d.promise?Be.createElement("div",{"data-icon":"",className:Ro(Q==null?void 0:Q.icon,(o=d==null?void 0:d.classNames)==null?void 0:o.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||Ht():null,d.type!=="loading"?d.icon||(fe==null?void 0:fe[st])||KH(st):null):null,Be.createElement("div",{"data-content":"",className:Ro(Q==null?void 0:Q.content,(a=d==null?void 0:d.classNames)==null?void 0:a.content)},Be.createElement("div",{"data-title":"",className:Ro(Q==null?void 0:Q.title,(l=d==null?void 0:d.classNames)==null?void 0:l.title)},typeof d.title=="function"?d.title():d.title),d.description?Be.createElement("div",{"data-description":"",className:Ro(M,ot,Q==null?void 0:Q.description,(c=d==null?void 0:d.classNames)==null?void 0:c.description)},typeof d.description=="function"?d.description():d.description):null),C.isValidElement(d.cancel)?d.cancel:d.cancel&&t1(d.cancel)?Be.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||j,onClick:ut=>{var It,Gt;t1(d.cancel)&&qt&&((Gt=(It=d.cancel).onClick)==null||Gt.call(It,ut),ct())},className:Ro(Q==null?void 0:Q.cancelButton,(u=d==null?void 0:d.classNames)==null?void 0:u.cancelButton)},d.cancel.label):null,C.isValidElement(d.action)?d.action:d.action&&t1(d.action)?Be.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||I,onClick:ut=>{var It,Gt;t1(d.action)&&((Gt=(It=d.action).onClick)==null||Gt.call(It,ut),!ut.defaultPrevented&&ct())},className:Ro(Q==null?void 0:Q.actionButton,(h=d==null?void 0:d.classNames)==null?void 0:h.actionButton)},d.action.label):null))};function U4(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function wW(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",a=s?dW:hW;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var _W=C.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:h,duration:p,style:d,visibleToasts:b=uW,toastOptions:y,dir:_=U4(),gap:w=pW,loadingIcon:S,icons:E,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:B}=t,[G,D]=Be.useState([]),N=Be.useMemo(()=>Array.from(new Set([r].concat(G.filter(F=>F.position).map(F=>F.position)))),[G,r]),[P,j]=Be.useState([]),[I,L]=Be.useState(!1),[M,W]=Be.useState(!1),[ae,ce]=Be.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),le=Be.useRef(null),Y=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),Q=Be.useRef(null),fe=Be.useRef(!1),ye=Be.useCallback(F=>{D(X=>{var J;return(J=X.find(ie=>ie.id===F.id))!=null&&J.delete||as.dismiss(F.id),X.filter(({id:ie})=>ie!==F.id)})},[]);return Be.useEffect(()=>as.subscribe(F=>{if(F.dismiss){D(X=>X.map(J=>J.id===F.id?{...J,delete:!0}:J));return}setTimeout(()=>{EL.flushSync(()=>{D(X=>{let J=X.findIndex(ie=>ie.id===F.id);return J!==-1?[...X.slice(0,J),{...X[J],...F},...X.slice(J+1)]:[F,...X]})})})}),[]),Be.useEffect(()=>{if(u!=="system"){ce(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ce("dark"):ce("light")),typeof window>"u")return;let F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:X})=>{ce(X?"dark":"light")})}catch{F.addListener(({matches:J})=>{try{ce(J?"dark":"light")}catch(ie){console.error(ie)}})}},[u]),Be.useEffect(()=>{G.length<=1&&L(!1)},[G]),Be.useEffect(()=>{let F=X=>{var J,ie;i.every(oe=>X[oe]||X.code===oe)&&(L(!0),(J=le.current)==null||J.focus()),X.code==="Escape"&&(document.activeElement===le.current||(ie=le.current)!=null&&ie.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[i]),Be.useEffect(()=>{if(le.current)return()=>{Q.current&&(Q.current.focus({preventScroll:!0}),Q.current=null,fe.current=!1)}},[le.current]),Be.createElement("section",{ref:e,"aria-label":`${k} ${Y}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((F,X)=>{var J;let[ie,oe]=F.split("-");return G.length?Be.createElement("ol",{key:F,dir:_==="auto"?U4():_,tabIndex:-1,ref:le,className:a,"data-sonner-toaster":!0,"data-theme":ae,"data-y-position":ie,"data-lifted":I&&G.length>1&&!s,"data-x-position":oe,style:{"--front-toast-height":`${((J=P[0])==null?void 0:J.height)||0}px`,"--width":`${fW}px`,"--gap":`${w}px`,...d,...wW(l,c)},onBlur:re=>{fe.current&&!re.currentTarget.contains(re.relatedTarget)&&(fe.current=!1,Q.current&&(Q.current.focus({preventScroll:!0}),Q.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||fe.current||(fe.current=!0,Q.current=re.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{M||L(!1)},onDragEnd:()=>L(!1),onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},G.filter(re=>!re.position&&X===0||re.position===F).map((re,ge)=>{var me,xe;return Be.createElement(vW,{key:re.id,icons:E,index:ge,toast:re,defaultRichColors:h,duration:(me=y==null?void 0:y.duration)!=null?me:p,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:b,closeButton:(xe=y==null?void 0:y.closeButton)!=null?xe:o,interacting:M,position:F,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:ye,toasts:G.filter(Ee=>Ee.position==re.position),heights:P.filter(Ee=>Ee.position==re.position),setHeights:j,expandByDefault:s,gap:w,loadingIcon:S,expanded:I,pauseWhenPageIsHidden:B,swipeDirections:t.swipeDirections})})):null}))});const bW=({...t})=>{const{theme:e="system"}=GH();return v.jsx(_W,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var xW=Zx[" useId ".trim().toString()]||(()=>{}),SW=0;function Ph(t){const[e,n]=C.useState(xW());return Fr(()=>{t||n(r=>r??String(SW++))},[t]),t||(e?`radix-${e}`:"")}const EW=["top","right","bottom","left"],su=Math.min,Ls=Math.max,By=Math.round,n1=Math.floor,La=t=>({x:t,y:t}),AW={left:"right",right:"left",bottom:"top",top:"bottom"},TW={start:"end",end:"start"};function fb(t,e,n){return Ls(t,su(e,n))}function Rl(t,e){return typeof t=="function"?t(e):t}function Ll(t){return t.split("-")[0]}function ep(t){return t.split("-")[1]}function JS(t){return t==="x"?"y":"x"}function ZS(t){return t==="y"?"height":"width"}const IW=new Set(["top","bottom"]);function Ca(t){return IW.has(Ll(t))?"y":"x"}function eE(t){return JS(Ca(t))}function CW(t,e,n){n===void 0&&(n=!1);const r=ep(t),i=eE(t),s=ZS(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=zy(o)),[o,zy(o)]}function NW(t){const e=zy(t);return[pb(t),e,pb(e)]}function pb(t){return t.replace(/start|end/g,e=>TW[e])}const B4=["left","right"],z4=["right","left"],PW=["top","bottom"],kW=["bottom","top"];function RW(t,e,n){switch(t){case"top":case"bottom":return n?e?z4:B4:e?B4:z4;case"left":case"right":return e?PW:kW;default:return[]}}function LW(t,e,n,r){const i=ep(t);let s=RW(Ll(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(pb)))),s}function zy(t){return t.replace(/left|right|bottom|top/g,e=>AW[e])}function DW(t){return{top:0,right:0,bottom:0,left:0,...t}}function vD(t){return typeof t!="number"?DW(t):{top:t,right:t,bottom:t,left:t}}function $y(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function $4(t,e,n){let{reference:r,floating:i}=t;const s=Ca(e),o=eE(e),a=ZS(o),l=Ll(e),c=s==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let d;switch(l){case"top":d={x:u,y:r.y-i.height};break;case"bottom":d={x:u,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:h};break;case"left":d={x:r.x-i.width,y:h};break;default:d={x:r.x,y:r.y}}switch(ep(e)){case"start":d[o]-=p*(n&&c?-1:1);break;case"end":d[o]+=p*(n&&c?-1:1);break}return d}const MW=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:h}=$4(c,r,l),p=r,d={},b=0;for(let y=0;y<a.length;y++){const{name:_,fn:w}=a[y],{x:S,y:E,data:k,reset:B}=await w({x:u,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:d,rects:c,platform:o,elements:{reference:t,floating:e}});u=S??u,h=E??h,d={...d,[_]:{...d[_],...k}},B&&b<=50&&(b++,typeof B=="object"&&(B.placement&&(p=B.placement),B.rects&&(c=B.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):B.rects),{x:u,y:h}=$4(c,p,l)),y=-1)}return{x:u,y:h,placement:p,strategy:i,middlewareData:d}};async function ng(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:p=!1,padding:d=0}=Rl(e,t),b=vD(d),_=a[p?h==="floating"?"reference":"floating":h],w=$y(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(_)))==null||n?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),S=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),k=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},B=$y(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:S,offsetParent:E,strategy:l}):S);return{top:(w.top-B.top+b.top)/k.y,bottom:(B.bottom-w.bottom+b.bottom)/k.y,left:(w.left-B.left+b.left)/k.x,right:(B.right-w.right+b.right)/k.x}}const OW=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Rl(t,e)||{};if(c==null)return{};const h=vD(u),p={x:n,y:r},d=eE(i),b=ZS(d),y=await o.getDimensions(c),_=d==="y",w=_?"top":"left",S=_?"bottom":"right",E=_?"clientHeight":"clientWidth",k=s.reference[b]+s.reference[d]-p[d]-s.floating[b],B=p[d]-s.reference[d],G=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let D=G?G[E]:0;(!D||!await(o.isElement==null?void 0:o.isElement(G)))&&(D=a.floating[E]||s.floating[b]);const N=k/2-B/2,P=D/2-y[b]/2-1,j=su(h[w],P),I=su(h[S],P),L=j,M=D-y[b]-I,W=D/2-y[b]/2+N,ae=fb(L,W,M),ce=!l.arrow&&ep(i)!=null&&W!==ae&&s.reference[b]/2-(W<L?j:I)-y[b]/2<0,le=ce?W<L?W-L:W-M:0;return{[d]:p[d]+le,data:{[d]:ae,centerOffset:W-ae-le,...ce&&{alignmentOffset:le}},reset:ce}}}),jW=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:y=!0,..._}=Rl(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const w=Ll(i),S=Ca(a),E=Ll(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(c.floating)),B=p||(E||!y?[zy(a)]:NW(a)),G=b!=="none";!p&&G&&B.push(...LW(a,y,b,k));const D=[a,...B],N=await ng(e,_),P=[];let j=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&P.push(N[w]),h){const W=CW(i,o,k);P.push(N[W[0]],N[W[1]])}if(j=[...j,{placement:i,overflows:P}],!P.every(W=>W<=0)){var I,L;const W=(((I=s.flip)==null?void 0:I.index)||0)+1,ae=D[W];if(ae&&(!(h==="alignment"?S!==Ca(ae):!1)||j.every(Y=>Y.overflows[0]>0&&Ca(Y.placement)===S)))return{data:{index:W,overflows:j},reset:{placement:ae}};let ce=(L=j.filter(le=>le.overflows[0]<=0).sort((le,Y)=>le.overflows[1]-Y.overflows[1])[0])==null?void 0:L.placement;if(!ce)switch(d){case"bestFit":{var M;const le=(M=j.filter(Y=>{if(G){const Q=Ca(Y.placement);return Q===S||Q==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(Q=>Q>0).reduce((Q,fe)=>Q+fe,0)]).sort((Y,Q)=>Y[1]-Q[1])[0])==null?void 0:M[0];le&&(ce=le);break}case"initialPlacement":ce=a;break}if(i!==ce)return{reset:{placement:ce}}}return{}}}};function q4(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function H4(t){return EW.some(e=>t[e]>=0)}const FW=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Rl(t,e);switch(r){case"referenceHidden":{const s=await ng(e,{...i,elementContext:"reference"}),o=q4(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:H4(o)}}}case"escaped":{const s=await ng(e,{...i,altBoundary:!0}),o=q4(s,n.floating);return{data:{escapedOffsets:o,escaped:H4(o)}}}default:return{}}}}},wD=new Set(["left","top"]);async function VW(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ll(n),a=ep(n),l=Ca(n)==="y",c=wD.has(o)?-1:1,u=s&&l?-1:1,h=Rl(e,t);let{mainAxis:p,crossAxis:d,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof b=="number"&&(d=a==="end"?b*-1:b),l?{x:d*u,y:p*c}:{x:p*c,y:d*u}}const UW=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await VW(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},BW=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:w,y:S}=_;return{x:w,y:S}}},...l}=Rl(t,e),c={x:n,y:r},u=await ng(e,l),h=Ca(Ll(i)),p=JS(h);let d=c[p],b=c[h];if(s){const _=p==="y"?"top":"left",w=p==="y"?"bottom":"right",S=d+u[_],E=d-u[w];d=fb(S,d,E)}if(o){const _=h==="y"?"top":"left",w=h==="y"?"bottom":"right",S=b+u[_],E=b-u[w];b=fb(S,b,E)}const y=a.fn({...e,[p]:d,[h]:b});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[p]:s,[h]:o}}}}}},zW=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Rl(t,e),u={x:n,y:r},h=Ca(i),p=JS(h);let d=u[p],b=u[h];const y=Rl(a,e),_=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const E=p==="y"?"height":"width",k=s.reference[p]-s.floating[E]+_.mainAxis,B=s.reference[p]+s.reference[E]-_.mainAxis;d<k?d=k:d>B&&(d=B)}if(c){var w,S;const E=p==="y"?"width":"height",k=wD.has(Ll(i)),B=s.reference[h]-s.floating[E]+(k&&((w=o.offset)==null?void 0:w[h])||0)+(k?0:_.crossAxis),G=s.reference[h]+s.reference[E]+(k?0:((S=o.offset)==null?void 0:S[h])||0)-(k?_.crossAxis:0);b<B?b=B:b>G&&(b=G)}return{[p]:d,[h]:b}}}},$W=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Rl(t,e),u=await ng(e,c),h=Ll(i),p=ep(i),d=Ca(i)==="y",{width:b,height:y}=s.floating;let _,w;h==="top"||h==="bottom"?(_=h,w=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=h,_=p==="end"?"top":"bottom");const S=y-u.top-u.bottom,E=b-u.left-u.right,k=su(y-u[_],S),B=su(b-u[w],E),G=!e.middlewareData.shift;let D=k,N=B;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(D=S),G&&!p){const j=Ls(u.left,0),I=Ls(u.right,0),L=Ls(u.top,0),M=Ls(u.bottom,0);d?N=b-2*(j!==0||I!==0?j+I:Ls(u.left,u.right)):D=y-2*(L!==0||M!==0?L+M:Ls(u.top,u.bottom))}await l({...e,availableWidth:N,availableHeight:D});const P=await o.getDimensions(a.floating);return b!==P.width||y!==P.height?{reset:{rects:!0}}:{}}}};function r2(){return typeof window<"u"}function tp(t){return _D(t)?(t.nodeName||"").toLowerCase():"#document"}function Bs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Wa(t){var e;return(e=(_D(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function _D(t){return r2()?t instanceof Node||t instanceof Bs(t).Node:!1}function Ko(t){return r2()?t instanceof Element||t instanceof Bs(t).Element:!1}function qa(t){return r2()?t instanceof HTMLElement||t instanceof Bs(t).HTMLElement:!1}function W4(t){return!r2()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Bs(t).ShadowRoot}const qW=new Set(["inline","contents"]);function $g(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Yo(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!qW.has(i)}const HW=new Set(["table","td","th"]);function WW(t){return HW.has(tp(t))}const GW=[":popover-open",":modal"];function i2(t){return GW.some(e=>{try{return t.matches(e)}catch{return!1}})}const KW=["transform","translate","scale","rotate","perspective"],YW=["transform","translate","scale","rotate","perspective","filter"],XW=["paint","layout","strict","content"];function tE(t){const e=nE(),n=Ko(t)?Yo(t):t;return KW.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||YW.some(r=>(n.willChange||"").includes(r))||XW.some(r=>(n.contain||"").includes(r))}function QW(t){let e=ou(t);for(;qa(e)&&!Of(e);){if(tE(e))return e;if(i2(e))return null;e=ou(e)}return null}function nE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const JW=new Set(["html","body","#document"]);function Of(t){return JW.has(tp(t))}function Yo(t){return Bs(t).getComputedStyle(t)}function s2(t){return Ko(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ou(t){if(tp(t)==="html")return t;const e=t.assignedSlot||t.parentNode||W4(t)&&t.host||Wa(t);return W4(e)?e.host:e}function bD(t){const e=ou(t);return Of(e)?t.ownerDocument?t.ownerDocument.body:t.body:qa(e)&&$g(e)?e:bD(e)}function rg(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=bD(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Bs(i);if(s){const a=mb(o);return e.concat(o,o.visualViewport||[],$g(i)?i:[],a&&n?rg(a):[])}return e.concat(i,rg(i,[],n))}function mb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function xD(t){const e=Yo(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=qa(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=By(n)!==s||By(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function rE(t){return Ko(t)?t:t.contextElement}function of(t){const e=rE(t);if(!qa(e))return La(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=xD(e);let o=(s?By(n.width):n.width)/r,a=(s?By(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const ZW=La(0);function SD(t){const e=Bs(t);return!nE()||!e.visualViewport?ZW:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function eG(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Bs(t)?!1:e}function kh(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=rE(t);let o=La(1);e&&(r?Ko(r)&&(o=of(r)):o=of(t));const a=eG(s,n,r)?SD(s):La(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(s){const p=Bs(s),d=r&&Ko(r)?Bs(r):r;let b=p,y=mb(b);for(;y&&r&&d!==b;){const _=of(y),w=y.getBoundingClientRect(),S=Yo(y),E=w.left+(y.clientLeft+parseFloat(S.paddingLeft))*_.x,k=w.top+(y.clientTop+parseFloat(S.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,h*=_.y,l+=E,c+=k,b=Bs(y),y=mb(b)}}return $y({width:u,height:h,x:l,y:c})}function iE(t,e){const n=s2(t).scrollLeft;return e?e.left+n:kh(Wa(t)).left+n}function ED(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:iE(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function tG(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Wa(r),a=e?i2(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=La(1);const u=La(0),h=qa(r);if((h||!h&&!s)&&((tp(r)!=="body"||$g(o))&&(l=s2(r)),qa(r))){const d=kh(r);c=of(r),u.x=d.x+r.clientLeft,u.y=d.y+r.clientTop}const p=o&&!h&&!s?ED(o,l,!0):La(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:n.y*c.y-l.scrollTop*c.y+u.y+p.y}}function nG(t){return Array.from(t.getClientRects())}function rG(t){const e=Wa(t),n=s2(t),r=t.ownerDocument.body,i=Ls(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ls(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+iE(t);const a=-n.scrollTop;return Yo(r).direction==="rtl"&&(o+=Ls(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function iG(t,e){const n=Bs(t),r=Wa(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=nE();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}const sG=new Set(["absolute","fixed"]);function oG(t,e){const n=kh(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=qa(t)?of(t):La(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function G4(t,e,n){let r;if(e==="viewport")r=iG(t,n);else if(e==="document")r=rG(Wa(t));else if(Ko(e))r=oG(e,n);else{const i=SD(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return $y(r)}function AD(t,e){const n=ou(t);return n===e||!Ko(n)||Of(n)?!1:Yo(n).position==="fixed"||AD(n,e)}function aG(t,e){const n=e.get(t);if(n)return n;let r=rg(t,[],!1).filter(a=>Ko(a)&&tp(a)!=="body"),i=null;const s=Yo(t).position==="fixed";let o=s?ou(t):t;for(;Ko(o)&&!Of(o);){const a=Yo(o),l=tE(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&sG.has(i.position)||$g(o)&&!l&&AD(t,o))?r=r.filter(u=>u!==o):i=a,o=ou(o)}return e.set(t,r),r}function lG(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?i2(e)?[]:aG(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const h=G4(e,u,i);return c.top=Ls(h.top,c.top),c.right=su(h.right,c.right),c.bottom=su(h.bottom,c.bottom),c.left=Ls(h.left,c.left),c},G4(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function cG(t){const{width:e,height:n}=xD(t);return{width:e,height:n}}function uG(t,e,n){const r=qa(e),i=Wa(e),s=n==="fixed",o=kh(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=La(0);function c(){l.x=iE(i)}if(r||!r&&!s)if((tp(e)!=="body"||$g(i))&&(a=s2(e)),r){const d=kh(e,!0,s,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?ED(i,a):La(0),h=o.left+a.scrollLeft-l.x-u.x,p=o.top+a.scrollTop-l.y-u.y;return{x:h,y:p,width:o.width,height:o.height}}function Xw(t){return Yo(t).position==="static"}function K4(t,e){if(!qa(t)||Yo(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Wa(t)===n&&(n=n.ownerDocument.body),n}function TD(t,e){const n=Bs(t);if(i2(t))return n;if(!qa(t)){let i=ou(t);for(;i&&!Of(i);){if(Ko(i)&&!Xw(i))return i;i=ou(i)}return n}let r=K4(t,e);for(;r&&WW(r)&&Xw(r);)r=K4(r,e);return r&&Of(r)&&Xw(r)&&!tE(r)?n:r||QW(t)||n}const hG=async function(t){const e=this.getOffsetParent||TD,n=this.getDimensions,r=await n(t.floating);return{reference:uG(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function dG(t){return Yo(t).direction==="rtl"}const fG={convertOffsetParentRelativeRectToViewportRelativeRect:tG,getDocumentElement:Wa,getClippingRect:lG,getOffsetParent:TD,getElementRects:hG,getClientRects:nG,getDimensions:cG,getScale:of,isElement:Ko,isRTL:dG};function ID(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function pG(t,e){let n=null,r;const i=Wa(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:h,width:p,height:d}=c;if(a||e(),!p||!d)return;const b=n1(h),y=n1(i.clientWidth-(u+p)),_=n1(i.clientHeight-(h+d)),w=n1(u),E={rootMargin:-b+"px "+-y+"px "+-_+"px "+-w+"px",threshold:Ls(0,su(1,l))||1};let k=!0;function B(G){const D=G[0].intersectionRatio;if(D!==l){if(!k)return o();D?o(!1,D):r=setTimeout(()=>{o(!1,1e-7)},1e3)}D===1&&!ID(c,t.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(B,{...E,root:i.ownerDocument})}catch{n=new IntersectionObserver(B,E)}n.observe(t)}return o(!0),s}function mG(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=rE(t),u=i||s?[...c?rg(c):[],...rg(e)]:[];u.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),s&&w.addEventListener("resize",n)});const h=c&&a?pG(c,n):null;let p=-1,d=null;o&&(d=new ResizeObserver(w=>{let[S]=w;S&&S.target===c&&d&&(d.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=d)==null||E.observe(e)})),n()}),c&&!l&&d.observe(c),d.observe(e));let b,y=l?kh(t):null;l&&_();function _(){const w=kh(t);y&&!ID(y,w)&&n(),y=w,b=requestAnimationFrame(_)}return n(),()=>{var w;u.forEach(S=>{i&&S.removeEventListener("scroll",n),s&&S.removeEventListener("resize",n)}),h==null||h(),(w=d)==null||w.disconnect(),d=null,l&&cancelAnimationFrame(b)}}const gG=UW,yG=BW,vG=jW,wG=$W,_G=FW,Y4=OW,bG=zW,xG=(t,e,n)=>{const r=new Map,i={platform:fG,...n},s={...i.platform,_c:r};return MW(t,e,{...i,platform:s})};var SG=typeof document<"u",EG=function(){},q1=SG?C.useLayoutEffect:EG;function qy(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!qy(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!qy(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function CD(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function X4(t,e){const n=CD(t);return Math.round(e*n)/n}function Qw(t){const e=C.useRef(t);return q1(()=>{e.current=t}),e}function AG(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,h]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,d]=C.useState(r);qy(p,r)||d(r);const[b,y]=C.useState(null),[_,w]=C.useState(null),S=C.useCallback(Y=>{Y!==G.current&&(G.current=Y,y(Y))},[]),E=C.useCallback(Y=>{Y!==D.current&&(D.current=Y,w(Y))},[]),k=s||b,B=o||_,G=C.useRef(null),D=C.useRef(null),N=C.useRef(u),P=l!=null,j=Qw(l),I=Qw(i),L=Qw(c),M=C.useCallback(()=>{if(!G.current||!D.current)return;const Y={placement:e,strategy:n,middleware:p};I.current&&(Y.platform=I.current),xG(G.current,D.current,Y).then(Q=>{const fe={...Q,isPositioned:L.current!==!1};W.current&&!qy(N.current,fe)&&(N.current=fe,Kh.flushSync(()=>{h(fe)}))})},[p,e,n,I,L]);q1(()=>{c===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h(Y=>({...Y,isPositioned:!1})))},[c]);const W=C.useRef(!1);q1(()=>(W.current=!0,()=>{W.current=!1}),[]),q1(()=>{if(k&&(G.current=k),B&&(D.current=B),k&&B){if(j.current)return j.current(k,B,M);M()}},[k,B,M,j,P]);const ae=C.useMemo(()=>({reference:G,floating:D,setReference:S,setFloating:E}),[S,E]),ce=C.useMemo(()=>({reference:k,floating:B}),[k,B]),le=C.useMemo(()=>{const Y={position:n,left:0,top:0};if(!ce.floating)return Y;const Q=X4(ce.floating,u.x),fe=X4(ce.floating,u.y);return a?{...Y,transform:"translate("+Q+"px, "+fe+"px)",...CD(ce.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Q,top:fe}},[n,a,ce.floating,u.x,u.y]);return C.useMemo(()=>({...u,update:M,refs:ae,elements:ce,floatingStyles:le}),[u,M,ae,ce,le])}const TG=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Y4({element:r.current,padding:i}).fn(n):{}:r?Y4({element:r,padding:i}).fn(n):{}}}},IG=(t,e)=>({...gG(t),options:[t,e]}),CG=(t,e)=>({...yG(t),options:[t,e]}),NG=(t,e)=>({...bG(t),options:[t,e]}),PG=(t,e)=>({...vG(t),options:[t,e]}),kG=(t,e)=>({...wG(t),options:[t,e]}),RG=(t,e)=>({..._G(t),options:[t,e]}),LG=(t,e)=>({...TG(t),options:[t,e]});var DG="Arrow",ND=C.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return v.jsx(kt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});ND.displayName=DG;var MG=ND;function OG(t){const[e,n]=C.useState(void 0);return Fr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var sE="Popper",[PD,np]=ea(sE),[jG,kD]=PD(sE),RD=t=>{const{__scopePopper:e,children:n}=t,[r,i]=C.useState(null);return v.jsx(jG,{scope:e,anchor:r,onAnchorChange:i,children:n})};RD.displayName=sE;var LD="PopperAnchor",DD=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=kD(LD,n),o=C.useRef(null),a=Sn(e,o);return C.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:v.jsx(kt.div,{...i,ref:a})});DD.displayName=LD;var oE="PopperContent",[FG,VG]=PD(oE),MD=C.forwardRef((t,e)=>{var re,ge,me,xe,Ee,Le;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:d="optimized",onPlaced:b,...y}=t,_=kD(oE,n),[w,S]=C.useState(null),E=Sn(e,Fe=>S(Fe)),[k,B]=C.useState(null),G=OG(k),D=(G==null?void 0:G.width)??0,N=(G==null?void 0:G.height)??0,P=r+(s!=="center"?"-"+s:""),j=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},I=Array.isArray(c)?c:[c],L=I.length>0,M={padding:j,boundary:I.filter(BG),altBoundary:L},{refs:W,floatingStyles:ae,placement:ce,isPositioned:le,middlewareData:Y}=AG({strategy:"fixed",placement:P,whileElementsMounted:(...Fe)=>mG(...Fe,{animationFrame:d==="always"}),elements:{reference:_.anchor},middleware:[IG({mainAxis:i+N,alignmentAxis:o}),l&&CG({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?NG():void 0,...M}),l&&PG({...M}),kG({...M,apply:({elements:Fe,rects:Se,availableWidth:ne,availableHeight:wt})=>{const{width:pt,height:tt}=Se.reference,Ne=Fe.floating.style;Ne.setProperty("--radix-popper-available-width",`${ne}px`),Ne.setProperty("--radix-popper-available-height",`${wt}px`),Ne.setProperty("--radix-popper-anchor-width",`${pt}px`),Ne.setProperty("--radix-popper-anchor-height",`${tt}px`)}}),k&&LG({element:k,padding:a}),zG({arrowWidth:D,arrowHeight:N}),p&&RG({strategy:"referenceHidden",...M})]}),[Q,fe]=FD(ce),ye=Ki(b);Fr(()=>{le&&(ye==null||ye())},[le,ye]);const F=(re=Y.arrow)==null?void 0:re.x,X=(ge=Y.arrow)==null?void 0:ge.y,J=((me=Y.arrow)==null?void 0:me.centerOffset)!==0,[ie,oe]=C.useState();return Fr(()=>{w&&oe(window.getComputedStyle(w).zIndex)},[w]),v.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:le?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(xe=Y.transformOrigin)==null?void 0:xe.x,(Ee=Y.transformOrigin)==null?void 0:Ee.y].join(" "),...((Le=Y.hide)==null?void 0:Le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:v.jsx(FG,{scope:n,placedSide:Q,onArrowChange:B,arrowX:F,arrowY:X,shouldHideArrow:J,children:v.jsx(kt.div,{"data-side":Q,"data-align":fe,...y,ref:E,style:{...y.style,animation:le?void 0:"none"}})})})});MD.displayName=oE;var OD="PopperArrow",UG={top:"bottom",right:"left",bottom:"top",left:"right"},jD=C.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=VG(OD,r),o=UG[s.placedSide];return v.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:v.jsx(MG,{...i,ref:n,style:{...i.style,display:"block"}})})});jD.displayName=OD;function BG(t){return t!==null}var zG=t=>({name:"transformOrigin",options:t,fn(e){var _,w,S;const{placement:n,rects:r,middlewareData:i}=e,o=((_=i.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=FD(n),h={start:"0%",center:"50%",end:"100%"}[u],p=(((w=i.arrow)==null?void 0:w.x)??0)+a/2,d=(((S=i.arrow)==null?void 0:S.y)??0)+l/2;let b="",y="";return c==="bottom"?(b=o?h:`${p}px`,y=`${-l}px`):c==="top"?(b=o?h:`${p}px`,y=`${r.floating.height+l}px`):c==="right"?(b=`${-l}px`,y=o?h:`${d}px`):c==="left"&&(b=`${r.floating.width+l}px`,y=o?h:`${d}px`),{data:{x:b,y}}}});function FD(t){const[e,n="center"]=t.split("-");return[e,n]}var VD=RD,aE=DD,lE=MD,cE=jD,[o2,V0e]=ea("Tooltip",[np]),uE=np(),UD="TooltipProvider",$G=700,Q4="tooltip.open",[qG,BD]=o2(UD),zD=t=>{const{__scopeTooltip:e,delayDuration:n=$G,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=C.useRef(!0),a=C.useRef(!1),l=C.useRef(0);return C.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),v.jsx(qG,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:C.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:s})};zD.displayName=UD;var $D="Tooltip",[U0e,a2]=o2($D),gb="TooltipTrigger",HG=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=a2(gb,n),s=BD(gb,n),o=uE(n),a=C.useRef(null),l=Sn(e,a,i.onTriggerChange),c=C.useRef(!1),u=C.useRef(!1),h=C.useCallback(()=>c.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),v.jsx(aE,{asChild:!0,...o,children:v.jsx(kt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:He(t.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:He(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:He(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:He(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:He(t.onBlur,i.onClose),onClick:He(t.onClick,i.onClose)})})});HG.displayName=gb;var WG="TooltipPortal",[B0e,GG]=o2(WG,{forceMount:void 0}),jf="TooltipContent",qD=C.forwardRef((t,e)=>{const n=GG(jf,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=a2(jf,t.__scopeTooltip);return v.jsx(xu,{present:r||o.open,children:o.disableHoverableContent?v.jsx(HD,{side:i,...s,ref:e}):v.jsx(KG,{side:i,...s,ref:e})})}),KG=C.forwardRef((t,e)=>{const n=a2(jf,t.__scopeTooltip),r=BD(jf,t.__scopeTooltip),i=C.useRef(null),s=Sn(e,i),[o,a]=C.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:h}=r,p=C.useCallback(()=>{a(null),h(!1)},[h]),d=C.useCallback((b,y)=>{const _=b.currentTarget,w={x:b.clientX,y:b.clientY},S=ZG(w,_.getBoundingClientRect()),E=eK(w,S),k=tK(y.getBoundingClientRect()),B=rK([...E,...k]);a(B),h(!0)},[h]);return C.useEffect(()=>()=>p(),[p]),C.useEffect(()=>{if(l&&u){const b=_=>d(_,u),y=_=>d(_,l);return l.addEventListener("pointerleave",b),u.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",b),u.removeEventListener("pointerleave",y)}}},[l,u,d,p]),C.useEffect(()=>{if(o){const b=y=>{const _=y.target,w={x:y.clientX,y:y.clientY},S=(l==null?void 0:l.contains(_))||(u==null?void 0:u.contains(_)),E=!nK(w,o);S?p():E&&(p(),c())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,u,o,c,p]),v.jsx(HD,{...t,ref:s})}),[YG,XG]=o2($D,{isInside:!1}),QG=nq("TooltipContent"),HD=C.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=a2(jf,n),c=uE(n),{onClose:u}=l;return C.useEffect(()=>(document.addEventListener(Q4,u),()=>document.removeEventListener(Q4,u)),[u]),C.useEffect(()=>{if(l.trigger){const h=p=>{const d=p.target;d!=null&&d.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),v.jsx(Bg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:v.jsxs(lE,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[v.jsx(QG,{children:r}),v.jsx(YG,{scope:n,isInside:!0,children:v.jsx(Eq,{id:l.contentId,role:"tooltip",children:i||r})})]})})});qD.displayName=jf;var WD="TooltipArrow",JG=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=uE(n);return XG(WD,n).isInside?null:v.jsx(cE,{...i,...r,ref:e})});JG.displayName=WD;function ZG(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function eK(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function tK(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function nK(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,u=a.y,h=l.x,p=l.y;u>r!=p>r&&n<(h-c)*(r-u)/(p-u)+c&&(i=!i)}return i}function rK(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),iK(e)}function iK(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var sK=zD,GD=qD;const oK=sK,aK=C.forwardRef(({className:t,sideOffset:e=4,...n},r)=>v.jsx(GD,{ref:r,sideOffset:e,className:$t("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));aK.displayName=GD.displayName;var l2=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},c2=typeof window>"u"||"Deno"in globalThis;function jo(){}function lK(t,e){return typeof t=="function"?t(e):t}function cK(t){return typeof t=="number"&&t>=0&&t!==1/0}function uK(t,e){return Math.max(t+(e||0)-Date.now(),0)}function yb(t,e){return typeof t=="function"?t(e):t}function hK(t,e){return typeof t=="function"?t(e):t}function J4(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==hE(o,e.options))return!1}else if(!sg(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function Z4(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(ig(e.options.mutationKey)!==ig(s))return!1}else if(!sg(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function hE(t,e){return((e==null?void 0:e.queryKeyHashFn)||ig)(t)}function ig(t){return JSON.stringify(t,(e,n)=>vb(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function sg(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>sg(t[n],e[n])):!1}function KD(t,e){if(t===e)return t;const n=eC(t)&&eC(e);if(n||vb(t)&&vb(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<o;u++){const h=n?u:s[u];(!n&&l.has(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,c++):(a[h]=KD(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&c++)}return i===o&&c===i?t:a}return e}function eC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function vb(t){if(!tC(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!tC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function tC(t){return Object.prototype.toString.call(t)==="[object Object]"}function dK(t){return new Promise(e=>{setTimeout(e,t)})}function fK(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?KD(t,e):e}function pK(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function mK(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var dE=Symbol();function YD(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===dE?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var hh,Pc,wf,rR,gK=(rR=class extends l2{constructor(){super();cn(this,hh);cn(this,Pc);cn(this,wf);Ot(this,wf,e=>{if(!c2&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Pe(this,Pc)||this.setEventListener(Pe(this,wf))}onUnsubscribe(){var e;this.hasListeners()||((e=Pe(this,Pc))==null||e.call(this),Ot(this,Pc,void 0))}setEventListener(e){var n;Ot(this,wf,e),(n=Pe(this,Pc))==null||n.call(this),Ot(this,Pc,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Pe(this,hh)!==e&&(Ot(this,hh,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Pe(this,hh)=="boolean"?Pe(this,hh):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},hh=new WeakMap,Pc=new WeakMap,wf=new WeakMap,rR),XD=new gK,_f,kc,bf,iR,yK=(iR=class extends l2{constructor(){super();cn(this,_f,!0);cn(this,kc);cn(this,bf);Ot(this,bf,e=>{if(!c2&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Pe(this,kc)||this.setEventListener(Pe(this,bf))}onUnsubscribe(){var e;this.hasListeners()||((e=Pe(this,kc))==null||e.call(this),Ot(this,kc,void 0))}setEventListener(e){var n;Ot(this,bf,e),(n=Pe(this,kc))==null||n.call(this),Ot(this,kc,e(this.setOnline.bind(this)))}setOnline(e){Pe(this,_f)!==e&&(Ot(this,_f,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Pe(this,_f)}},_f=new WeakMap,kc=new WeakMap,bf=new WeakMap,iR),Hy=new yK;function vK(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function wK(t){return Math.min(1e3*2**t,3e4)}function QD(t){return(t??"online")==="online"?Hy.isOnline():!0}var JD=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Jw(t){return t instanceof JD}function ZD(t){let e=!1,n=0,r=!1,i;const s=vK(),o=y=>{var _;r||(p(new JD(y)),(_=t.abort)==null||_.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>XD.isFocused()&&(t.networkMode==="always"||Hy.isOnline())&&t.canRun(),u=()=>QD(t.networkMode)&&t.canRun(),h=y=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,y),i==null||i(),s.resolve(y))},p=y=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,y),i==null||i(),s.reject(y))},d=()=>new Promise(y=>{var _;i=w=>{(r||c())&&y(w)},(_=t.onPause)==null||_.call(t)}).then(()=>{var y;i=void 0,r||(y=t.onContinue)==null||y.call(t)}),b=()=>{if(r)return;let y;const _=n===0?t.initialPromise:void 0;try{y=_??t.fn()}catch(w){y=Promise.reject(w)}Promise.resolve(y).then(h).catch(w=>{var G;if(r)return;const S=t.retry??(c2?0:3),E=t.retryDelay??wK,k=typeof E=="function"?E(n,w):E,B=S===!0||typeof S=="number"&&n<S||typeof S=="function"&&S(n,w);if(e||!B){p(w);return}n++,(G=t.onFail)==null||G.call(t,n,w),dK(k).then(()=>c()?void 0:d()).then(()=>{e?p(w):b()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?b():d().then(b),s)}}var _K=t=>setTimeout(t,0);function bK(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=_K;const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var $i=bK(),dh,sR,eM=(sR=class{constructor(){cn(this,dh)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cK(this.gcTime)&&Ot(this,dh,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(c2?1/0:5*60*1e3))}clearGcTimeout(){Pe(this,dh)&&(clearTimeout(Pe(this,dh)),Ot(this,dh,void 0))}},dh=new WeakMap,sR),xf,fh,ao,ph,Ai,Lg,mh,Fo,pl,oR,xK=(oR=class extends eM{constructor(n){super();cn(this,Fo);cn(this,xf);cn(this,fh);cn(this,ao);cn(this,ph);cn(this,Ai);cn(this,Lg);cn(this,mh);Ot(this,mh,!1),Ot(this,Lg,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ot(this,ph,n.client),Ot(this,ao,Pe(this,ph).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ot(this,xf,EK(this.options)),this.state=n.state??Pe(this,xf),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=Pe(this,Ai))==null?void 0:n.promise}setOptions(n){this.options={...Pe(this,Lg),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Pe(this,ao).remove(this)}setData(n,r){const i=fK(this.state.data,n,this.options);return yi(this,Fo,pl).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){yi(this,Fo,pl).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=Pe(this,Ai))==null?void 0:i.promise;return(s=Pe(this,Ai))==null||s.cancel(n),r?r.then(jo).catch(jo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Pe(this,xf))}isActive(){return this.observers.some(n=>hK(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===dE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>yb(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!uK(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=Pe(this,Ai))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=Pe(this,Ai))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),Pe(this,ao).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(Pe(this,Ai)&&(Pe(this,mh)?Pe(this,Ai).cancel({revert:!0}):Pe(this,Ai).cancelRetry()),this.scheduleGc()),Pe(this,ao).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||yi(this,Fo,pl).call(this,{type:"invalidate"})}fetch(n,r){var u,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Pe(this,Ai))return Pe(this,Ai).continueRetry(),Pe(this,Ai).promise}if(n&&this.setOptions(n),!this.options.queryFn){const d=this.observers.find(b=>b.options.queryFn);d&&this.setOptions(d.options)}const i=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(Ot(this,mh,!0),i.signal)})},o=()=>{const d=YD(this.options,r),y=(()=>{const _={client:Pe(this,ph),queryKey:this.queryKey,meta:this.meta};return s(_),_})();return Ot(this,mh,!1),this.options.persister?this.options.persister(d,y,this):d(y)},l=(()=>{const d={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Pe(this,ph),state:this.state,fetchFn:o};return s(d),d})();(u=this.options.behavior)==null||u.onFetch(l,this),Ot(this,fh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&yi(this,Fo,pl).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const c=d=>{var b,y,_,w;Jw(d)&&d.silent||yi(this,Fo,pl).call(this,{type:"error",error:d}),Jw(d)||((y=(b=Pe(this,ao).config).onError)==null||y.call(b,d,this),(w=(_=Pe(this,ao).config).onSettled)==null||w.call(_,this.state.data,d,this)),this.scheduleGc()};return Ot(this,Ai,ZD({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:d=>{var b,y,_,w;if(d===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(S){c(S);return}(y=(b=Pe(this,ao).config).onSuccess)==null||y.call(b,d,this),(w=(_=Pe(this,ao).config).onSettled)==null||w.call(_,d,this.state.error,this),this.scheduleGc()},onError:c,onFail:(d,b)=>{yi(this,Fo,pl).call(this,{type:"failed",failureCount:d,error:b})},onPause:()=>{yi(this,Fo,pl).call(this,{type:"pause"})},onContinue:()=>{yi(this,Fo,pl).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),Pe(this,Ai).start()}},xf=new WeakMap,fh=new WeakMap,ao=new WeakMap,ph=new WeakMap,Ai=new WeakMap,Lg=new WeakMap,mh=new WeakMap,Fo=new WeakSet,pl=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...SK(i.data,this.options),fetchMeta:n.meta??null};case"success":return Ot(this,fh,void 0),{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return Jw(s)&&s.revert&&Pe(this,fh)?{...Pe(this,fh),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),$i.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),Pe(this,ao).notify({query:this,type:"updated",action:n})})},oR);function SK(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:QD(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function EK(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var xa,aR,AK=(aR=class extends l2{constructor(e={}){super();cn(this,xa);this.config=e,Ot(this,xa,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??hE(i,n);let o=this.get(s);return o||(o=new xK({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){Pe(this,xa).has(e.queryHash)||(Pe(this,xa).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Pe(this,xa).get(e.queryHash);n&&(e.destroy(),n===e&&Pe(this,xa).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){$i.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Pe(this,xa).get(e)}getAll(){return[...Pe(this,xa).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>J4(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>J4(e,r)):n}notify(e){$i.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){$i.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){$i.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},xa=new WeakMap,aR),Sa,Bi,gh,Ea,yc,lR,TK=(lR=class extends eM{constructor(n){super();cn(this,Ea);cn(this,Sa);cn(this,Bi);cn(this,gh);this.mutationId=n.mutationId,Ot(this,Bi,n.mutationCache),Ot(this,Sa,[]),this.state=n.state||IK(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){Pe(this,Sa).includes(n)||(Pe(this,Sa).push(n),this.clearGcTimeout(),Pe(this,Bi).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ot(this,Sa,Pe(this,Sa).filter(r=>r!==n)),this.scheduleGc(),Pe(this,Bi).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){Pe(this,Sa).length||(this.state.status==="pending"?this.scheduleGc():Pe(this,Bi).remove(this))}continue(){var n;return((n=Pe(this,gh))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,c,u,h,p,d,b,y,_,w,S,E,k,B,G,D,N,P;const r=()=>{yi(this,Ea,yc).call(this,{type:"continue"})};Ot(this,gh,ZD({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(j,I)=>{yi(this,Ea,yc).call(this,{type:"failed",failureCount:j,error:I})},onPause:()=>{yi(this,Ea,yc).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Pe(this,Bi).canRun(this)}));const i=this.state.status==="pending",s=!Pe(this,gh).canStart();try{if(i)r();else{yi(this,Ea,yc).call(this,{type:"pending",variables:n,isPaused:s}),await((a=(o=Pe(this,Bi).config).onMutate)==null?void 0:a.call(o,n,this));const I=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));I!==this.state.context&&yi(this,Ea,yc).call(this,{type:"pending",context:I,variables:n,isPaused:s})}const j=await Pe(this,gh).start();return await((h=(u=Pe(this,Bi).config).onSuccess)==null?void 0:h.call(u,j,n,this.state.context,this)),await((d=(p=this.options).onSuccess)==null?void 0:d.call(p,j,n,this.state.context)),await((y=(b=Pe(this,Bi).config).onSettled)==null?void 0:y.call(b,j,null,this.state.variables,this.state.context,this)),await((w=(_=this.options).onSettled)==null?void 0:w.call(_,j,null,n,this.state.context)),yi(this,Ea,yc).call(this,{type:"success",data:j}),j}catch(j){try{throw await((E=(S=Pe(this,Bi).config).onError)==null?void 0:E.call(S,j,n,this.state.context,this)),await((B=(k=this.options).onError)==null?void 0:B.call(k,j,n,this.state.context)),await((D=(G=Pe(this,Bi).config).onSettled)==null?void 0:D.call(G,void 0,j,this.state.variables,this.state.context,this)),await((P=(N=this.options).onSettled)==null?void 0:P.call(N,void 0,j,n,this.state.context)),j}finally{yi(this,Ea,yc).call(this,{type:"error",error:j})}}finally{Pe(this,Bi).runNext(this)}}},Sa=new WeakMap,Bi=new WeakMap,gh=new WeakMap,Ea=new WeakSet,yc=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),$i.batch(()=>{Pe(this,Sa).forEach(i=>{i.onMutationUpdate(n)}),Pe(this,Bi).notify({mutation:this,type:"updated",action:n})})},lR);function IK(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wl,Vo,Dg,cR,CK=(cR=class extends l2{constructor(e={}){super();cn(this,wl);cn(this,Vo);cn(this,Dg);this.config=e,Ot(this,wl,new Set),Ot(this,Vo,new Map),Ot(this,Dg,0)}build(e,n,r){const i=new TK({mutationCache:this,mutationId:++M0(this,Dg)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){Pe(this,wl).add(e);const n=r1(e);if(typeof n=="string"){const r=Pe(this,Vo).get(n);r?r.push(e):Pe(this,Vo).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Pe(this,wl).delete(e)){const n=r1(e);if(typeof n=="string"){const r=Pe(this,Vo).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&Pe(this,Vo).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=r1(e);if(typeof n=="string"){const r=Pe(this,Vo).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=r1(e);if(typeof n=="string"){const i=(r=Pe(this,Vo).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){$i.batch(()=>{Pe(this,wl).forEach(e=>{this.notify({type:"removed",mutation:e})}),Pe(this,wl).clear(),Pe(this,Vo).clear()})}getAll(){return Array.from(Pe(this,wl))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Z4(n,r))}findAll(e={}){return this.getAll().filter(n=>Z4(e,n))}notify(e){$i.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return $i.batch(()=>Promise.all(e.map(n=>n.continue().catch(jo))))}},wl=new WeakMap,Vo=new WeakMap,Dg=new WeakMap,cR);function r1(t){var e;return(e=t.options.scope)==null?void 0:e.id}function nC(t){return{onFetch:(e,n)=>{var u,h,p,d,b;const r=e.options,i=(p=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,s=((d=e.state.data)==null?void 0:d.pages)||[],o=((b=e.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const _=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},w=YD(e.options,e.fetchOptions),S=async(E,k,B)=>{if(y)return Promise.reject();if(k==null&&E.pages.length)return Promise.resolve(E);const D=(()=>{const I={client:e.client,queryKey:e.queryKey,pageParam:k,direction:B?"backward":"forward",meta:e.options.meta};return _(I),I})(),N=await w(D),{maxPages:P}=e.options,j=B?mK:pK;return{pages:j(E.pages,N,P),pageParams:j(E.pageParams,k,P)}};if(i&&s.length){const E=i==="backward",k=E?NK:rC,B={pages:s,pageParams:o},G=k(r,B);a=await S(B,G,E)}else{const E=t??s.length;do{const k=l===0?o[0]??r.initialPageParam:rC(r,a);if(l>0&&k==null)break;a=await S(a,k),l++}while(l<E)}return a};e.options.persister?e.fetchFn=()=>{var y,_;return(_=(y=e.options).persister)==null?void 0:_.call(y,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function rC(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function NK(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var lr,Rc,Lc,Sf,Ef,Dc,Af,Tf,uR,PK=(uR=class{constructor(t={}){cn(this,lr);cn(this,Rc);cn(this,Lc);cn(this,Sf);cn(this,Ef);cn(this,Dc);cn(this,Af);cn(this,Tf);Ot(this,lr,t.queryCache||new AK),Ot(this,Rc,t.mutationCache||new CK),Ot(this,Lc,t.defaultOptions||{}),Ot(this,Sf,new Map),Ot(this,Ef,new Map),Ot(this,Dc,0)}mount(){M0(this,Dc)._++,Pe(this,Dc)===1&&(Ot(this,Af,XD.subscribe(async t=>{t&&(await this.resumePausedMutations(),Pe(this,lr).onFocus())})),Ot(this,Tf,Hy.subscribe(async t=>{t&&(await this.resumePausedMutations(),Pe(this,lr).onOnline())})))}unmount(){var t,e;M0(this,Dc)._--,Pe(this,Dc)===0&&((t=Pe(this,Af))==null||t.call(this),Ot(this,Af,void 0),(e=Pe(this,Tf))==null||e.call(this),Ot(this,Tf,void 0))}isFetching(t){return Pe(this,lr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Pe(this,Rc).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Pe(this,lr).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Pe(this,lr).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(yb(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return Pe(this,lr).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=Pe(this,lr).get(r.queryHash),s=i==null?void 0:i.state.data,o=lK(e,s);if(o!==void 0)return Pe(this,lr).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return $i.batch(()=>Pe(this,lr).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Pe(this,lr).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Pe(this,lr);$i.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Pe(this,lr);return $i.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=$i.batch(()=>Pe(this,lr).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(jo).catch(jo)}invalidateQueries(t,e={}){return $i.batch(()=>(Pe(this,lr).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=$i.batch(()=>Pe(this,lr).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(jo)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(jo)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Pe(this,lr).build(this,e);return n.isStaleByTime(yb(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(jo).catch(jo)}fetchInfiniteQuery(t){return t.behavior=nC(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(jo).catch(jo)}ensureInfiniteQueryData(t){return t.behavior=nC(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Hy.isOnline()?Pe(this,Rc).resumePausedMutations():Promise.resolve()}getQueryCache(){return Pe(this,lr)}getMutationCache(){return Pe(this,Rc)}getDefaultOptions(){return Pe(this,Lc)}setDefaultOptions(t){Ot(this,Lc,t)}setQueryDefaults(t,e){Pe(this,Sf).set(ig(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Pe(this,Sf).values()],n={};return e.forEach(r=>{sg(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){Pe(this,Ef).set(ig(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Pe(this,Ef).values()],n={};return e.forEach(r=>{sg(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Pe(this,Lc).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=hE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===dE&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Pe(this,Lc).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Pe(this,lr).clear(),Pe(this,Rc).clear()}},lr=new WeakMap,Rc=new WeakMap,Lc=new WeakMap,Sf=new WeakMap,Ef=new WeakMap,Dc=new WeakMap,Af=new WeakMap,Tf=new WeakMap,uR),kK=C.createContext(void 0),RK=({client:t,children:e})=>(C.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),v.jsx(kK.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function og(){return og=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},og.apply(this,arguments)}var jc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(jc||(jc={}));const iC="popstate";function LK(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return wb("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Wy(i)}return MK(e,n,null,t)}function jr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tM(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DK(){return Math.random().toString(36).substr(2,8)}function sC(t,e){return{usr:t.state,key:t.key,idx:e}}function wb(t,e,n,r){return n===void 0&&(n=null),og({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?rp(e):e,{state:n,key:e&&e.key||r||DK()})}function Wy(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function rp(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function MK(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=jc.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(og({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=jc.Pop;let _=u(),w=_==null?null:_-c;c=_,l&&l({action:a,location:y.location,delta:w})}function p(_,w){a=jc.Push;let S=wb(y.location,_,w);c=u()+1;let E=sC(S,c),k=y.createHref(S);try{o.pushState(E,"",k)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(k)}s&&l&&l({action:a,location:y.location,delta:1})}function d(_,w){a=jc.Replace;let S=wb(y.location,_,w);c=u();let E=sC(S,c),k=y.createHref(S);o.replaceState(E,"",k),s&&l&&l({action:a,location:y.location,delta:0})}function b(_){let w=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof _=="string"?_:Wy(_);return S=S.replace(/ $/,"%20"),jr(w,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,w)}let y={get action(){return a},get location(){return t(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(iC,h),l=_,()=>{i.removeEventListener(iC,h),l=null}},createHref(_){return e(i,_)},createURL:b,encodeLocation(_){let w=b(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:d,go(_){return o.go(_)}};return y}var oC;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(oC||(oC={}));function OK(t,e,n){return n===void 0&&(n="/"),jK(t,e,n,!1)}function jK(t,e,n,r){let i=typeof e=="string"?rp(e):e,s=fE(i.pathname||"/",n);if(s==null)return null;let o=nM(t);FK(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=YK(s);a=GK(o[l],c,r)}return a}function nM(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(jr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Yc([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(jr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),nM(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:HK(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of rM(s.path))i(s,o,l)}),e}function rM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=rM(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function FK(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:WK(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const VK=/^:[\w-]+$/,UK=3,BK=2,zK=1,$K=10,qK=-2,aC=t=>t==="*";function HK(t,e){let n=t.split("/"),r=n.length;return n.some(aC)&&(r+=qK),e&&(r+=BK),n.filter(i=>!aC(i)).reduce((i,s)=>i+(VK.test(s)?UK:s===""?zK:$K),r)}function WK(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function GK(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=lC({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=lC({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Yc([s,h.pathname]),pathnameBase:ZK(Yc([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=Yc([s,h.pathnameBase]))}return o}function lC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=KK(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:p,isOptional:d}=u;if(p==="*"){let y=a[h]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const b=a[h];return d&&!b?c[p]=void 0:c[p]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function KK(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),tM(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function YK(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tM(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function fE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function XK(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?rp(t):t;return{pathname:n?n.startsWith("/")?n:QK(n,e):e,search:eY(r),hash:tY(i)}}function QK(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Zw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function JK(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iM(t,e){let n=JK(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function sM(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=rp(t):(i=og({},t),jr(!i.pathname||!i.pathname.includes("?"),Zw("?","pathname","search",i)),jr(!i.pathname||!i.pathname.includes("#"),Zw("#","pathname","hash",i)),jr(!i.search||!i.search.includes("#"),Zw("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=XK(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Yc=t=>t.join("/").replace(/\/\/+/g,"/"),ZK=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),eY=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tY=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function nY(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const oM=["post","put","patch","delete"];new Set(oM);const rY=["get",...oM];new Set(rY);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ag(){return ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ag.apply(this,arguments)}const pE=C.createContext(null),iY=C.createContext(null),Yh=C.createContext(null),u2=C.createContext(null),Xh=C.createContext({outlet:null,matches:[],isDataRoute:!1}),aM=C.createContext(null);function sY(t,e){let{relative:n}=e===void 0?{}:e;qg()||jr(!1);let{basename:r,navigator:i}=C.useContext(Yh),{hash:s,pathname:o,search:a}=cM(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Yc([r,o])),i.createHref({pathname:l,search:a,hash:s})}function qg(){return C.useContext(u2)!=null}function Hg(){return qg()||jr(!1),C.useContext(u2).location}function lM(t){C.useContext(Yh).static||C.useLayoutEffect(t)}function Su(){let{isDataRoute:t}=C.useContext(Xh);return t?vY():oY()}function oY(){qg()||jr(!1);let t=C.useContext(pE),{basename:e,future:n,navigator:r}=C.useContext(Yh),{matches:i}=C.useContext(Xh),{pathname:s}=Hg(),o=JSON.stringify(iM(i,n.v7_relativeSplatPath)),a=C.useRef(!1);return lM(()=>{a.current=!0}),C.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=sM(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Yc([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,s,t])}function cM(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=C.useContext(Yh),{matches:i}=C.useContext(Xh),{pathname:s}=Hg(),o=JSON.stringify(iM(i,r.v7_relativeSplatPath));return C.useMemo(()=>sM(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function aY(t,e){return lY(t,e)}function lY(t,e,n,r){qg()||jr(!1);let{navigator:i}=C.useContext(Yh),{matches:s}=C.useContext(Xh),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Hg(),u;if(e){var h;let _=typeof e=="string"?rp(e):e;l==="/"||(h=_.pathname)!=null&&h.startsWith(l)||jr(!1),u=_}else u=c;let p=u.pathname||"/",d=p;if(l!=="/"){let _=l.replace(/^\//,"").split("/");d="/"+p.replace(/^\//,"").split("/").slice(_.length).join("/")}let b=OK(t,{pathname:d}),y=fY(b&&b.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Yc([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Yc([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return e&&y?C.createElement(u2.Provider,{value:{location:ag({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:jc.Pop}},y):y}function cY(){let t=yY(),e=nY(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,null)}const uY=C.createElement(cY,null);class hY extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?C.createElement(Xh.Provider,{value:this.props.routeContext},C.createElement(aM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dY(t){let{routeContext:e,match:n,children:r}=t,i=C.useContext(pE);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(Xh.Provider,{value:e},r)}function fY(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||jr(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:p,errors:d}=n,b=h.route.loader&&p[h.route.id]===void 0&&(!d||d[h.route.id]===void 0);if(h.route.lazy||b){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,p)=>{let d,b=!1,y=null,_=null;n&&(d=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||uY,l&&(c<0&&p===0?(b=!0,_=null):c===p&&(b=!0,_=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,p+1)),S=()=>{let E;return d?E=y:b?E=_:h.route.Component?E=C.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=u,C.createElement(dY,{match:h,routeContext:{outlet:u,matches:w,isDataRoute:n!=null},children:E})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?C.createElement(hY,{location:n.location,revalidation:n.revalidation,component:y,error:d,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):S()},null)}var uM=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(uM||{}),Gy=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Gy||{});function pY(t){let e=C.useContext(pE);return e||jr(!1),e}function mY(t){let e=C.useContext(iY);return e||jr(!1),e}function gY(t){let e=C.useContext(Xh);return e||jr(!1),e}function hM(t){let e=gY(),n=e.matches[e.matches.length-1];return n.route.id||jr(!1),n.route.id}function yY(){var t;let e=C.useContext(aM),n=mY(Gy.UseRouteError),r=hM(Gy.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function vY(){let{router:t}=pY(uM.UseNavigateStable),e=hM(Gy.UseNavigateStable),n=C.useRef(!1);return lM(()=>{n.current=!0}),C.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ag({fromRouteId:e},s)))},[t,e])}function wY(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function va(t){jr(!1)}function _Y(t){let{basename:e="/",children:n=null,location:r,navigationType:i=jc.Pop,navigator:s,static:o=!1,future:a}=t;qg()&&jr(!1);let l=e.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:l,navigator:s,static:o,future:ag({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=rp(r));let{pathname:u="/",search:h="",hash:p="",state:d=null,key:b="default"}=r,y=C.useMemo(()=>{let _=fE(u,l);return _==null?null:{location:{pathname:_,search:h,hash:p,state:d,key:b},navigationType:i}},[l,u,h,p,d,b,i]);return y==null?null:C.createElement(Yh.Provider,{value:c},C.createElement(u2.Provider,{children:n,value:y}))}function bY(t){let{children:e,location:n}=t;return aY(_b(e),n)}new Promise(()=>{});function _b(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let s=[...e,i];if(r.type===C.Fragment){n.push.apply(n,_b(r.props.children,s));return}r.type!==va&&jr(!1),!r.props.index||!r.props.children||jr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=_b(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bb(){return bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bb.apply(this,arguments)}function xY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function SY(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function EY(t,e){return t.button===0&&(!e||e==="_self")&&!SY(t)}const AY=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],TY="6";try{window.__reactRouterVersion=TY}catch{}const IY="startTransition",cC=Zx[IY];function CY(t){let{basename:e,children:n,future:r,window:i}=t,s=C.useRef();s.current==null&&(s.current=LK({window:i,v5Compat:!0}));let o=s.current,[a,l]=C.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=C.useCallback(h=>{c&&cC?cC(()=>l(h)):l(h)},[l,c]);return C.useLayoutEffect(()=>o.listen(u),[o,u]),C.useEffect(()=>wY(r),[r]),C.createElement(_Y,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const NY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_m=C.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:h}=e,p=xY(e,AY),{basename:d}=C.useContext(Yh),b,y=!1;if(typeof c=="string"&&PY.test(c)&&(b=c,NY))try{let E=new URL(window.location.href),k=c.startsWith("//")?new URL(E.protocol+c):new URL(c),B=fE(k.pathname,d);k.origin===E.origin&&B!=null?c=B+k.search+k.hash:y=!0}catch{}let _=sY(c,{relative:i}),w=kY(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:h});function S(E){r&&r(E),E.defaultPrevented||w(E)}return C.createElement("a",bb({},p,{href:b||_,onClick:y||s?r:S,ref:n,target:l}))});var uC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(uC||(uC={}));var hC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(hC||(hC={}));function kY(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Su(),c=Hg(),u=cM(t,{relative:o});return C.useCallback(h=>{if(EY(h,n)){h.preventDefault();let p=r!==void 0?r:Wy(c)===Wy(u);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}const RY=()=>{};var dC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},LY=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},fM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,d=c&63;l||(d=64,o||(p=64)),r.push(n[u],n[h],n[p],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):LY(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new DY;const p=s<<2|a>>4;if(r.push(p),c!==64){const d=a<<4&240|c>>2;if(r.push(d),h!==64){const b=c<<6&192|h;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DY extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MY=function(t){const e=dM(t);return fM.encodeByteArray(e,!0)},Ky=function(t){return MY(t).replace(/\./g,"")},pM=function(t){try{return fM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OY(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jY=()=>OY().__FIREBASE_DEFAULTS__,FY=()=>{if(typeof process>"u"||typeof dC>"u")return;const t=dC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},VY=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pM(t[1]);return e&&JSON.parse(e)},h2=()=>{try{return RY()||jY()||FY()||VY()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mM=t=>{var e,n;return(n=(e=h2())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},gM=t=>{const e=mM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yM=()=>{var t;return(t=h2())==null?void 0:t.config},vM=t=>{var e;return(e=h2())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UY{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ky(JSON.stringify(n)),Ky(JSON.stringify(o)),""].join(".")}const bm={};function BY(){const t={prod:[],emulator:[]};for(const e of Object.keys(bm))bm[e]?t.emulator.push(e):t.prod.push(e);return t}function zY(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let fC=!1;function gE(t,e){if(typeof window>"u"||typeof document>"u"||!Eu(window.location.host)||bm[t]===e||bm[t]||fC)return;bm[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=BY().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,d){p.setAttribute("width","24"),p.setAttribute("id",d),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{fC=!0,o()},p}function u(p,d){p.setAttribute("id",d),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=zY(r),d=n("text"),b=document.getElementById(d)||document.createElement("span"),y=n("learnmore"),_=document.getElementById(y)||document.createElement("a"),w=n("preprendIcon"),S=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;a(E),u(_,y);const k=c();l(S,w),E.append(S,b,_,k),document.body.appendChild(E)}s?(b.innerText="Preview backend disconnected.",S.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(S.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",d)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $Y(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ki())}function qY(){var e;const t=(e=h2())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HY(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _M(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function WY(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GY(){const t=ki();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function KY(){return!qY()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bM(){try{return typeof indexedDB=="object"}catch{return!1}}function xM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}function YY(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XY="FirebaseError";class Eo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XY,Object.setPrototypeOf(this,Eo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qh.prototype.create)}}class Qh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?QY(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Eo(i,a,r)}}function QY(t,e){return t.replace(JY,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const JY=/\{\$([^}]+)}/g;function ZY(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function au(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(pC(s)&&pC(o)){if(!au(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zp(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function em(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function eX(t,e){const n=new tX(t,e);return n.subscribe.bind(n)}class tX{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nX(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=e_),i.error===void 0&&(i.error=e_),i.complete===void 0&&(i.complete=e_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nX(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function e_(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rX=1e3,iX=2,sX=4*60*60*1e3,oX=.5;function mC(t,e=rX,n=iX){const r=e*Math.pow(n,t),i=Math.round(oX*r*(Math.random()-.5)*2);return Math.min(sX,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(t){return t&&t._delegate?t._delegate:t}class bo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aX{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new UY;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cX(e))try{this.getOrInitializeService({instanceIdentifier:Qu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Qu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qu){return this.instances.has(e)}getOptions(e=Qu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lX(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qu){return this.component?this.component.multipleInstances?e:Qu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lX(t){return t===Qu?void 0:t}function cX(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uX{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aX(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Yt||(Yt={}));const hX={debug:Yt.DEBUG,verbose:Yt.VERBOSE,info:Yt.INFO,warn:Yt.WARN,error:Yt.ERROR,silent:Yt.SILENT},dX=Yt.INFO,fX={[Yt.DEBUG]:"log",[Yt.VERBOSE]:"log",[Yt.INFO]:"info",[Yt.WARN]:"warn",[Yt.ERROR]:"error"},pX=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=fX[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class d2{constructor(e){this.name=e,this._logLevel=dX,this._logHandler=pX,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hX[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Yt.DEBUG,...e),this._logHandler(this,Yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Yt.VERBOSE,...e),this._logHandler(this,Yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Yt.INFO,...e),this._logHandler(this,Yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Yt.WARN,...e),this._logHandler(this,Yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Yt.ERROR,...e),this._logHandler(this,Yt.ERROR,...e)}}const mX=(t,e)=>e.some(n=>t instanceof n);let gC,yC;function gX(){return gC||(gC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yX(){return yC||(yC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SM=new WeakMap,xb=new WeakMap,EM=new WeakMap,t_=new WeakMap,yE=new WeakMap;function vX(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Xc(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&SM.set(n,t)}).catch(()=>{}),yE.set(e,t),e}function wX(t){if(xb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});xb.set(t,e)}let Sb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||EM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _X(t){Sb=t(Sb)}function bX(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(n_(this),e,...n);return EM.set(r,e.sort?e.sort():[e]),Xc(r)}:yX().includes(t)?function(...e){return t.apply(n_(this),e),Xc(SM.get(this))}:function(...e){return Xc(t.apply(n_(this),e))}}function xX(t){return typeof t=="function"?bX(t):(t instanceof IDBTransaction&&wX(t),mX(t,gX())?new Proxy(t,Sb):t)}function Xc(t){if(t instanceof IDBRequest)return vX(t);if(t_.has(t))return t_.get(t);const e=xX(t);return e!==t&&(t_.set(t,e),yE.set(e,t)),e}const n_=t=>yE.get(t);function AM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Xc(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Xc(o.result),l.oldVersion,l.newVersion,Xc(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const SX=["get","getKey","getAll","getAllKeys","count"],EX=["put","add","delete","clear"],r_=new Map;function vC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(r_.get(e))return r_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=EX.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||SX.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return r_.set(e,s),s}_X(t=>({...t,get:(e,n,r)=>vC(e,n)||t.get(e,n,r),has:(e,n)=>!!vC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AX{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TX(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function TX(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Eb="@firebase/app",wC="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=new d2("@firebase/app"),IX="@firebase/app-compat",CX="@firebase/analytics-compat",NX="@firebase/analytics",PX="@firebase/app-check-compat",kX="@firebase/app-check",RX="@firebase/auth",LX="@firebase/auth-compat",DX="@firebase/database",MX="@firebase/data-connect",OX="@firebase/database-compat",jX="@firebase/functions",FX="@firebase/functions-compat",VX="@firebase/installations",UX="@firebase/installations-compat",BX="@firebase/messaging",zX="@firebase/messaging-compat",$X="@firebase/performance",qX="@firebase/performance-compat",HX="@firebase/remote-config",WX="@firebase/remote-config-compat",GX="@firebase/storage",KX="@firebase/storage-compat",YX="@firebase/firestore",XX="@firebase/ai",QX="@firebase/firestore-compat",JX="firebase",ZX="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="[DEFAULT]",eQ={[Eb]:"fire-core",[IX]:"fire-core-compat",[NX]:"fire-analytics",[CX]:"fire-analytics-compat",[kX]:"fire-app-check",[PX]:"fire-app-check-compat",[RX]:"fire-auth",[LX]:"fire-auth-compat",[DX]:"fire-rtdb",[MX]:"fire-data-connect",[OX]:"fire-rtdb-compat",[jX]:"fire-fn",[FX]:"fire-fn-compat",[VX]:"fire-iid",[UX]:"fire-iid-compat",[BX]:"fire-fcm",[zX]:"fire-fcm-compat",[$X]:"fire-perf",[qX]:"fire-perf-compat",[HX]:"fire-rc",[WX]:"fire-rc-compat",[GX]:"fire-gcs",[KX]:"fire-gcs-compat",[YX]:"fire-fst",[QX]:"fire-fst-compat",[XX]:"fire-vertex","fire-js":"fire-js",[JX]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=new Map,tQ=new Map,Tb=new Map;function _C(t,e){try{t.container.addComponent(e)}catch(n){Dl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xo(t){const e=t.name;if(Tb.has(e))return Dl.debug(`There were multiple attempts to register component ${e}.`),!1;Tb.set(e,t);for(const n of Yy.values())_C(n,t);for(const n of tQ.values())_C(n,t);return!0}function Au(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ds(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nQ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qc=new Qh("app","Firebase",nQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rQ{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=ZX;function TM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Ab,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Qc.create("bad-app-name",{appName:String(i)});if(n||(n=yM()),!n)throw Qc.create("no-options");const s=Yy.get(i);if(s){if(au(n,s.options)&&au(r,s.config))return s;throw Qc.create("duplicate-app",{appName:i})}const o=new uX(i);for(const l of Tb.values())o.addComponent(l);const a=new rQ(n,r,o);return Yy.set(i,a),a}function f2(t=Ab){const e=Yy.get(t);if(!e&&t===Ab&&yM())return TM();if(!e)throw Qc.create("no-app",{appName:t});return e}function ys(t,e,n){let r=eQ[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dl.warn(o.join(" "));return}Xo(new bo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iQ="firebase-heartbeat-database",sQ=1,lg="firebase-heartbeat-store";let i_=null;function IM(){return i_||(i_=AM(iQ,sQ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(lg)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qc.create("idb-open",{originalErrorMessage:t.message})})),i_}async function oQ(t){try{const n=(await IM()).transaction(lg),r=await n.objectStore(lg).get(CM(t));return await n.done,r}catch(e){if(e instanceof Eo)Dl.warn(e.message);else{const n=Qc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Dl.warn(n.message)}}}async function bC(t,e){try{const r=(await IM()).transaction(lg,"readwrite");await r.objectStore(lg).put(e,CM(t)),await r.done}catch(n){if(n instanceof Eo)Dl.warn(n.message);else{const r=Qc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Dl.warn(r.message)}}}function CM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aQ=1024,lQ=30;class cQ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hQ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=xC();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>lQ){const o=dQ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Dl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xC(),{heartbeatsToSend:r,unsentEntries:i}=uQ(this._heartbeatsCache.heartbeats),s=Ky(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Dl.warn(n),""}}}function xC(){return new Date().toISOString().substring(0,10)}function uQ(t,e=aQ){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),SC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),SC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bM()?xM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oQ(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return bC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return bC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function SC(t){return Ky(JSON.stringify({version:2,heartbeats:t})).length}function dQ(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fQ(t){Xo(new bo("platform-logger",e=>new AX(e),"PRIVATE")),Xo(new bo("heartbeat",e=>new cQ(e),"PRIVATE")),ys(Eb,wC,t),ys(Eb,wC,"esm2020"),ys("fire-js","")}fQ("");function NM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pQ=NM,PM=new Qh("auth","Firebase",NM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=new d2("@firebase/auth");function mQ(t,...e){Xy.logLevel<=Yt.WARN&&Xy.warn(`Auth (${Jh}): ${t}`,...e)}function H1(t,...e){Xy.logLevel<=Yt.ERROR&&Xy.error(`Auth (${Jh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(t,...e){throw vE(t,...e)}function Da(t,...e){return vE(t,...e)}function kM(t,e,n){const r={...pQ(),[e]:n};return new Qh("auth","Firebase",r).create(e,{appName:t.name})}function Tl(t){return kM(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return PM.create(t,...e)}function bt(t,e,...n){if(!t)throw vE(e,...n)}function Sl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw H1(e),new Error(e)}function Ml(t,e){t||Sl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function gQ(){return EC()==="http:"||EC()==="https:"}function EC(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yQ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gQ()||_M()||"connection"in navigator)?navigator.onLine:!0}function vQ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ml(n>e,"Short delay should be less than long delay!"),this.isMobile=$Y()||WY()}get(){return yQ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(t,e){Ml(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Q=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bQ=new Gg(3e4,6e4);function Tu(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Iu(t,e,n,r,i={}){return LM(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Wg({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return HY()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Eu(t.emulatorConfig.host)&&(c.credentials="include"),RM.fetch()(await DM(t,t.config.apiHost,n,a),c)})}async function LM(t,e,n){t._canInitEmulator=!1;const r={...wQ,...e};try{const i=new SQ(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw i1(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw i1(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw i1(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw i1(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw kM(t,u,c);Qo(t,u)}}catch(i){if(i instanceof Eo)throw i;Qo(t,"network-request-failed",{message:String(i)})}}async function Kg(t,e,n,r,i={}){const s=await Iu(t,e,n,r,i);return"mfaPendingCredential"in s&&Qo(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function DM(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?wE(t.config,i):`${t.config.apiScheme}://${i}`;return _Q.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function xQ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class SQ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Da(this.auth,"network-request-failed")),bQ.get())})}}function i1(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Da(t,e,r);return i.customData._tokenResponse=n,i}function AC(t){return t!==void 0&&t.enterprise!==void 0}class EQ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return xQ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function AQ(t,e){return Iu(t,"GET","/v2/recaptchaConfig",Tu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TQ(t,e){return Iu(t,"POST","/v1/accounts:delete",e)}async function Qy(t,e){return Iu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IQ(t,e=!1){const n=Wn(t),r=await n.getIdToken(e),i=_E(r);bt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:xm(s_(i.auth_time)),issuedAtTime:xm(s_(i.iat)),expirationTime:xm(s_(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function s_(t){return Number(t)*1e3}function _E(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return H1("JWT malformed, contained fewer than 3 sections"),null;try{const i=pM(n);return i?JSON.parse(i):(H1("Failed to decode base64 JWT payload"),null)}catch(i){return H1("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function TC(t){const e=_E(t);return bt(e,"internal-error"),bt(typeof e.exp<"u","internal-error"),bt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cg(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Eo&&CQ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function CQ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xm(this.lastLoginAt),this.creationTime=xm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jy(t){var h;const e=t.auth,n=await t.getIdToken(),r=await cg(t,Qy(e,{idToken:n}));bt(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(h=i.providerUserInfo)!=null&&h.length?MM(i.providerUserInfo):[],o=kQ(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Cb(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function PQ(t){const e=Wn(t);await Jy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kQ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function MM(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RQ(t,e){const n=await LM(t,{},async()=>{const r=Wg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await DM(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Eu(t.emulatorConfig.host)&&(l.credentials="include"),RM.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function LQ(t,e){return Iu(t,"POST","/v2/accounts:revokeToken",Tu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){bt(e.idToken,"internal-error"),bt(typeof e.idToken<"u","internal-error"),bt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):TC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){bt(e.length!==0,"internal-error");const n=TC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await RQ(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new af;return r&&(bt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(bt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(bt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new af,this.toJSON())}_performRefresh(){return Sl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(t,e){bt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zo{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new NQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Cb(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await cg(this,this.stsTokenManager.getToken(this.auth,e));return bt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IQ(this,e)}reload(){return PQ(this)}_assign(e){this!==e&&(bt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zo({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Jy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ds(this.auth.app))return Promise.reject(Tl(this.auth));const e=await this.getIdToken();return await cg(this,TQ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:d,providerData:b,stsTokenManager:y}=n;bt(h&&y,e,"internal-error");const _=af.fromJSON(this.name,y);bt(typeof h=="string",e,"internal-error"),pc(r,e.name),pc(i,e.name),bt(typeof p=="boolean",e,"internal-error"),bt(typeof d=="boolean",e,"internal-error"),pc(s,e.name),pc(o,e.name),pc(a,e.name),pc(l,e.name),pc(c,e.name),pc(u,e.name);const w=new zo({uid:h,auth:e,email:i,emailVerified:p,displayName:r,isAnonymous:d,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:_,createdAt:c,lastLoginAt:u});return b&&Array.isArray(b)&&(w.providerData=b.map(S=>({...S}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(e,n,r=!1){const i=new af;i.updateFromServerResponse(n);const s=new zo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Jy(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];bt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?MM(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new af;a.updateFromIdToken(r);const l=new zo({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Cb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=new Map;function El(t){Ml(t instanceof Function,"Expected a class definition");let e=IC.get(t);return e?(Ml(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,IC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OM.type="NONE";const CC=OM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(t,e,n){return`firebase:${t}:${e}:${n}`}class lf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=W1(this.userKey,i.apiKey,s),this.fullPersistenceKey=W1("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Qy(this.auth,{idToken:e}).catch(()=>{});return n?zo._fromGetAccountInfoResponse(this.auth,n,e):null}return zo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new lf(El(CC),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||El(CC);const o=W1(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){let h;if(typeof u=="string"){const p=await Qy(e,{idToken:u}).catch(()=>{});if(!p)break;h=await zo._fromGetAccountInfoResponse(e,p,u)}else h=zo._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new lf(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new lf(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zM(e))return"Blackberry";if($M(e))return"Webos";if(FM(e))return"Safari";if((e.includes("chrome/")||VM(e))&&!e.includes("edge/"))return"Chrome";if(BM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jM(t=ki()){return/firefox\//i.test(t)}function FM(t=ki()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VM(t=ki()){return/crios\//i.test(t)}function UM(t=ki()){return/iemobile/i.test(t)}function BM(t=ki()){return/android/i.test(t)}function zM(t=ki()){return/blackberry/i.test(t)}function $M(t=ki()){return/webos/i.test(t)}function bE(t=ki()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function DQ(t=ki()){var e;return bE(t)&&!!((e=window.navigator)!=null&&e.standalone)}function MQ(){return GY()&&document.documentMode===10}function qM(t=ki()){return bE(t)||BM(t)||$M(t)||zM(t)||/windows phone/i.test(t)||UM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(t,e=[]){let n;switch(t){case"Browser":n=NC(ki());break;case"Worker":n=`${NC(ki())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Jh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OQ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jQ(t,e={}){return Iu(t,"GET","/v2/passwordPolicy",Tu(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FQ=6;class VQ{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??FQ,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UQ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new PC(this),this.idTokenSubscription=new PC(this),this.beforeStateQueue=new OQ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=El(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await lf.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qy(this,{idToken:e}),r=await zo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Ds(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Jy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vQ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ds(this.app))return Promise.reject(Tl(this));const n=e?Wn(e):null;return n&&bt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&bt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ds(this.app)?Promise.reject(Tl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ds(this.app)?Promise.reject(Tl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(El(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jQ(this),n=new VQ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await LQ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&El(e)||this._popupRedirectResolver;bt(n,this,"argument-error"),this.redirectPersistenceManager=await lf.create(this,[El(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Ds(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&mQ(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Zh(t){return Wn(t)}class PC{constructor(e){this.auth=e,this.observer=null,this.addObserver=eX(n=>this.observer=n)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BQ(t){p2=t}function WM(t){return p2.loadJS(t)}function zQ(){return p2.recaptchaEnterpriseScript}function $Q(){return p2.gapiScript}function qQ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class HQ{constructor(){this.enterprise=new WQ}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class WQ{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const GQ="recaptcha-enterprise",GM="NO_RECAPTCHA";class KQ{constructor(e){this.type=GQ,this.auth=Zh(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{AQ(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new EQ(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;AC(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(GM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HQ().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&AC(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=zQ();l.length!==0&&(l+=a),WM(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function kC(t,e,n,r=!1,i=!1){const s=new KQ(t);let o;if(i)o=GM;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Nb(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await kC(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await kC(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YQ(t,e){const n=Au(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(au(s,e??{}))return i;Qo(i,"already-initialized")}return n.initialize({options:e})}function XQ(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(El);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function QQ(t,e,n){const r=Zh(t);bt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=KM(e),{host:o,port:a}=JQ(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){bt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),bt(au(c,r.config.emulator)&&au(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Eu(o)?(mE(`${s}//${o}${l}`),gE("Auth",!0)):ZQ()}function KM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function JQ(t){const e=KM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:RC(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:RC(o)}}}function RC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ZQ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Sl("not implemented")}_getIdTokenResponse(e){return Sl("not implemented")}_linkToIdToken(e,n){return Sl("not implemented")}_getReauthenticationResolver(e){return Sl("not implemented")}}async function eJ(t,e){return Iu(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tJ(t,e){return Kg(t,"POST","/v1/accounts:signInWithPassword",Tu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nJ(t,e){return Kg(t,"POST","/v1/accounts:signInWithEmailLink",Tu(t,e))}async function rJ(t,e){return Kg(t,"POST","/v1/accounts:signInWithEmailLink",Tu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug extends xE{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ug(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ug(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nb(e,n,"signInWithPassword",tJ);case"emailLink":return nJ(e,{email:this._email,oobCode:this._password});default:Qo(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nb(e,r,"signUpPassword",eJ);case"emailLink":return rJ(e,{idToken:n,email:this._email,oobCode:this._password});default:Qo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cf(t,e){return Kg(t,"POST","/v1/accounts:signInWithIdp",Tu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iJ="http://localhost";class Rh extends xE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Rh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new Rh(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return cf(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,cf(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,cf(e,n)}buildRequest(){const e={requestUri:iJ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wg(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sJ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oJ(t){const e=Zp(em(t)).link,n=e?Zp(em(e)).deep_link_id:null,r=Zp(em(t)).deep_link_id;return(r?Zp(em(r)).link:null)||r||n||e||t}class SE{constructor(e){const n=Zp(em(e)),r=n.apiKey??null,i=n.oobCode??null,s=sJ(n.mode??null);bt(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=oJ(e);try{return new SE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(){this.providerId=ip.PROVIDER_ID}static credential(e,n){return ug._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=SE.parseLink(n);return bt(r,"argument-error"),ug._fromEmailAndCode(e,r.code,r.tenantId)}}ip.PROVIDER_ID="password";ip.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ip.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg extends YM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends Yg{constructor(){super("facebook.com")}static credential(e){return Rh._fromParams({providerId:Ec.PROVIDER_ID,signInMethod:Ec.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ec.credentialFromTaggedObject(e)}static credentialFromError(e){return Ec.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ec.credential(e.oauthAccessToken)}catch{return null}}}Ec.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ec.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends Yg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Rh._fromParams({providerId:Ac.PROVIDER_ID,signInMethod:Ac.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ac.credentialFromTaggedObject(e)}static credentialFromError(e){return Ac.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ac.credential(n,r)}catch{return null}}}Ac.GOOGLE_SIGN_IN_METHOD="google.com";Ac.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends Yg{constructor(){super("github.com")}static credential(e){return Rh._fromParams({providerId:Tc.PROVIDER_ID,signInMethod:Tc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tc.credentialFromTaggedObject(e)}static credentialFromError(e){return Tc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tc.credential(e.oauthAccessToken)}catch{return null}}}Tc.GITHUB_SIGN_IN_METHOD="github.com";Tc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends Yg{constructor(){super("twitter.com")}static credential(e,n){return Rh._fromParams({providerId:Ic.PROVIDER_ID,signInMethod:Ic.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ic.credentialFromTaggedObject(e)}static credentialFromError(e){return Ic.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ic.credential(n,r)}catch{return null}}}Ic.TWITTER_SIGN_IN_METHOD="twitter.com";Ic.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aJ(t,e){return Kg(t,"POST","/v1/accounts:signUp",Tu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await zo._fromIdTokenResponse(e,r,i),o=LC(r);return new Lh({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=LC(r);return new Lh({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function LC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy extends Eo{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Zy.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Zy(e,n,r,i)}}function XM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Zy._fromErrorAndOperation(t,s,e,r):s})}async function lJ(t,e,n=!1){const r=await cg(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Lh._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cJ(t,e,n=!1){const{auth:r}=t;if(Ds(r.app))return Promise.reject(Tl(r));const i="reauthenticate";try{const s=await cg(t,XM(r,i,e,t),n);bt(s.idToken,r,"internal-error");const o=_E(s.idToken);bt(o,r,"internal-error");const{sub:a}=o;return bt(t.uid===a,r,"user-mismatch"),Lh._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Qo(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QM(t,e,n=!1){if(Ds(t.app))return Promise.reject(Tl(t));const r="signIn",i=await XM(t,r,e),s=await Lh._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function uJ(t,e){return QM(Zh(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JM(t){const e=Zh(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hJ(t,e,n){if(Ds(t.app))return Promise.reject(Tl(t));const r=Zh(t),o=await Nb(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aJ).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&JM(t),l}),a=await Lh._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function dJ(t,e,n){return Ds(t.app)?Promise.reject(Tl(t)):uJ(Wn(t),ip.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&JM(t),r})}function fJ(t,e,n,r){return Wn(t).onIdTokenChanged(e,n,r)}function pJ(t,e,n){return Wn(t).beforeAuthStateChanged(e,n)}function mJ(t){return Wn(t).signOut()}const ev="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ev,"1"),this.storage.removeItem(ev),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gJ=1e3,yJ=10;class e8 extends ZM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);MQ()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,yJ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},gJ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}e8.type="LOCAL";const vJ=e8;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8 extends ZM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}t8.type="SESSION";const n8=t8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wJ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new m2(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await wJ(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}m2.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _J{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=EE("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(){return window}function bJ(t){Ma().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(){return typeof Ma().WorkerGlobalScope<"u"&&typeof Ma().importScripts=="function"}async function xJ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SJ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function EJ(){return r8()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8="firebaseLocalStorageDb",AJ=1,tv="firebaseLocalStorage",s8="fbase_key";class Xg{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function g2(t,e){return t.transaction([tv],e?"readwrite":"readonly").objectStore(tv)}function TJ(){const t=indexedDB.deleteDatabase(i8);return new Xg(t).toPromise()}function Pb(){const t=indexedDB.open(i8,AJ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(tv,{keyPath:s8})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(tv)?e(r):(r.close(),await TJ(),e(await Pb()))})})}async function DC(t,e,n){const r=g2(t,!0).put({[s8]:e,value:n});return new Xg(r).toPromise()}async function IJ(t,e){const n=g2(t,!1).get(e),r=await new Xg(n).toPromise();return r===void 0?null:r.value}function MC(t,e){const n=g2(t,!0).delete(e);return new Xg(n).toPromise()}const CJ=800,NJ=3;class o8{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>NJ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return r8()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=m2._getInstance(EJ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await xJ(),!this.activeServiceWorker)return;this.sender=new _J(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SJ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pb();return await DC(e,ev,"1"),await MC(e,ev),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>DC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>IJ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>MC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=g2(i,!1).getAll();return new Xg(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CJ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o8.type="LOCAL";const PJ=o8;new Gg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kJ(t,e){return e?El(e):(bt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE extends xE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cf(e,this._buildIdpRequest())}_linkToIdToken(e,n){return cf(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return cf(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function RJ(t){return QM(t.auth,new AE(t),t.bypassAuthState)}function LJ(t){const{auth:e,user:n}=t;return bt(n,e,"internal-error"),cJ(n,new AE(t),t.bypassAuthState)}async function DJ(t){const{auth:e,user:n}=t;return bt(n,e,"internal-error"),lJ(n,new AE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RJ;case"linkViaPopup":case"linkViaRedirect":return DJ;case"reauthViaPopup":case"reauthViaRedirect":return LJ;default:Qo(this.auth,"internal-error")}}resolve(e){Ml(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ml(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MJ=new Gg(2e3,1e4);class Hd extends a8{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Hd.currentPopupAction&&Hd.currentPopupAction.cancel(),Hd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return bt(e,this.auth,"internal-error"),e}async onExecution(){Ml(this.filter.length===1,"Popup operations only handle one event");const e=EE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Da(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Da(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Da(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MJ.get())};e()}}Hd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OJ="pendingRedirect",G1=new Map;class jJ extends a8{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=G1.get(this.auth._key());if(!e){try{const r=await FJ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}G1.set(this.auth._key(),e)}return this.bypassAuthState||G1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FJ(t,e){const n=BJ(e),r=UJ(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function VJ(t,e){G1.set(t._key(),e)}function UJ(t){return El(t._redirectPersistence)}function BJ(t){return W1(OJ,t.config.apiKey,t.name)}async function zJ(t,e,n=!1){if(Ds(t.app))return Promise.reject(Tl(t));const r=Zh(t),i=kJ(r,e),o=await new jJ(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $J=10*60*1e3;class qJ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HJ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!l8(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Da(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$J&&this.cachedEventUids.clear(),this.cachedEventUids.has(OC(e))}saveEventToCache(e){this.cachedEventUids.add(OC(e)),this.lastProcessedEventTime=Date.now()}}function OC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function l8({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HJ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l8(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WJ(t,e={}){return Iu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GJ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KJ=/^https?/;async function YJ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await WJ(t);for(const n of e)try{if(XJ(n))return}catch{}Qo(t,"unauthorized-domain")}function XJ(t){const e=Ib(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!KJ.test(n))return!1;if(GJ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QJ=new Gg(3e4,6e4);function jC(){const t=Ma().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function JJ(t){return new Promise((e,n)=>{var i,s,o;function r(){jC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jC(),n(Da(t,"network-request-failed"))},timeout:QJ.get()})}if((s=(i=Ma().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=Ma().gapi)!=null&&o.load)r();else{const a=qQ("iframefcb");return Ma()[a]=()=>{gapi.load?r():n(Da(t,"network-request-failed"))},WM(`${$Q()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw K1=null,e})}let K1=null;function ZJ(t){return K1=K1||JJ(t),K1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eZ=new Gg(5e3,15e3),tZ="__/auth/iframe",nZ="emulator/auth/iframe",rZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sZ(t){const e=t.config;bt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wE(e,nZ):`https://${t.config.authDomain}/${tZ}`,r={apiKey:e.apiKey,appName:t.name,v:Jh},i=iZ.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Wg(r).slice(1)}`}async function oZ(t){const e=await ZJ(t),n=Ma().gapi;return bt(n,t,"internal-error"),e.open({where:document.body,url:sZ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rZ,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Da(t,"network-request-failed"),a=Ma().setTimeout(()=>{s(o)},eZ.get());function l(){Ma().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lZ=500,cZ=600,uZ="_blank",hZ="http://localhost";class FC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dZ(t,e,n,r=lZ,i=cZ){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...aZ,width:r.toString(),height:i.toString(),top:s,left:o},c=ki().toLowerCase();n&&(a=VM(c)?uZ:n),jM(c)&&(e=e||hZ,l.scrollbars="yes");const u=Object.entries(l).reduce((p,[d,b])=>`${p}${d}=${b},`,"");if(DQ(c)&&a!=="_self")return fZ(e||"",a),new FC(null);const h=window.open(e||"",a,u);bt(h,t,"popup-blocked");try{h.focus()}catch{}return new FC(h)}function fZ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pZ="__/auth/handler",mZ="emulator/auth/handler",gZ=encodeURIComponent("fac");async function VC(t,e,n,r,i,s){bt(t.config.authDomain,t,"auth-domain-config-required"),bt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Jh,eventId:i};if(e instanceof YM){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ZY(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))o[u]=h}if(e instanceof Yg){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${gZ}=${encodeURIComponent(l)}`:"";return`${yZ(t)}?${Wg(a).slice(1)}${c}`}function yZ({config:t}){return t.emulator?wE(t,mZ):`https://${t.authDomain}/${pZ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="webStorageSupport";class vZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=n8,this._completeRedirectFn=zJ,this._overrideRedirectResult=VJ}async _openPopup(e,n,r,i){var o;Ml((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await VC(e,n,r,Ib(),i);return dZ(e,s,EE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await VC(e,n,r,Ib(),i);return bJ(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ml(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await oZ(e),r=new qJ(e);return n.register("authEvent",i=>(bt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(o_,{type:o_},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[o_];s!==void 0&&n(!!s),Qo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=YJ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qM()||FM()||bE()}}const wZ=vZ;var UC="@firebase/auth",BC="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Z{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bZ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xZ(t){Xo(new bo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;bt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HM(t)},c=new UQ(r,i,s,l);return XQ(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xo(new bo("auth-internal",e=>{const n=Zh(e.getProvider("auth").getImmediate());return(r=>new _Z(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ys(UC,BC,bZ(t)),ys(UC,BC,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SZ=5*60,EZ=vM("authIdTokenMaxAge")||SZ;let zC=null;const AZ=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>EZ)return;const i=n==null?void 0:n.token;zC!==i&&(zC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function TZ(t=f2()){const e=Au(t,"auth");if(e.isInitialized())return e.getImmediate();const n=YQ(t,{popupRedirectResolver:wZ,persistence:[PJ,vJ,n8]}),r=vM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=AZ(s.toString());pJ(n,o,()=>o(n.currentUser)),fJ(n,a=>o(a))}}const i=mM("auth");return i&&QQ(n,`http://${i}`),n}function IZ(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}BQ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Da("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",IZ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xZ("Browser");var CZ="firebase",NZ="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ys(CZ,NZ,"app");var $C=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jc,c8;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,N){function P(){}P.prototype=N.prototype,D.F=N.prototype,D.prototype=new P,D.prototype.constructor=D,D.D=function(j,I,L){for(var M=Array(arguments.length-2),W=2;W<arguments.length;W++)M[W-2]=arguments[W];return N.prototype[I].apply(j,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,N,P){P||(P=0);const j=Array(16);if(typeof N=="string")for(var I=0;I<16;++I)j[I]=N.charCodeAt(P++)|N.charCodeAt(P++)<<8|N.charCodeAt(P++)<<16|N.charCodeAt(P++)<<24;else for(I=0;I<16;++I)j[I]=N[P++]|N[P++]<<8|N[P++]<<16|N[P++]<<24;N=D.g[0],P=D.g[1],I=D.g[2];let L=D.g[3],M;M=N+(L^P&(I^L))+j[0]+3614090360&4294967295,N=P+(M<<7&4294967295|M>>>25),M=L+(I^N&(P^I))+j[1]+3905402710&4294967295,L=N+(M<<12&4294967295|M>>>20),M=I+(P^L&(N^P))+j[2]+606105819&4294967295,I=L+(M<<17&4294967295|M>>>15),M=P+(N^I&(L^N))+j[3]+3250441966&4294967295,P=I+(M<<22&4294967295|M>>>10),M=N+(L^P&(I^L))+j[4]+4118548399&4294967295,N=P+(M<<7&4294967295|M>>>25),M=L+(I^N&(P^I))+j[5]+1200080426&4294967295,L=N+(M<<12&4294967295|M>>>20),M=I+(P^L&(N^P))+j[6]+2821735955&4294967295,I=L+(M<<17&4294967295|M>>>15),M=P+(N^I&(L^N))+j[7]+4249261313&4294967295,P=I+(M<<22&4294967295|M>>>10),M=N+(L^P&(I^L))+j[8]+1770035416&4294967295,N=P+(M<<7&4294967295|M>>>25),M=L+(I^N&(P^I))+j[9]+2336552879&4294967295,L=N+(M<<12&4294967295|M>>>20),M=I+(P^L&(N^P))+j[10]+4294925233&4294967295,I=L+(M<<17&4294967295|M>>>15),M=P+(N^I&(L^N))+j[11]+2304563134&4294967295,P=I+(M<<22&4294967295|M>>>10),M=N+(L^P&(I^L))+j[12]+1804603682&4294967295,N=P+(M<<7&4294967295|M>>>25),M=L+(I^N&(P^I))+j[13]+4254626195&4294967295,L=N+(M<<12&4294967295|M>>>20),M=I+(P^L&(N^P))+j[14]+2792965006&4294967295,I=L+(M<<17&4294967295|M>>>15),M=P+(N^I&(L^N))+j[15]+1236535329&4294967295,P=I+(M<<22&4294967295|M>>>10),M=N+(I^L&(P^I))+j[1]+4129170786&4294967295,N=P+(M<<5&4294967295|M>>>27),M=L+(P^I&(N^P))+j[6]+3225465664&4294967295,L=N+(M<<9&4294967295|M>>>23),M=I+(N^P&(L^N))+j[11]+643717713&4294967295,I=L+(M<<14&4294967295|M>>>18),M=P+(L^N&(I^L))+j[0]+3921069994&4294967295,P=I+(M<<20&4294967295|M>>>12),M=N+(I^L&(P^I))+j[5]+3593408605&4294967295,N=P+(M<<5&4294967295|M>>>27),M=L+(P^I&(N^P))+j[10]+38016083&4294967295,L=N+(M<<9&4294967295|M>>>23),M=I+(N^P&(L^N))+j[15]+3634488961&4294967295,I=L+(M<<14&4294967295|M>>>18),M=P+(L^N&(I^L))+j[4]+3889429448&4294967295,P=I+(M<<20&4294967295|M>>>12),M=N+(I^L&(P^I))+j[9]+568446438&4294967295,N=P+(M<<5&4294967295|M>>>27),M=L+(P^I&(N^P))+j[14]+3275163606&4294967295,L=N+(M<<9&4294967295|M>>>23),M=I+(N^P&(L^N))+j[3]+4107603335&4294967295,I=L+(M<<14&4294967295|M>>>18),M=P+(L^N&(I^L))+j[8]+1163531501&4294967295,P=I+(M<<20&4294967295|M>>>12),M=N+(I^L&(P^I))+j[13]+2850285829&4294967295,N=P+(M<<5&4294967295|M>>>27),M=L+(P^I&(N^P))+j[2]+4243563512&4294967295,L=N+(M<<9&4294967295|M>>>23),M=I+(N^P&(L^N))+j[7]+1735328473&4294967295,I=L+(M<<14&4294967295|M>>>18),M=P+(L^N&(I^L))+j[12]+2368359562&4294967295,P=I+(M<<20&4294967295|M>>>12),M=N+(P^I^L)+j[5]+4294588738&4294967295,N=P+(M<<4&4294967295|M>>>28),M=L+(N^P^I)+j[8]+2272392833&4294967295,L=N+(M<<11&4294967295|M>>>21),M=I+(L^N^P)+j[11]+1839030562&4294967295,I=L+(M<<16&4294967295|M>>>16),M=P+(I^L^N)+j[14]+4259657740&4294967295,P=I+(M<<23&4294967295|M>>>9),M=N+(P^I^L)+j[1]+2763975236&4294967295,N=P+(M<<4&4294967295|M>>>28),M=L+(N^P^I)+j[4]+1272893353&4294967295,L=N+(M<<11&4294967295|M>>>21),M=I+(L^N^P)+j[7]+4139469664&4294967295,I=L+(M<<16&4294967295|M>>>16),M=P+(I^L^N)+j[10]+3200236656&4294967295,P=I+(M<<23&4294967295|M>>>9),M=N+(P^I^L)+j[13]+681279174&4294967295,N=P+(M<<4&4294967295|M>>>28),M=L+(N^P^I)+j[0]+3936430074&4294967295,L=N+(M<<11&4294967295|M>>>21),M=I+(L^N^P)+j[3]+3572445317&4294967295,I=L+(M<<16&4294967295|M>>>16),M=P+(I^L^N)+j[6]+76029189&4294967295,P=I+(M<<23&4294967295|M>>>9),M=N+(P^I^L)+j[9]+3654602809&4294967295,N=P+(M<<4&4294967295|M>>>28),M=L+(N^P^I)+j[12]+3873151461&4294967295,L=N+(M<<11&4294967295|M>>>21),M=I+(L^N^P)+j[15]+530742520&4294967295,I=L+(M<<16&4294967295|M>>>16),M=P+(I^L^N)+j[2]+3299628645&4294967295,P=I+(M<<23&4294967295|M>>>9),M=N+(I^(P|~L))+j[0]+4096336452&4294967295,N=P+(M<<6&4294967295|M>>>26),M=L+(P^(N|~I))+j[7]+1126891415&4294967295,L=N+(M<<10&4294967295|M>>>22),M=I+(N^(L|~P))+j[14]+2878612391&4294967295,I=L+(M<<15&4294967295|M>>>17),M=P+(L^(I|~N))+j[5]+4237533241&4294967295,P=I+(M<<21&4294967295|M>>>11),M=N+(I^(P|~L))+j[12]+1700485571&4294967295,N=P+(M<<6&4294967295|M>>>26),M=L+(P^(N|~I))+j[3]+2399980690&4294967295,L=N+(M<<10&4294967295|M>>>22),M=I+(N^(L|~P))+j[10]+4293915773&4294967295,I=L+(M<<15&4294967295|M>>>17),M=P+(L^(I|~N))+j[1]+2240044497&4294967295,P=I+(M<<21&4294967295|M>>>11),M=N+(I^(P|~L))+j[8]+1873313359&4294967295,N=P+(M<<6&4294967295|M>>>26),M=L+(P^(N|~I))+j[15]+4264355552&4294967295,L=N+(M<<10&4294967295|M>>>22),M=I+(N^(L|~P))+j[6]+2734768916&4294967295,I=L+(M<<15&4294967295|M>>>17),M=P+(L^(I|~N))+j[13]+1309151649&4294967295,P=I+(M<<21&4294967295|M>>>11),M=N+(I^(P|~L))+j[4]+4149444226&4294967295,N=P+(M<<6&4294967295|M>>>26),M=L+(P^(N|~I))+j[11]+3174756917&4294967295,L=N+(M<<10&4294967295|M>>>22),M=I+(N^(L|~P))+j[2]+718787259&4294967295,I=L+(M<<15&4294967295|M>>>17),M=P+(L^(I|~N))+j[9]+3951481745&4294967295,D.g[0]=D.g[0]+N&4294967295,D.g[1]=D.g[1]+(I+(M<<21&4294967295|M>>>11))&4294967295,D.g[2]=D.g[2]+I&4294967295,D.g[3]=D.g[3]+L&4294967295}r.prototype.v=function(D,N){N===void 0&&(N=D.length);const P=N-this.blockSize,j=this.C;let I=this.h,L=0;for(;L<N;){if(I==0)for(;L<=P;)i(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<N;)if(j[I++]=D.charCodeAt(L++),I==this.blockSize){i(this,j),I=0;break}}else for(;L<N;)if(j[I++]=D[L++],I==this.blockSize){i(this,j),I=0;break}}this.h=I,this.o+=N},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var N=1;N<D.length-8;++N)D[N]=0;N=this.o*8;for(var P=D.length-8;P<D.length;++P)D[P]=N&255,N/=256;for(this.v(D),D=Array(16),N=0,P=0;P<4;++P)for(let j=0;j<32;j+=8)D[N++]=this.g[P]>>>j&255;return D};function s(D,N){var P=a;return Object.prototype.hasOwnProperty.call(P,D)?P[D]:P[D]=N(D)}function o(D,N){this.h=N;const P=[];let j=!0;for(let I=D.length-1;I>=0;I--){const L=D[I]|0;j&&L==N||(P[I]=L,j=!1)}this.g=P}var a={};function l(D){return-128<=D&&D<128?s(D,function(N){return new o([N|0],N<0?-1:0)}):new o([D|0],D<0?-1:0)}function c(D){if(isNaN(D)||!isFinite(D))return h;if(D<0)return _(c(-D));const N=[];let P=1;for(let j=0;D>=P;j++)N[j]=D/P|0,P*=4294967296;return new o(N,0)}function u(D,N){if(D.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(D.charAt(0)=="-")return _(u(D.substring(1),N));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=c(Math.pow(N,8));let j=h;for(let L=0;L<D.length;L+=8){var I=Math.min(8,D.length-L);const M=parseInt(D.substring(L,L+I),N);I<8?(I=c(Math.pow(N,I)),j=j.j(I).add(c(M))):(j=j.j(P),j=j.add(c(M)))}return j}var h=l(0),p=l(1),d=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-_(this).m();let D=0,N=1;for(let P=0;P<this.g.length;P++){const j=this.i(P);D+=(j>=0?j:4294967296+j)*N,N*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(b(this))return"0";if(y(this))return"-"+_(this).toString(D);const N=c(Math.pow(D,6));var P=this;let j="";for(;;){const I=k(P,N).g;P=w(P,I.j(N));let L=((P.g.length>0?P.g[0]:P.h)>>>0).toString(D);if(P=I,b(P))return L+j;for(;L.length<6;)L="0"+L;j=L+j}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function b(D){if(D.h!=0)return!1;for(let N=0;N<D.g.length;N++)if(D.g[N]!=0)return!1;return!0}function y(D){return D.h==-1}t.l=function(D){return D=w(this,D),y(D)?-1:b(D)?0:1};function _(D){const N=D.g.length,P=[];for(let j=0;j<N;j++)P[j]=~D.g[j];return new o(P,~D.h).add(p)}t.abs=function(){return y(this)?_(this):this},t.add=function(D){const N=Math.max(this.g.length,D.g.length),P=[];let j=0;for(let I=0;I<=N;I++){let L=j+(this.i(I)&65535)+(D.i(I)&65535),M=(L>>>16)+(this.i(I)>>>16)+(D.i(I)>>>16);j=M>>>16,L&=65535,M&=65535,P[I]=M<<16|L}return new o(P,P[P.length-1]&-2147483648?-1:0)};function w(D,N){return D.add(_(N))}t.j=function(D){if(b(this)||b(D))return h;if(y(this))return y(D)?_(this).j(_(D)):_(_(this).j(D));if(y(D))return _(this.j(_(D)));if(this.l(d)<0&&D.l(d)<0)return c(this.m()*D.m());const N=this.g.length+D.g.length,P=[];for(var j=0;j<2*N;j++)P[j]=0;for(j=0;j<this.g.length;j++)for(let I=0;I<D.g.length;I++){const L=this.i(j)>>>16,M=this.i(j)&65535,W=D.i(I)>>>16,ae=D.i(I)&65535;P[2*j+2*I]+=M*ae,S(P,2*j+2*I),P[2*j+2*I+1]+=L*ae,S(P,2*j+2*I+1),P[2*j+2*I+1]+=M*W,S(P,2*j+2*I+1),P[2*j+2*I+2]+=L*W,S(P,2*j+2*I+2)}for(D=0;D<N;D++)P[D]=P[2*D+1]<<16|P[2*D];for(D=N;D<2*N;D++)P[D]=0;return new o(P,0)};function S(D,N){for(;(D[N]&65535)!=D[N];)D[N+1]+=D[N]>>>16,D[N]&=65535,N++}function E(D,N){this.g=D,this.h=N}function k(D,N){if(b(N))throw Error("division by zero");if(b(D))return new E(h,h);if(y(D))return N=k(_(D),N),new E(_(N.g),_(N.h));if(y(N))return N=k(D,_(N)),new E(_(N.g),N.h);if(D.g.length>30){if(y(D)||y(N))throw Error("slowDivide_ only works with positive integers.");for(var P=p,j=N;j.l(D)<=0;)P=B(P),j=B(j);var I=G(P,1),L=G(j,1);for(j=G(j,2),P=G(P,2);!b(j);){var M=L.add(j);M.l(D)<=0&&(I=I.add(P),L=M),j=G(j,1),P=G(P,1)}return N=w(D,I.j(N)),new E(I,N)}for(I=h;D.l(N)>=0;){for(P=Math.max(1,Math.floor(D.m()/N.m())),j=Math.ceil(Math.log(P)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),L=c(P),M=L.j(N);y(M)||M.l(D)>0;)P-=j,L=c(P),M=L.j(N);b(L)&&(L=p),I=I.add(L),D=w(D,M)}return new E(I,D)}t.B=function(D){return k(this,D).h},t.and=function(D){const N=Math.max(this.g.length,D.g.length),P=[];for(let j=0;j<N;j++)P[j]=this.i(j)&D.i(j);return new o(P,this.h&D.h)},t.or=function(D){const N=Math.max(this.g.length,D.g.length),P=[];for(let j=0;j<N;j++)P[j]=this.i(j)|D.i(j);return new o(P,this.h|D.h)},t.xor=function(D){const N=Math.max(this.g.length,D.g.length),P=[];for(let j=0;j<N;j++)P[j]=this.i(j)^D.i(j);return new o(P,this.h^D.h)};function B(D){const N=D.g.length+1,P=[];for(let j=0;j<N;j++)P[j]=D.i(j)<<1|D.i(j-1)>>>31;return new o(P,D.h)}function G(D,N){const P=N>>5;N%=32;const j=D.g.length-P,I=[];for(let L=0;L<j;L++)I[L]=N>0?D.i(L+P)>>>N|D.i(L+P+1)<<32-N:D.i(L+P);return new o(I,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,c8=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Jc=o}).apply(typeof $C<"u"?$C:typeof self<"u"?self:typeof window<"u"?window:{});var s1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var u8,tm,h8,Y1,kb,d8,f8,p8;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof s1=="object"&&s1];for(var T=0;T<m.length;++T){var O=m[T];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function i(m,T){if(T)e:{var O=r;m=m.split(".");for(var H=0;H<m.length-1;H++){var pe=m[H];if(!(pe in O))break e;O=O[pe]}m=m[m.length-1],H=O[m],T=T(H),T!=H&&T!=null&&e(O,m,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(m){return m||function(T){var O=[],H;for(H in T)Object.prototype.hasOwnProperty.call(T,H)&&O.push([H,T[H]]);return O}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function l(m,T,O){return m.call.apply(m.bind,arguments)}function c(m,T,O){return c=l,c.apply(null,arguments)}function u(m,T){var O=Array.prototype.slice.call(arguments,1);return function(){var H=O.slice();return H.push.apply(H,arguments),m.apply(this,H)}}function h(m,T){function O(){}O.prototype=T.prototype,m.Z=T.prototype,m.prototype=new O,m.prototype.constructor=m,m.Ob=function(H,pe,be){for(var Ve=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)Ve[Nt-2]=arguments[Nt];return T.prototype[pe].apply(H,Ve)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function d(m){const T=m.length;if(T>0){const O=Array(T);for(let H=0;H<T;H++)O[H]=m[H];return O}return[]}function b(m,T){for(let H=1;H<arguments.length;H++){const pe=arguments[H];var O=typeof pe;if(O=O!="object"?O:pe?Array.isArray(pe)?"array":O:"null",O=="array"||O=="object"&&typeof pe.length=="number"){O=m.length||0;const be=pe.length||0;m.length=O+be;for(let Ve=0;Ve<be;Ve++)m[O+Ve]=pe[Ve]}else m.push(pe)}}class y{constructor(T,O){this.i=T,this.j=O,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function _(m){o.setTimeout(()=>{throw m},0)}function w(){var m=D;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class S{constructor(){this.h=this.g=null}add(T,O){const H=E.get();H.set(T,O),this.h?this.h.next=H:this.g=H,this.h=H}}var E=new y(()=>new k,m=>m.reset());class k{constructor(){this.next=this.g=this.h=null}set(T,O){this.h=T,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let B,G=!1,D=new S,N=()=>{const m=Promise.resolve(void 0);B=()=>{m.then(P)}};function P(){for(var m;m=w();){try{m.h.call(m.g)}catch(O){_(O)}var T=E;T.j(m),T.h<100&&(T.h++,m.next=T.g,T.g=m)}G=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const O=()=>{};o.addEventListener("test",O,T),o.removeEventListener("test",O,T)}catch{}return m}();function M(m){return/^[\s\xa0]*$/.test(m)}function W(m,T){I.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,T)}h(W,I),W.prototype.init=function(m,T){const O=this.type=m.type,H=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget,T||(O=="mouseover"?T=m.fromElement:O=="mouseout"&&(T=m.toElement)),this.relatedTarget=T,H?(this.clientX=H.clientX!==void 0?H.clientX:H.pageX,this.clientY=H.clientY!==void 0?H.clientY:H.pageY,this.screenX=H.screenX||0,this.screenY=H.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&W.Z.h.call(this)},W.prototype.h=function(){W.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),ce=0;function le(m,T,O,H,pe){this.listener=m,this.proxy=null,this.src=T,this.type=O,this.capture=!!H,this.ha=pe,this.key=++ce,this.da=this.fa=!1}function Y(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Q(m,T,O){for(const H in m)T.call(O,m[H],H,m)}function fe(m,T){for(const O in m)T.call(void 0,m[O],O,m)}function ye(m){const T={};for(const O in m)T[O]=m[O];return T}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(m,T){let O,H;for(let pe=1;pe<arguments.length;pe++){H=arguments[pe];for(O in H)m[O]=H[O];for(let be=0;be<F.length;be++)O=F[be],Object.prototype.hasOwnProperty.call(H,O)&&(m[O]=H[O])}}function J(m){this.src=m,this.g={},this.h=0}J.prototype.add=function(m,T,O,H,pe){const be=m.toString();m=this.g[be],m||(m=this.g[be]=[],this.h++);const Ve=oe(m,T,H,pe);return Ve>-1?(T=m[Ve],O||(T.fa=!1)):(T=new le(T,this.src,be,!!H,pe),T.fa=O,m.push(T)),T};function ie(m,T){const O=T.type;if(O in m.g){var H=m.g[O],pe=Array.prototype.indexOf.call(H,T,void 0),be;(be=pe>=0)&&Array.prototype.splice.call(H,pe,1),be&&(Y(T),m.g[O].length==0&&(delete m.g[O],m.h--))}}function oe(m,T,O,H){for(let pe=0;pe<m.length;++pe){const be=m[pe];if(!be.da&&be.listener==T&&be.capture==!!O&&be.ha==H)return pe}return-1}var re="closure_lm_"+(Math.random()*1e6|0),ge={};function me(m,T,O,H,pe){if(Array.isArray(T)){for(let be=0;be<T.length;be++)me(m,T[be],O,H,pe);return null}return O=tt(O),m&&m[ae]?m.J(T,O,a(H)?!!H.capture:!!H,pe):xe(m,T,O,!1,H,pe)}function xe(m,T,O,H,pe,be){if(!T)throw Error("Invalid event type");const Ve=a(pe)?!!pe.capture:!!pe;let Nt=wt(m);if(Nt||(m[re]=Nt=new J(m)),O=Nt.add(T,O,H,Ve,be),O.proxy)return O;if(H=Ee(),O.proxy=H,H.src=m,H.listener=O,m.addEventListener)L||(pe=Ve),pe===void 0&&(pe=!1),m.addEventListener(T.toString(),H,pe);else if(m.attachEvent)m.attachEvent(Se(T.toString()),H);else if(m.addListener&&m.removeListener)m.addListener(H);else throw Error("addEventListener and attachEvent are unavailable.");return O}function Ee(){function m(O){return T.call(m.src,m.listener,O)}const T=ne;return m}function Le(m,T,O,H,pe){if(Array.isArray(T))for(var be=0;be<T.length;be++)Le(m,T[be],O,H,pe);else H=a(H)?!!H.capture:!!H,O=tt(O),m&&m[ae]?(m=m.i,be=String(T).toString(),be in m.g&&(T=m.g[be],O=oe(T,O,H,pe),O>-1&&(Y(T[O]),Array.prototype.splice.call(T,O,1),T.length==0&&(delete m.g[be],m.h--)))):m&&(m=wt(m))&&(T=m.g[T.toString()],m=-1,T&&(m=oe(T,O,H,pe)),(O=m>-1?T[m]:null)&&Fe(O))}function Fe(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[ae])ie(T.i,m);else{var O=m.type,H=m.proxy;T.removeEventListener?T.removeEventListener(O,H,m.capture):T.detachEvent?T.detachEvent(Se(O),H):T.addListener&&T.removeListener&&T.removeListener(H),(O=wt(T))?(ie(O,m),O.h==0&&(O.src=null,T[re]=null)):Y(m)}}}function Se(m){return m in ge?ge[m]:ge[m]="on"+m}function ne(m,T){if(m.da)m=!0;else{T=new W(T,this);const O=m.listener,H=m.ha||m.src;m.fa&&Fe(m),m=O.call(H,T)}return m}function wt(m){return m=m[re],m instanceof J?m:null}var pt="__closure_events_fn_"+(Math.random()*1e9>>>0);function tt(m){return typeof m=="function"?m:(m[pt]||(m[pt]=function(T){return m.handleEvent(T)}),m[pt])}function Ne(){j.call(this),this.i=new J(this),this.M=this,this.G=null}h(Ne,j),Ne.prototype[ae]=!0,Ne.prototype.removeEventListener=function(m,T,O,H){Le(this,m,T,O,H)};function $e(m,T){var O,H=m.G;if(H)for(O=[];H;H=H.G)O.push(H);if(m=m.M,H=T.type||T,typeof T=="string")T=new I(T,m);else if(T instanceof I)T.target=T.target||m;else{var pe=T;T=new I(H,m),X(T,pe)}pe=!0;let be,Ve;if(O)for(Ve=O.length-1;Ve>=0;Ve--)be=T.g=O[Ve],pe=Ue(be,H,!0,T)&&pe;if(be=T.g=m,pe=Ue(be,H,!0,T)&&pe,pe=Ue(be,H,!1,T)&&pe,O)for(Ve=0;Ve<O.length;Ve++)be=T.g=O[Ve],pe=Ue(be,H,!1,T)&&pe}Ne.prototype.N=function(){if(Ne.Z.N.call(this),this.i){var m=this.i;for(const T in m.g){const O=m.g[T];for(let H=0;H<O.length;H++)Y(O[H]);delete m.g[T],m.h--}}this.G=null},Ne.prototype.J=function(m,T,O,H){return this.i.add(String(m),T,!1,O,H)},Ne.prototype.K=function(m,T,O,H){return this.i.add(String(m),T,!0,O,H)};function Ue(m,T,O,H){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();let pe=!0;for(let be=0;be<T.length;++be){const Ve=T[be];if(Ve&&!Ve.da&&Ve.capture==O){const Nt=Ve.listener,In=Ve.ha||Ve.src;Ve.fa&&ie(m.i,Ve),pe=Nt.call(In,H)!==!1&&pe}}return pe&&!H.defaultPrevented}function At(m,T){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=c(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:o.setTimeout(m,T||0)}function Xe(m){m.g=At(()=>{m.g=null,m.i&&(m.i=!1,Xe(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class Jt extends j{constructor(T,O){super(),this.m=T,this.l=O,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Xe(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gt(m){j.call(this),this.h=m,this.g={}}h(gt,j);var st=[];function qt(m){Q(m.g,function(T,O){this.g.hasOwnProperty(O)&&Fe(T)},m),m.g={}}gt.prototype.N=function(){gt.Z.N.call(this),qt(this)},gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var St=o.JSON.stringify,ot=o.JSON.parse,mt=class{stringify(m){return o.JSON.stringify(m,void 0)}parse(m){return o.JSON.parse(m,void 0)}};function it(){}function ln(){}var Vt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function We(){I.call(this,"d")}h(We,I);function vt(){I.call(this,"c")}h(vt,I);var jt={},dt=null;function Ft(){return dt=dt||new Ne}jt.Ia="serverreachability";function _t(m){I.call(this,jt.Ia,m)}h(_t,I);function dn(m){const T=Ft();$e(T,new _t(T))}jt.STAT_EVENT="statevent";function Gn(m,T){I.call(this,jt.STAT_EVENT,m),this.stat=T}h(Gn,I);function Tt(m){const T=Ft();$e(T,new Gn(T,m))}jt.Ja="timingevent";function ct(m,T){I.call(this,jt.Ja,m),this.size=T}h(ct,I);function Ht(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){m()},T)}function ut(){this.g=!0}ut.prototype.ua=function(){this.g=!1};function It(m,T,O,H,pe,be){m.info(function(){if(m.g)if(be){var Ve="",Nt=be.split("&");for(let Kt=0;Kt<Nt.length;Kt++){var In=Nt[Kt].split("=");if(In.length>1){const Dn=In[0];In=In[1];const Kr=Dn.split("_");Ve=Kr.length>=2&&Kr[1]=="type"?Ve+(Dn+"="+In+"&"):Ve+(Dn+"=redacted&")}}}else Ve=null;else Ve=be;return"XMLHTTP REQ ("+H+") [attempt "+pe+"]: "+T+`
`+O+`
`+Ve})}function Gt(m,T,O,H,pe,be,Ve){m.info(function(){return"XMLHTTP RESP ("+H+") [ attempt "+pe+"]: "+T+`
`+O+`
`+be+" "+Ve})}function mn(m,T,O,H){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+Nr(m,O)+(H?" "+H:"")})}function Je(m,T){m.info(function(){return"TIMEOUT: "+T})}ut.prototype.info=function(){};function Nr(m,T){if(!m.g)return T;if(!T)return null;try{const be=JSON.parse(T);if(be){for(m=0;m<be.length;m++)if(Array.isArray(be[m])){var O=be[m];if(!(O.length<2)){var H=O[1];if(Array.isArray(H)&&!(H.length<1)){var pe=H[0];if(pe!="noop"&&pe!="stop"&&pe!="close")for(let Ve=1;Ve<H.length;Ve++)H[Ve]=""}}}}return St(be)}catch{return T}}var ir={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},En={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Kn;function kn(){}h(kn,it),kn.prototype.g=function(){return new XMLHttpRequest},Kn=new kn;function Yn(m){return encodeURIComponent(String(m))}function Vr(m){var T=1;m=m.split(":");const O=[];for(;T>0&&m.length;)O.push(m.shift()),T--;return m.length&&O.push(m.join(":")),O}function di(m,T,O,H){this.j=m,this.i=T,this.l=O,this.S=H||1,this.V=new gt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ao}function Ao(){this.i=null,this.g="",this.h=!1}var Ji={},Zi={};function Ri(m,T,O){m.M=1,m.A=fi(un(T)),m.u=O,m.R=!0,es(m,null)}function es(m,T){m.F=Date.now(),Ks(m),m.B=un(m.A);var O=m.B,H=m.S;Array.isArray(H)||(H=[String(H)]),dd(O.i,"t",H),m.C=0,O=m.j.L,m.h=new Ao,m.g=Ke(m.j,O?T:null,!m.u),m.P>0&&(m.O=new Jt(c(m.Y,m,m.g),m.P)),T=m.V,O=m.g,H=m.ba;var pe="readystatechange";Array.isArray(pe)||(pe&&(st[0]=pe.toString()),pe=st);for(let be=0;be<pe.length;be++){const Ve=me(O,pe[be],H||T.handleEvent,!1,T.h||T);if(!Ve)break;T.g[Ve.key]=Ve}T=m.J?ye(m.J):{},m.u?(m.v||(m.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,T)):(m.v="GET",m.g.ea(m.B,m.v,null,T)),dn(),It(m.i,m.v,m.B,m.l,m.S,m.u)}di.prototype.ba=function(m){m=m.target;const T=this.O;T&&is(m)==3?T.j():this.Y(m)},di.prototype.Y=function(m){try{if(m==this.g)e:{const Nt=is(this.g),In=this.g.ya(),Kt=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||Yl(this.g)))){this.K||Nt!=4||In==7||(In==8||Kt<=0?dn(3):dn(2)),ia(this);var T=this.g.ca();this.X=T;var O=ts(this);if(this.o=T==200,Gt(this.i,this.v,this.B,this.l,this.S,Nt,T),this.o){if(this.U&&!this.L){t:{if(this.g){var H,pe=this.g;if((H=pe.g?pe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(H)){var be=H;break t}}be=null}if(m=be)mn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xa(this,m);else{this.o=!1,this.m=3,Tt(12),To(this),Ys(this);break e}}if(this.R){m=!0;let Dn;for(;!this.K&&this.C<O.length;)if(Dn=Gs(this,O),Dn==Zi){Nt==4&&(this.m=4,Tt(14),m=!1),mn(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==Ji){this.m=4,Tt(15),mn(this.i,this.l,O,"[Invalid Chunk]"),m=!1;break}else mn(this.i,this.l,Dn,null),Xa(this,Dn);if(ra(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||O.length!=0||this.h.h||(this.m=1,Tt(16),m=!1),this.o=this.o&&m,!m)mn(this.i,this.l,O,"[Invalid Chunked Response]"),To(this),Ys(this);else if(O.length>0&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.aa&&!Ve.P&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Ql(Ve),Ve.P=!0,Tt(11))}}else mn(this.i,this.l,O,null),Xa(this,O);Nt==4&&To(this),this.o&&!this.K&&(Nt==4?Z(this.j,this):(this.o=!1,Ks(this)))}else nl(this.g),T==400&&O.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),To(this),Ys(this)}}}catch{}finally{}};function ts(m){if(!ra(m))return m.g.la();const T=Yl(m.g);if(T==="")return"";let O="";const H=T.length,pe=is(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return To(m),Ys(m),"";m.h.i=new o.TextDecoder}for(let be=0;be<H;be++)m.h.h=!0,O+=m.h.i.decode(T[be],{stream:!(pe&&be==H-1)});return T.length=0,m.h.g+=O,m.C=0,m.h.g}function ra(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function Gs(m,T){var O=m.C,H=T.indexOf(`
`,O);return H==-1?Zi:(O=Number(T.substring(O,H)),isNaN(O)?Ji:(H+=1,H+O>T.length?Zi:(T=T.slice(H,H+O),m.C=H+O,T)))}di.prototype.cancel=function(){this.K=!0,To(this)};function Ks(m){m.T=Date.now()+m.H,Ya(m,m.H)}function Ya(m,T){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Ht(c(m.aa,m),T)}function ia(m){m.D&&(o.clearTimeout(m.D),m.D=null)}di.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(Je(this.i,this.B),this.M!=2&&(dn(),Tt(17)),To(this),this.m=2,Ys(this)):Ya(this,this.T-m)};function Ys(m){m.j.I==0||m.K||Z(m.j,m)}function To(m){ia(m);var T=m.O;T&&typeof T.dispose=="function"&&T.dispose(),m.O=null,qt(m.V),m.g&&(T=m.g,m.g=null,T.abort(),T.dispose())}function Xa(m,T){try{var O=m.j;if(O.I!=0&&(O.g==m||zl(O.h,m))){if(!m.L&&zl(O.h,m)&&O.I==3){try{var H=O.Ba.g.parse(T)}catch{H=null}if(Array.isArray(H)&&H.length==3){var pe=H;if(pe[0]==0){e:if(!O.v){if(O.g)if(O.g.F+3e3<m.F)V(O),ha(O);else break e;Io(O),Tt(18)}}else O.xa=pe[1],0<O.xa-O.K&&pe[2]<37500&&O.F&&O.A==0&&!O.C&&(O.C=Ht(c(O.Va,O),6e3));Bl(O.h)<=1&&O.ta&&(O.ta=void 0)}else de(O,11)}else if((m.L||O.g==m)&&V(O),!M(T))for(pe=O.Ba.g.parse(T),T=0;T<pe.length;T++){let Kt=pe[T];const Dn=Kt[0];if(!(Dn<=O.K))if(O.K=Dn,Kt=Kt[1],O.I==2)if(Kt[0]=="c"){O.M=Kt[1],O.ba=Kt[2];const Kr=Kt[3];Kr!=null&&(O.ka=Kr,O.j.info("VER="+O.ka));const Oi=Kt[4];Oi!=null&&(O.za=Oi,O.j.info("SVER="+O.za));const Fn=Kt[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(H=1.5*Fn,O.O=H,O.j.info("backChannelRequestTimeoutMs_="+H)),H=O;const mi=m.g;if(mi){const eo=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(eo){var be=H.h;be.g||eo.indexOf("spdy")==-1&&eo.indexOf("quic")==-1&&eo.indexOf("h2")==-1||(be.j=be.l,be.g=new Set,be.h&&(Qa(be,be.h),be.h=null))}if(H.G){const il=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;il&&(H.wa=il,sn(H.J,H.G,il))}}O.I=3,O.l&&O.l.ra(),O.aa&&(O.T=Date.now()-m.F,O.j.info("Handshake RTT: "+O.T+"ms")),H=O;var Ve=m;if(H.na=De(H,H.L?H.ba:null,H.W),Ve.L){Du(H.h,Ve);var Nt=Ve,In=H.O;In&&(Nt.H=In),Nt.D&&(ia(Nt),Ks(Nt)),H.g=Ve}else zu(H);O.i.length>0&&rl(O)}else Kt[0]!="stop"&&Kt[0]!="close"||de(O,7);else O.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?de(O,7):ua(O):Kt[0]!="noop"&&O.l&&O.l.qa(Kt),O.A=0)}}dn(4)}catch{}}var ad=class{constructor(m,T){this.g=m,this.map=T}};function Lu(m){this.l=m||10,o.PerformanceNavigationTiming?(m=o.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Li(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Bl(m){return m.h?1:m.g?m.g.size:0}function zl(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function Qa(m,T){m.g?m.g.add(T):m.h=T}function Du(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}Lu.prototype.cancel=function(){if(this.i=Mu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Mu(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const O of m.g.values())T=T.concat(O.G);return T}return d(m.i)}var Ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $l(m,T){if(m){m=m.split("&");for(let O=0;O<m.length;O++){const H=m[O].indexOf("=");let pe,be=null;H>=0?(pe=m[O].substring(0,H),be=m[O].substring(H+1)):pe=m[O],T(pe,be?decodeURIComponent(be.replace(/\+/g," ")):"")}}}function Xs(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;m instanceof Xs?(this.l=m.l,sa(this,m.j),this.o=m.o,this.g=m.g,oa(this,m.u),this.h=m.h,ws(this,Hl(m.i)),this.m=m.m):m&&(T=String(m).match(Ou))?(this.l=!1,sa(this,T[1]||"",!0),this.o=_s(T[2]||""),this.g=_s(T[3]||"",!0),oa(this,T[4]),this.h=_s(T[5]||"",!0),ws(this,T[6]||"",!0),this.m=_s(T[7]||"")):(this.l=!1,this.i=new aa(null,this.l))}Xs.prototype.toString=function(){const m=[];var T=this.j;T&&m.push(An(T,ld,!0),":");var O=this.g;return(O||T=="file")&&(m.push("//"),(T=this.o)&&m.push(An(T,ld,!0),"@"),m.push(Yn(O).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.u,O!=null&&m.push(":",String(O))),(O=this.h)&&(this.g&&O.charAt(0)!="/"&&m.push("/"),m.push(An(O,O.charAt(0)=="/"?yp:gp,!0))),(O=this.i.toString())&&m.push("?",O),(O=this.m)&&m.push("#",An(O,cd)),m.join("")},Xs.prototype.resolve=function(m){const T=un(this);let O=!!m.j;O?sa(T,m.j):O=!!m.o,O?T.o=m.o:O=!!m.g,O?T.g=m.g:O=m.u!=null;var H=m.h;if(O)oa(T,m.u);else if(O=!!m.h){if(H.charAt(0)!="/")if(this.g&&!this.h)H="/"+H;else{var pe=T.h.lastIndexOf("/");pe!=-1&&(H=T.h.slice(0,pe+1)+H)}if(pe=H,pe==".."||pe==".")H="";else if(pe.indexOf("./")!=-1||pe.indexOf("/.")!=-1){H=pe.lastIndexOf("/",0)==0,pe=pe.split("/");const be=[];for(let Ve=0;Ve<pe.length;){const Nt=pe[Ve++];Nt=="."?H&&Ve==pe.length&&be.push(""):Nt==".."?((be.length>1||be.length==1&&be[0]!="")&&be.pop(),H&&Ve==pe.length&&be.push("")):(be.push(Nt),H=!0)}H=be.join("/")}else H=pe}return O?T.h=H:O=m.i.toString()!=="",O?ws(T,Hl(m.i)):O=!!m.m,O&&(T.m=m.m),T};function un(m){return new Xs(m)}function sa(m,T,O){m.j=O?_s(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function oa(m,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);m.u=T}else m.u=null}function ws(m,T,O){T instanceof aa?(m.i=T,la(m.i,m.l)):(O||(T=An(T,Qs)),m.i=new aa(T,m.l))}function sn(m,T,O){m.i.set(T,O)}function fi(m){return sn(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function _s(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function An(m,T,O){return typeof m=="string"?(m=encodeURI(m).replace(T,ju),O&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function ju(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var ld=/[#\/\?@]/g,gp=/[#\?:]/g,yp=/[#\?]/g,Qs=/[#\?@]/g,cd=/#/g;function aa(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function pi(m){m.g||(m.g=new Map,m.h=0,m.i&&$l(m.i,function(T,O){m.add(decodeURIComponent(T.replace(/\+/g," ")),O)}))}t=aa.prototype,t.add=function(m,T){pi(this),this.i=null,m=ns(this,m);let O=this.g.get(m);return O||this.g.set(m,O=[]),O.push(T),this.h+=1,this};function ql(m,T){pi(m),T=ns(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function ud(m,T){return pi(m),T=ns(m,T),m.g.has(T)}t.forEach=function(m,T){pi(this),this.g.forEach(function(O,H){O.forEach(function(pe){m.call(T,pe,H,this)},this)},this)};function hd(m,T){pi(m);let O=[];if(typeof T=="string")ud(m,T)&&(O=O.concat(m.g.get(ns(m,T))));else for(m=Array.from(m.g.values()),T=0;T<m.length;T++)O=O.concat(m[T]);return O}t.set=function(m,T){return pi(this),this.i=null,m=ns(this,m),ud(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},t.get=function(m,T){return m?(m=hd(this,m),m.length>0?String(m[0]):T):T};function dd(m,T,O){ql(m,T),O.length>0&&(m.i=null,m.g.set(ns(m,T),d(O)),m.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(let H=0;H<T.length;H++){var O=T[H];const pe=Yn(O);O=hd(this,O);for(let be=0;be<O.length;be++){let Ve=pe;O[be]!==""&&(Ve+="="+Yn(O[be])),m.push(Ve)}}return this.i=m.join("&")};function Hl(m){const T=new aa;return T.i=m.i,m.g&&(T.g=new Map(m.g),T.h=m.h),T}function ns(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function la(m,T){T&&!m.j&&(pi(m),m.i=null,m.g.forEach(function(O,H){const pe=H.toLowerCase();H!=pe&&(ql(this,H),dd(this,pe,O))},m)),m.j=T}function vp(m,T){const O=new ut;if(o.Image){const H=new Image;H.onload=u(rs,O,"TestLoadImage: loaded",!0,T,H),H.onerror=u(rs,O,"TestLoadImage: error",!1,T,H),H.onabort=u(rs,O,"TestLoadImage: abort",!1,T,H),H.ontimeout=u(rs,O,"TestLoadImage: timeout",!1,T,H),o.setTimeout(function(){H.ontimeout&&H.ontimeout()},1e4),H.src=m}else T(!1)}function Ja(m,T){const O=new ut,H=new AbortController,pe=setTimeout(()=>{H.abort(),rs(O,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:H.signal}).then(be=>{clearTimeout(pe),be.ok?rs(O,"TestPingServer: ok",!0,T):rs(O,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(pe),rs(O,"TestPingServer: error",!1,T)})}function rs(m,T,O,H,pe){try{pe&&(pe.onload=null,pe.onerror=null,pe.onabort=null,pe.ontimeout=null),H(O)}catch{}}function Ct(){this.g=new mt}function Fu(m){this.i=m.Sb||null,this.h=m.ab||!1}h(Fu,it),Fu.prototype.g=function(){return new Wl(this.i,this.h)};function Wl(m,T){Ne.call(this),this.H=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Wl,Ne),t=Wl.prototype,t.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=T,this.readyState=1,Di(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(T.body=m),(this.H||o).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Za(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Di(this)),this.g&&(this.readyState=3,Di(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fd(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function fd(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?Za(this):Di(this),this.readyState==3&&fd(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,Za(this))},t.Na=function(m){this.g&&(this.response=m,Za(this))},t.ga=function(){this.g&&Za(this)};function Za(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Di(m)}t.setRequestHeader=function(m,T){this.A.append(m,T)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var O=T.next();!O.done;)O=O.value,m.push(O[0]+": "+O[1]),O=T.next();return m.join(`\r
`)};function Di(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Wl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Js(m){let T="";return Q(m,function(O,H){T+=H,T+=":",T+=O,T+=`\r
`}),T}function Vu(m,T,O){e:{for(H in O){var H=!1;break e}H=!0}H||(O=Js(O),typeof m=="string"?O!=null&&Yn(O):sn(m,T,O))}function Rn(m){Ne.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Rn,Ne);var Gl=/^https?$/i,Uu=["POST","PUT"];t=Rn.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,T,O,H){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Kn.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(be){ca(this,be);return}if(m=O||"",O=new Map(this.headers),H)if(Object.getPrototypeOf(H)===Object.prototype)for(var pe in H)O.set(pe,H[pe]);else if(typeof H.keys=="function"&&typeof H.get=="function")for(const be of H.keys())O.set(be,H.get(be));else throw Error("Unknown input type for opt_headers: "+String(H));H=Array.from(O.keys()).find(be=>be.toLowerCase()=="content-type"),pe=o.FormData&&m instanceof o.FormData,!(Array.prototype.indexOf.call(Uu,T,void 0)>=0)||H||pe||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[be,Ve]of O)this.g.setRequestHeader(be,Ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(be){ca(this,be)}};function ca(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.o=5,el(m),Kl(m)}function el(m){m.A||(m.A=!0,$e(m,"complete"),$e(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,$e(this,"complete"),$e(this,"abort"),Kl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kl(this,!0)),Rn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?tl(this):this.Xa())},t.Xa=function(){tl(this)};function tl(m){if(m.h&&typeof s<"u"){if(m.v&&is(m)==4)setTimeout(m.Ca.bind(m),0);else if($e(m,"readystatechange"),is(m)==4){m.h=!1;try{const be=m.ca();e:switch(be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var O;if(!(O=T)){var H;if(H=be===0){let Ve=String(m.D).match(Ou)[1]||null;!Ve&&o.self&&o.self.location&&(Ve=o.self.location.protocol.slice(0,-1)),H=!Gl.test(Ve?Ve.toLowerCase():"")}O=H}if(O)$e(m,"complete"),$e(m,"success");else{m.o=6;try{var pe=is(m)>2?m.g.statusText:""}catch{pe=""}m.l=pe+" ["+m.ca()+"]",el(m)}}finally{Kl(m)}}}}function Kl(m,T){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const O=m.g;m.g=null,T||$e(m,"ready");try{O.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function is(m){return m.g?m.g.readyState:0}t.ca=function(){try{return is(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),ot(T)}};function Yl(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function nl(m){const T={};m=(m.g&&is(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let H=0;H<m.length;H++){if(M(m[H]))continue;var O=Vr(m[H]);const pe=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const be=T[pe]||[];T[pe]=be,be.push(O)}fe(T,function(H){return H.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bs(m,T,O){return O&&O.internalChannelParams&&O.internalChannelParams[m]||T}function Xl(m){this.za=0,this.i=[],this.j=new ut,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bs("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bs("baseRetryDelayMs",5e3,m),this.Za=bs("retryDelaySeedMs",1e4,m),this.Ta=bs("forwardChannelMaxRetries",2,m),this.va=bs("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Lu(m&&m.concurrentRequestLimit),this.Ba=new Ct,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Xl.prototype,t.ka=8,t.I=1,t.connect=function(m,T,O,H){Tt(0),this.W=m,this.H=T||{},O&&H!==void 0&&(this.H.OSID=O,this.H.OAID=H),this.F=this.X,this.J=De(this,null,this.W),rl(this)};function ua(m){if(da(m),m.I==3){var T=m.V++,O=un(m.J);if(sn(O,"SID",m.M),sn(O,"RID",T),sn(O,"TYPE","terminate"),Mi(m,O),T=new di(m,m.j,T),T.M=2,T.A=fi(un(O)),O=!1,o.navigator&&o.navigator.sendBeacon)try{O=o.navigator.sendBeacon(T.A.toString(),"")}catch{}!O&&o.Image&&(new Image().src=T.A,O=!0),O||(T.g=Ke(T.j,null),T.g.ea(T.A)),T.F=Date.now(),Ks(T)}Te(m)}function ha(m){m.g&&(Ql(m),m.g.cancel(),m.g=null)}function da(m){ha(m),m.v&&(o.clearTimeout(m.v),m.v=null),V(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&o.clearTimeout(m.m),m.m=null)}function rl(m){if(!Li(m.h)&&!m.m){m.m=!0;var T=m.Ea;B||N(),G||(B(),G=!0),D.add(T,m),m.D=0}}function pd(m,T){return Bl(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=T.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Ht(c(m.Ea,m,T),se(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const pe=new di(this,this.j,m);let be=this.o;if(this.U&&(be?(be=ye(be),X(be,this.U)):be=this.U),this.u!==null||this.R||(pe.J=be,be=null),this.S)e:{for(var T=0,O=0;O<this.i.length;O++){t:{var H=this.i[O];if("__data__"in H.map&&(H=H.map.__data__,typeof H=="string")){H=H.length;break t}H=void 0}if(H===void 0)break;if(T+=H,T>4096){T=O;break e}if(T===4096||O===this.i.length-1){T=O+1;break e}}T=1e3}else T=1e3;T=Bu(this,pe,T),O=un(this.J),sn(O,"RID",m),sn(O,"CVER",22),this.G&&sn(O,"X-HTTP-Session-Id",this.G),Mi(this,O),be&&(this.R?T="headers="+Yn(Js(be))+"&"+T:this.u&&Vu(O,this.u,be)),Qa(this.h,pe),this.Ra&&sn(O,"TYPE","init"),this.S?(sn(O,"$req",T),sn(O,"SID","null"),pe.U=!0,Ri(pe,O,null)):Ri(pe,O,T),this.I=2}}else this.I==3&&(m?Zs(this,m):this.i.length==0||Li(this.h)||Zs(this))};function Zs(m,T){var O;T?O=T.l:O=m.V++;const H=un(m.J);sn(H,"SID",m.M),sn(H,"RID",O),sn(H,"AID",m.K),Mi(m,H),m.u&&m.o&&Vu(H,m.u,m.o),O=new di(m,m.j,O,m.D+1),m.u===null&&(O.J=m.o),T&&(m.i=T.G.concat(m.i)),T=Bu(m,O,1e3),O.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Qa(m.h,O),Ri(O,H,T)}function Mi(m,T){m.H&&Q(m.H,function(O,H){sn(T,H,O)}),m.l&&Q({},function(O,H){sn(T,H,O)})}function Bu(m,T,O){O=Math.min(m.i.length,O);const H=m.l?c(m.l.Ka,m.l,m):null;e:{var pe=m.i;let Nt=-1;for(;;){const In=["count="+O];Nt==-1?O>0?(Nt=pe[0].g,In.push("ofs="+Nt)):Nt=0:In.push("ofs="+Nt);let Kt=!0;for(let Dn=0;Dn<O;Dn++){var be=pe[Dn].g;const Kr=pe[Dn].map;if(be-=Nt,be<0)Nt=Math.max(0,pe[Dn].g-100),Kt=!1;else try{be="req"+be+"_"||"";try{var Ve=Kr instanceof Map?Kr:Object.entries(Kr);for(const[Oi,Fn]of Ve){let mi=Fn;a(Fn)&&(mi=St(Fn)),In.push(be+Oi+"="+encodeURIComponent(mi))}}catch(Oi){throw In.push(be+"type="+encodeURIComponent("_badmap")),Oi}}catch{H&&H(Kr)}}if(Kt){Ve=In.join("&");break e}}Ve=void 0}return m=m.i.splice(0,O),T.G=m,Ve}function zu(m){if(!m.g&&!m.v){m.Y=1;var T=m.Da;B||N(),G||(B(),G=!0),D.add(T,m),m.A=0}}function Io(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Ht(c(m.Da,m),se(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,x(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Ht(c(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),ha(this),x(this))};function Ql(m){m.B!=null&&(o.clearTimeout(m.B),m.B=null)}function x(m){m.g=new di(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var T=un(m.na);sn(T,"RID","rpc"),sn(T,"SID",m.M),sn(T,"AID",m.K),sn(T,"CI",m.F?"0":"1"),!m.F&&m.ia&&sn(T,"TO",m.ia),sn(T,"TYPE","xmlhttp"),Mi(m,T),m.u&&m.o&&Vu(T,m.u,m.o),m.O&&(m.g.H=m.O);var O=m.g;m=m.ba,O.M=1,O.A=fi(un(T)),O.u=null,O.R=!0,es(O,m)}t.Va=function(){this.C!=null&&(this.C=null,ha(this),Io(this),Tt(19))};function V(m){m.C!=null&&(o.clearTimeout(m.C),m.C=null)}function Z(m,T){var O=null;if(m.g==T){V(m),Ql(m),m.g=null;var H=2}else if(zl(m.h,T))O=T.G,Du(m.h,T),H=1;else return;if(m.I!=0){if(T.o)if(H==1){O=T.u?T.u.length:0,T=Date.now()-T.F;var pe=m.D;H=Ft(),$e(H,new ct(H,O)),rl(m)}else zu(m);else if(pe=T.m,pe==3||pe==0&&T.X>0||!(H==1&&pd(m,T)||H==2&&Io(m)))switch(O&&O.length>0&&(T=m.h,T.i=T.i.concat(O)),pe){case 1:de(m,5);break;case 4:de(m,10);break;case 3:de(m,6);break;default:de(m,2)}}}function se(m,T){let O=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(O*=2),O*T}function de(m,T){if(m.j.info("Error code "+T),T==2){var O=c(m.bb,m),H=m.Ua;const pe=!H;H=new Xs(H||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||sa(H,"https"),fi(H),pe?vp(H.toString(),O):Ja(H.toString(),O)}else Tt(2);m.I=0,m.l&&m.l.pa(T),Te(m),da(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Te(m){if(m.I=0,m.ja=[],m.l){const T=Mu(m.h);(T.length!=0||m.i.length!=0)&&(b(m.ja,T),b(m.ja,m.i),m.h.i.length=0,d(m.i),m.i.length=0),m.l.oa()}}function De(m,T,O){var H=O instanceof Xs?un(O):new Xs(O);if(H.g!="")T&&(H.g=T+"."+H.g),oa(H,H.u);else{var pe=o.location;H=pe.protocol,T=T?T+"."+pe.hostname:pe.hostname,pe=+pe.port;const be=new Xs(null);H&&sa(be,H),T&&(be.g=T),pe&&oa(be,pe),O&&(be.h=O),H=be}return O=m.G,T=m.wa,O&&T&&sn(H,O,T),sn(H,"VER",m.ka),Mi(m,H),H}function Ke(m,T,O){if(T&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Aa&&!m.ma?new Rn(new Fu({ab:O})):new Rn(m.ma),T.Fa(m.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function et(){}t=et.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function yt(){}yt.prototype.g=function(m,T){return new at(m,T)};function at(m,T){Ne.call(this),this.g=new Xl(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(m?m["X-WebChannel-Client-Profile"]=T.sa:m={"X-WebChannel-Client-Profile":T.sa}),this.g.U=m,(m=T&&T.Qb)&&!M(m)&&(this.g.u=m),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!M(T)&&(this.g.G=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new Tn(this)}h(at,Ne),at.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},at.prototype.close=function(){ua(this.g)},at.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var O={};O.__data__=m,m=O}else this.v&&(O={},O.__data__=St(m),m=O);T.i.push(new ad(T.Ya++,m)),T.I==3&&rl(T)},at.prototype.N=function(){this.g.l=null,delete this.j,ua(this.g),delete this.g,at.Z.N.call(this)};function tn(m){We.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){e:{for(const O in T){m=O;break e}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}h(tn,We);function Ln(){vt.call(this),this.status=1}h(Ln,vt);function Tn(m){this.g=m}h(Tn,et),Tn.prototype.ra=function(){$e(this.g,"a")},Tn.prototype.qa=function(m){$e(this.g,new tn(m))},Tn.prototype.pa=function(m){$e(this.g,new Ln)},Tn.prototype.oa=function(){$e(this.g,"b")},yt.prototype.createWebChannel=yt.prototype.g,at.prototype.send=at.prototype.o,at.prototype.open=at.prototype.m,at.prototype.close=at.prototype.close,p8=function(){return new yt},f8=function(){return Ft()},d8=jt,kb={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ir.NO_ERROR=0,ir.TIMEOUT=8,ir.HTTP_ERROR=6,Y1=ir,En.COMPLETE="complete",h8=En,ln.EventType=Vt,Vt.OPEN="a",Vt.CLOSE="b",Vt.ERROR="c",Vt.MESSAGE="d",Ne.prototype.listen=Ne.prototype.J,tm=ln,Rn.prototype.listenOnce=Rn.prototype.K,Rn.prototype.getLastError=Rn.prototype.Ha,Rn.prototype.getLastErrorCode=Rn.prototype.ya,Rn.prototype.getStatus=Rn.prototype.ca,Rn.prototype.getResponseJson=Rn.prototype.La,Rn.prototype.getResponseText=Rn.prototype.la,Rn.prototype.send=Rn.prototype.ea,Rn.prototype.setWithCredentials=Rn.prototype.Fa,u8=Rn}).apply(typeof s1<"u"?s1:typeof self<"u"?self:typeof window<"u"?window:{});const qC="@firebase/firestore",HC="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ti.UNAUTHENTICATED=new Ti(null),Ti.GOOGLE_CREDENTIALS=new Ti("google-credentials-uid"),Ti.FIRST_PARTY=new Ti("first-party-uid"),Ti.MOCK_USER=new Ti("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sp="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new d2("@firebase/firestore");function Id(){return Dh.logLevel}function Ge(t,...e){if(Dh.logLevel<=Yt.DEBUG){const n=e.map(TE);Dh.debug(`Firestore (${sp}): ${t}`,...n)}}function Ol(t,...e){if(Dh.logLevel<=Yt.ERROR){const n=e.map(TE);Dh.error(`Firestore (${sp}): ${t}`,...n)}}function Ff(t,...e){if(Dh.logLevel<=Yt.WARN){const n=e.map(TE);Dh.warn(`Firestore (${sp}): ${t}`,...n)}}function TE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,m8(t,r,n)}function m8(t,e,n){let r=`FIRESTORE (${sp}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ol(r),new Error(r)}function pn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||m8(e,i,r)}function Dt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qe extends Eo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ti.UNAUTHENTICATED))}shutdown(){}}class kZ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class RZ{constructor(e){this.t=e,this.currentUser=Ti.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){pn(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Il;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Il,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Il)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pn(typeof r.accessToken=="string",31837,{l:r}),new g8(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pn(e===null||typeof e=="string",2055,{h:e}),new Ti(e)}}class LZ{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ti.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class DZ{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new LZ(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ti.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class WC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MZ{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ds(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){pn(this.o===void 0,3512);const r=s=>{s.error!=null&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new WC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new WC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OZ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=OZ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Xt(t,e){return t<e?-1:t>e?1:0}function Rb(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return a_(i)===a_(s)?Xt(i,s):a_(i)?1:-1}return Xt(t.length,e.length)}const jZ=55296,FZ=57343;function a_(t){const e=t.charCodeAt(0);return e>=jZ&&e<=FZ}function Vf(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="__name__";class ba{constructor(e,n,r){n===void 0?n=0:n>e.length&&xt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&xt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ba.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ba?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=ba.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Xt(e.length,n.length)}static compareSegments(e,n){const r=ba.isNumericId(e),i=ba.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ba.extractNumericId(e).compare(ba.extractNumericId(n)):Rb(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Jc.fromString(e.substring(4,e.length-2))}}class On extends ba{construct(e,n,r){return new On(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new qe(ke.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new On(n)}static emptyPath(){return new On([])}}const VZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class li extends ba{construct(e,n,r){return new li(e,n,r)}static isValidIdentifier(e){return VZ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),li.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===GC}static keyField(){return new li([GC])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new qe(ke.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new qe(ke.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new qe(ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new qe(ke.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new li(n)}static emptyPath(){return new li([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.path=e}static fromPath(e){return new ft(On.fromString(e))}static fromName(e){return new ft(On.fromString(e).popFirst(5))}static empty(){return new ft(On.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&On.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return On.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new On(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y8(t,e,n){if(!n)throw new qe(ke.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UZ(t,e,n,r){if(e===!0&&r===!0)throw new qe(ke.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function KC(t){if(!ft.isDocumentKey(t))throw new qe(ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function YC(t){if(ft.isDocumentKey(t))throw new qe(ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function v8(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function y2(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xt(12329,{type:typeof t})}function zs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new qe(ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=y2(t);throw new qe(ke.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t,e){const n={typeString:t};return e&&(n.value=e),n}function Qg(t,e){if(!v8(t))throw new qe(ke.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new qe(ke.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=-62135596800,QC=1e6;class $n{static now(){return $n.fromMillis(Date.now())}static fromDate(e){return $n.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*QC);return new $n(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new qe(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new qe(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<XC)throw new qe(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qe(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/QC}_compareTo(e){return this.seconds===e.seconds?Xt(this.nanoseconds,e.nanoseconds):Xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qg(e,$n._jsonSchema))return new $n(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-XC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$n._jsonSchemaVersion="firestore/timestamp/1.0",$n._jsonSchema={type:Or("string",$n._jsonSchemaVersion),seconds:Or("number"),nanoseconds:Or("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new $n(0,0))}static max(){return new Rt(new $n(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg=-1;function BZ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Rt.fromTimestamp(r===1e9?new $n(n+1,0):new $n(n,r));return new lu(i,ft.empty(),e)}function zZ(t){return new lu(t.readTime,t.key,hg)}class lu{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new lu(Rt.min(),ft.empty(),hg)}static max(){return new lu(Rt.max(),ft.empty(),hg)}}function $Z(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ft.comparator(t.documentKey,e.documentKey),n!==0?n:Xt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qZ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HZ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function op(t){if(t.code!==ke.FAILED_PRECONDITION||t.message!==qZ)throw t;Ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Re((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Re?n:Re.resolve(n)}catch(n){return Re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Re.reject(n)}static resolve(e){return new Re((n,r)=>{n(e)})}static reject(e){return new Re((n,r)=>{r(e)})}static waitFor(e){return new Re((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Re.resolve(!1);for(const r of e)n=n.next(i=>i?Re.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Re((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new Re((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function WZ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ap(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}v2.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=-1;function w2(t){return t==null}function nv(t){return t===0&&1/t==-1/0}function GZ(t){return typeof t=="number"&&Number.isInteger(t)&&!nv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8="";function KZ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=JC(e)),e=YZ(t.get(n),e);return JC(e)}function YZ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case w8:n+="";break;default:n+=s}}return n}function JC(t){return t+w8+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n){this.comparator=e,this.root=n||ai.EMPTY}insert(e,n){return new rr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ai.BLACK,null,null))}remove(e){return new rr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ai.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new o1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new o1(this.root,e,this.comparator,!1)}getReverseIterator(){return new o1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new o1(this.root,e,this.comparator,!0)}}class o1{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ai{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ai.RED,this.left=i??ai.EMPTY,this.right=s??ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ai(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ai.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ai.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xt(27949);return e+(this.isRed()?0:1)}}ai.EMPTY=null,ai.RED=!0,ai.BLACK=!1;ai.EMPTY=new class{constructor(){this.size=0}get key(){throw xt(57766)}get value(){throw xt(16141)}get color(){throw xt(16727)}get left(){throw xt(29726)}get right(){throw xt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new ai(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.comparator=e,this.data=new rr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new eN(this.data.getIterator())}getIteratorFrom(e){return new eN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Gr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Gr(this.comparator);return n.data=e,n}}class eN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.fields=e,e.sort(li.comparator)}static empty(){return new Os([])}unionWith(e){let n=new Gr(li.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Os(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vf(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new b8("Invalid base64 string: "+s):s}}(e);return new hi(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new hi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hi.EMPTY_BYTE_STRING=new hi("");const XZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cu(t){if(pn(!!t,39018),typeof t=="string"){let e=0;const n=XZ.exec(t);if(pn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:br(t.seconds),nanos:br(t.nanos)}}function br(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function uu(t){return typeof t=="string"?hi.fromBase64String(t):hi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8="server_timestamp",S8="__type__",E8="__previous_value__",A8="__local_write_time__";function NE(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[S8])==null?void 0:r.stringValue)===x8}function _2(t){const e=t.mapValue.fields[E8];return NE(e)?_2(e):e}function dg(t){const e=cu(t.mapValue.fields[A8].timestampValue);return new $n(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QZ{constructor(e,n,r,i,s,o,a,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const rv="(default)";class fg{constructor(e,n){this.projectId=e,this.database=n||rv}static empty(){return new fg("","")}get isDefaultDatabase(){return this.database===rv}isEqual(e){return e instanceof fg&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8="__type__",I8="__max__",a1={mapValue:{fields:{__type__:{stringValue:I8}}}},C8="__vector__",iv="value";function hu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?NE(t)?4:ZZ(t)?9007199254740991:JZ(t)?10:11:xt(28295,{value:t})}function Ha(t,e){if(t===e)return!0;const n=hu(t);if(n!==hu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dg(t).isEqual(dg(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=cu(i.timestampValue),a=cu(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return uu(i.bytesValue).isEqual(uu(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return br(i.geoPointValue.latitude)===br(s.geoPointValue.latitude)&&br(i.geoPointValue.longitude)===br(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return br(i.integerValue)===br(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=br(i.doubleValue),a=br(s.doubleValue);return o===a?nv(o)===nv(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Vf(t.arrayValue.values||[],e.arrayValue.values||[],Ha);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(ZC(o)!==ZC(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ha(o[l],a[l])))return!1;return!0}(t,e);default:return xt(52216,{left:t})}}function pg(t,e){return(t.values||[]).find(n=>Ha(n,e))!==void 0}function Uf(t,e){if(t===e)return 0;const n=hu(t),r=hu(e);if(n!==r)return Xt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=br(s.integerValue||s.doubleValue),l=br(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return tN(t.timestampValue,e.timestampValue);case 4:return tN(dg(t),dg(e));case 5:return Rb(t.stringValue,e.stringValue);case 6:return function(s,o){const a=uu(s),l=uu(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Xt(a[c],l[c]);if(u!==0)return u}return Xt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Xt(br(s.latitude),br(o.latitude));return a!==0?a:Xt(br(s.longitude),br(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return nN(t.arrayValue,e.arrayValue);case 10:return function(s,o){var p,d,b,y;const a=s.fields||{},l=o.fields||{},c=(p=a[iv])==null?void 0:p.arrayValue,u=(d=l[iv])==null?void 0:d.arrayValue,h=Xt(((b=c==null?void 0:c.values)==null?void 0:b.length)||0,((y=u==null?void 0:u.values)==null?void 0:y.length)||0);return h!==0?h:nN(c,u)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===a1.mapValue&&o===a1.mapValue)return 0;if(s===a1.mapValue)return 1;if(o===a1.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const p=Rb(l[h],u[h]);if(p!==0)return p;const d=Uf(a[l[h]],c[u[h]]);if(d!==0)return d}return Xt(l.length,u.length)}(t.mapValue,e.mapValue);default:throw xt(23264,{he:n})}}function tN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xt(t,e);const n=cu(t),r=cu(e),i=Xt(n.seconds,r.seconds);return i!==0?i:Xt(n.nanos,r.nanos)}function nN(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Uf(n[i],r[i]);if(s)return s}return Xt(n.length,r.length)}function Bf(t){return Lb(t)}function Lb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=cu(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return uu(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ft.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Lb(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Lb(n.fields[o])}`;return i+"}"}(t.mapValue):xt(61005,{value:t})}function X1(t){switch(hu(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_2(t);return e?16+X1(e):16;case 5:return 2*t.stringValue.length;case 6:return uu(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+X1(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Cu(r.fields,(s,o)=>{i+=s.length+X1(o)}),i}(t.mapValue);default:throw xt(13486,{value:t})}}function rN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Db(t){return!!t&&"integerValue"in t}function PE(t){return!!t&&"arrayValue"in t}function iN(t){return!!t&&"nullValue"in t}function sN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Q1(t){return!!t&&"mapValue"in t}function JZ(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[T8])==null?void 0:r.stringValue)===C8}function Sm(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Cu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sm(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sm(t.arrayValue.values[n]);return e}return{...t}}function ZZ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===I8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.value=e}static empty(){return new us({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Q1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sm(n)}setAll(e){let n=li.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Sm(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Q1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ha(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Q1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Cu(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new us(Sm(this.value))}}function N8(t){const e=[];return Cu(t.fields,(n,r)=>{const i=new li([n]);if(Q1(r)){const s=N8(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Os(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ci(e,0,Rt.min(),Rt.min(),Rt.min(),us.empty(),0)}static newFoundDocument(e,n,r,i){return new Ci(e,1,n,Rt.min(),r,i,0)}static newNoDocument(e,n){return new Ci(e,2,n,Rt.min(),Rt.min(),us.empty(),0)}static newUnknownDocument(e,n){return new Ci(e,3,n,Rt.min(),Rt.min(),us.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=us.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=us.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ci&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ci(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,n){this.position=e,this.inclusive=n}}function oN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ft.comparator(ft.fromName(o.referenceValue),n.key):r=Uf(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function aN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ha(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n="asc"){this.field=e,this.dir=n}}function eee(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{}class Mr extends P8{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nee(e,n,r):n==="array-contains"?new see(e,r):n==="in"?new oee(e,r):n==="not-in"?new aee(e,r):n==="array-contains-any"?new lee(e,r):new Mr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ree(e,r):new iee(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Uf(n,this.value)):n!==null&&hu(this.value)===hu(n)&&this.matchesComparison(Uf(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jo extends P8{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Jo(e,n)}matches(e){return k8(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function k8(t){return t.op==="and"}function R8(t){return tee(t)&&k8(t)}function tee(t){for(const e of t.filters)if(e instanceof Jo)return!1;return!0}function Mb(t){if(t instanceof Mr)return t.field.canonicalString()+t.op.toString()+Bf(t.value);if(R8(t))return t.filters.map(e=>Mb(e)).join(",");{const e=t.filters.map(n=>Mb(n)).join(",");return`${t.op}(${e})`}}function L8(t,e){return t instanceof Mr?function(r,i){return i instanceof Mr&&r.op===i.op&&r.field.isEqual(i.field)&&Ha(r.value,i.value)}(t,e):t instanceof Jo?function(r,i){return i instanceof Jo&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&L8(o,i.filters[a]),!0):!1}(t,e):void xt(19439)}function D8(t){return t instanceof Mr?function(n){return`${n.field.canonicalString()} ${n.op} ${Bf(n.value)}`}(t):t instanceof Jo?function(n){return n.op.toString()+" {"+n.getFilters().map(D8).join(" ,")+"}"}(t):"Filter"}class nee extends Mr{constructor(e,n,r){super(e,n,r),this.key=ft.fromName(r.referenceValue)}matches(e){const n=ft.comparator(e.key,this.key);return this.matchesComparison(n)}}class ree extends Mr{constructor(e,n){super(e,"in",n),this.keys=M8("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class iee extends Mr{constructor(e,n){super(e,"not-in",n),this.keys=M8("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function M8(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ft.fromName(r.referenceValue))}class see extends Mr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return PE(n)&&pg(n.arrayValue,this.value)}}class oee extends Mr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pg(this.value.arrayValue,n)}}class aee extends Mr{constructor(e,n){super(e,"not-in",n)}matches(e){if(pg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!pg(this.value.arrayValue,n)}}class lee extends Mr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!PE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>pg(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cee{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function lN(t,e=null,n=[],r=[],i=null,s=null,o=null){return new cee(t,e,n,r,i,s,o)}function kE(t){const e=Dt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Mb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),w2(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bf(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bf(r)).join(",")),e.Te=n}return e.Te}function RE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eee(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!L8(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!aN(t.startAt,e.startAt)&&aN(t.endAt,e.endAt)}function Ob(t){return ft.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function uee(t,e,n,r,i,s,o,a){return new Jg(t,e,n,r,i,s,o,a)}function b2(t){return new Jg(t)}function cN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function O8(t){return t.collectionGroup!==null}function Em(t){const e=Dt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Gr(li.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new ov(s,r))}),n.has(li.keyField().canonicalString())||e.Ie.push(new ov(li.keyField(),r))}return e.Ie}function Oa(t){const e=Dt(t);return e.Ee||(e.Ee=hee(e,Em(t))),e.Ee}function hee(t,e){if(t.limitType==="F")return lN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ov(i.field,s)});const n=t.endAt?new sv(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sv(t.startAt.position,t.startAt.inclusive):null;return lN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jb(t,e){const n=t.filters.concat([e]);return new Jg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Fb(t,e,n){return new Jg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function x2(t,e){return RE(Oa(t),Oa(e))&&t.limitType===e.limitType}function j8(t){return`${kE(Oa(t))}|lt:${t.limitType}`}function Cd(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>D8(i)).join(", ")}]`),w2(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Bf(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Bf(i)).join(",")),`Target(${r})`}(Oa(t))}; limitType=${t.limitType})`}function S2(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ft.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Em(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=oN(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Em(r),i)||r.endAt&&!function(o,a,l){const c=oN(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Em(r),i))}(t,e)}function dee(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function F8(t){return(e,n)=>{let r=!1;for(const i of Em(t)){const s=fee(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function fee(t,e,n){const r=t.field.isKeyField()?ft.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Uf(l,c):xt(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Cu(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return _8(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pee=new rr(ft.comparator);function jl(){return pee}const V8=new rr(ft.comparator);function nm(...t){let e=V8;for(const n of t)e=e.insert(n.key,n);return e}function U8(t){let e=V8;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ih(){return Am()}function B8(){return Am()}function Am(){return new ed(t=>t.toString(),(t,e)=>t.isEqual(e))}const mee=new rr(ft.comparator),gee=new Gr(ft.comparator);function Qt(...t){let e=gee;for(const n of t)e=e.add(n);return e}const yee=new Gr(Xt);function vee(){return yee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nv(e)?"-0":e}}function z8(t){return{integerValue:""+t}}function wee(t,e){return GZ(e)?z8(e):LE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this._=void 0}}function _ee(t,e,n){return t instanceof av?function(i,s){const o={fields:{[S8]:{stringValue:x8},[A8]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&NE(s)&&(s=_2(s)),s&&(o.fields[E8]=s),{mapValue:o}}(n,e):t instanceof mg?q8(t,e):t instanceof gg?H8(t,e):function(i,s){const o=$8(i,s),a=uN(o)+uN(i.Ae);return Db(o)&&Db(i.Ae)?z8(a):LE(i.serializer,a)}(t,e)}function bee(t,e,n){return t instanceof mg?q8(t,e):t instanceof gg?H8(t,e):n}function $8(t,e){return t instanceof lv?function(r){return Db(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class av extends E2{}class mg extends E2{constructor(e){super(),this.elements=e}}function q8(t,e){const n=W8(e);for(const r of t.elements)n.some(i=>Ha(i,r))||n.push(r);return{arrayValue:{values:n}}}class gg extends E2{constructor(e){super(),this.elements=e}}function H8(t,e){let n=W8(e);for(const r of t.elements)n=n.filter(i=>!Ha(i,r));return{arrayValue:{values:n}}}class lv extends E2{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function uN(t){return br(t.integerValue||t.doubleValue)}function W8(t){return PE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function xee(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof mg&&i instanceof mg||r instanceof gg&&i instanceof gg?Vf(r.elements,i.elements,Ha):r instanceof lv&&i instanceof lv?Ha(r.Ae,i.Ae):r instanceof av&&i instanceof av}(t.transform,e.transform)}class See{constructor(e,n){this.version=e,this.transformResults=n}}class Ho{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ho}static exists(e){return new Ho(void 0,e)}static updateTime(e){return new Ho(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function J1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class A2{}function G8(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Y8(t.key,Ho.none()):new Zg(t.key,t.data,Ho.none());{const n=t.data,r=us.empty();let i=new Gr(li.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Nu(t.key,r,new Os(i.toArray()),Ho.none())}}function Eee(t,e,n){t instanceof Zg?function(i,s,o){const a=i.value.clone(),l=dN(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Nu?function(i,s,o){if(!J1(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=dN(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(K8(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Tm(t,e,n,r){return t instanceof Zg?function(s,o,a,l){if(!J1(s.precondition,o))return a;const c=s.value.clone(),u=fN(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Nu?function(s,o,a,l){if(!J1(s.precondition,o))return a;const c=fN(s.fieldTransforms,l,o),u=o.data;return u.setAll(K8(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return J1(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Aee(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=$8(r.transform,i||null);s!=null&&(n===null&&(n=us.empty()),n.set(r.field,s))}return n||null}function hN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Vf(r,i,(s,o)=>xee(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zg extends A2{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Nu extends A2{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function K8(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function dN(t,e,n){const r=new Map;pn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,bee(o,a,n[i]))}return r}function fN(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,_ee(s,o,e))}return r}class Y8 extends A2{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tee extends A2{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iee{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Eee(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Tm(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Tm(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=B8();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=G8(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Rt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qt())}isEqual(e){return this.batchId===e.batchId&&Vf(this.mutations,e.mutations,(n,r)=>hN(n,r))&&Vf(this.baseMutations,e.baseMutations,(n,r)=>hN(n,r))}}class DE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){pn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return mee}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new DE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cee{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nee{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pr,rn;function Pee(t){switch(t){case ke.OK:return xt(64938);case ke.CANCELLED:case ke.UNKNOWN:case ke.DEADLINE_EXCEEDED:case ke.RESOURCE_EXHAUSTED:case ke.INTERNAL:case ke.UNAVAILABLE:case ke.UNAUTHENTICATED:return!1;case ke.INVALID_ARGUMENT:case ke.NOT_FOUND:case ke.ALREADY_EXISTS:case ke.PERMISSION_DENIED:case ke.FAILED_PRECONDITION:case ke.ABORTED:case ke.OUT_OF_RANGE:case ke.UNIMPLEMENTED:case ke.DATA_LOSS:return!0;default:return xt(15467,{code:t})}}function X8(t){if(t===void 0)return Ol("GRPC error has no .code"),ke.UNKNOWN;switch(t){case Pr.OK:return ke.OK;case Pr.CANCELLED:return ke.CANCELLED;case Pr.UNKNOWN:return ke.UNKNOWN;case Pr.DEADLINE_EXCEEDED:return ke.DEADLINE_EXCEEDED;case Pr.RESOURCE_EXHAUSTED:return ke.RESOURCE_EXHAUSTED;case Pr.INTERNAL:return ke.INTERNAL;case Pr.UNAVAILABLE:return ke.UNAVAILABLE;case Pr.UNAUTHENTICATED:return ke.UNAUTHENTICATED;case Pr.INVALID_ARGUMENT:return ke.INVALID_ARGUMENT;case Pr.NOT_FOUND:return ke.NOT_FOUND;case Pr.ALREADY_EXISTS:return ke.ALREADY_EXISTS;case Pr.PERMISSION_DENIED:return ke.PERMISSION_DENIED;case Pr.FAILED_PRECONDITION:return ke.FAILED_PRECONDITION;case Pr.ABORTED:return ke.ABORTED;case Pr.OUT_OF_RANGE:return ke.OUT_OF_RANGE;case Pr.UNIMPLEMENTED:return ke.UNIMPLEMENTED;case Pr.DATA_LOSS:return ke.DATA_LOSS;default:return xt(39323,{code:t})}}(rn=Pr||(Pr={}))[rn.OK=0]="OK",rn[rn.CANCELLED=1]="CANCELLED",rn[rn.UNKNOWN=2]="UNKNOWN",rn[rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rn[rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rn[rn.NOT_FOUND=5]="NOT_FOUND",rn[rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",rn[rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",rn[rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",rn[rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rn[rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rn[rn.ABORTED=10]="ABORTED",rn[rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",rn[rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",rn[rn.INTERNAL=13]="INTERNAL",rn[rn.UNAVAILABLE=14]="UNAVAILABLE",rn[rn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kee(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ree=new Jc([4294967295,4294967295],0);function pN(t){const e=kee().encode(t),n=new c8;return n.update(e),new Uint8Array(n.digest())}function mN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Jc([n,r],0),new Jc([i,s],0)]}class ME{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new rm(`Invalid padding: ${n}`);if(r<0)throw new rm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new rm(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new rm(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Jc.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Jc.fromNumber(r)));return i.compare(Ree)===1&&(i=new Jc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=pN(e),[r,i]=mN(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ME(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=pN(e),[r,i]=mN(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class rm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,e0.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new T2(Rt.min(),i,new rr(Xt),jl(),Qt())}}class e0{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new e0(r,n,Qt(),Qt(),Qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class Q8{constructor(e,n){this.targetId=e,this.Ce=n}}class J8{constructor(e,n,r=hi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class gN{constructor(){this.ve=0,this.Fe=yN(),this.Me=hi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qt(),n=Qt(),r=Qt();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:xt(38017,{changeType:s})}}),new e0(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=yN()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,pn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Lee{constructor(e){this.Ge=e,this.ze=new Map,this.je=jl(),this.Je=l1(),this.He=l1(),this.Ye=new rr(Xt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:xt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Ob(s))if(r===0){const o=new ft(s.path);this.et(n,o,Ci.newNoDocument(o,Rt.min()))}else pn(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=uu(r).toUint8Array()}catch(l){if(l instanceof b8)return Ff("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new ME(o,i,s)}catch(l){return Ff(l instanceof rm?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&Ob(a.target)){const l=new ft(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Ci.newNoDocument(l,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=Qt();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new T2(e,n,this.Ye,this.je,r);return this.je=jl(),this.Je=l1(),this.He=l1(),this.Ye=new rr(Xt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new gN,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Gr(Xt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Gr(Xt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new gN),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function l1(){return new rr(ft.comparator)}function yN(){return new rr(ft.comparator)}const Dee={asc:"ASCENDING",desc:"DESCENDING"},Mee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Oee={and:"AND",or:"OR"};class jee{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vb(t,e){return t.useProto3Json||w2(e)?e:{value:e}}function cv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Z8(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Fee(t,e){return cv(t,e.toTimestamp())}function ja(t){return pn(!!t,49232),Rt.fromTimestamp(function(n){const r=cu(n);return new $n(r.seconds,r.nanos)}(t))}function OE(t,e){return Ub(t,e).canonicalString()}function Ub(t,e){const n=function(i){return new On(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function eO(t){const e=On.fromString(t);return pn(sO(e),10190,{key:e.toString()}),e}function Bb(t,e){return OE(t.databaseId,e.path)}function l_(t,e){const n=eO(e);if(n.get(1)!==t.databaseId.projectId)throw new qe(ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new qe(ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ft(nO(n))}function tO(t,e){return OE(t.databaseId,e)}function Vee(t){const e=eO(t);return e.length===4?On.emptyPath():nO(e)}function zb(t){return new On(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nO(t){return pn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function vN(t,e,n){return{name:Bb(t,e),fields:n.value.mapValue.fields}}function Uee(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:xt(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(pn(u===void 0||typeof u=="string",58123),hi.fromBase64String(u||"")):(pn(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),hi.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?ke.UNKNOWN:X8(c.code);return new qe(u,c.message||"")}(o);n=new J8(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=l_(t,r.document.name),s=ja(r.document.updateTime),o=r.document.createTime?ja(r.document.createTime):Rt.min(),a=new us({mapValue:{fields:r.document.fields}}),l=Ci.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Z1(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=l_(t,r.document),s=r.readTime?ja(r.readTime):Rt.min(),o=Ci.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Z1([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=l_(t,r.document),s=r.removedTargetIds||[];n=new Z1([],s,i,null)}else{if(!("filter"in e))return xt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Nee(i,s),a=r.targetId;n=new Q8(a,o)}}return n}function Bee(t,e){let n;if(e instanceof Zg)n={update:vN(t,e.key,e.value)};else if(e instanceof Y8)n={delete:Bb(t,e.key)};else if(e instanceof Nu)n={update:vN(t,e.key,e.data),updateMask:Xee(e.fieldMask)};else{if(!(e instanceof Tee))return xt(16599,{Vt:e.type});n={verify:Bb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof av)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof mg)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof gg)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof lv)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw xt(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Fee(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:xt(27497)}(t,e.precondition)),n}function zee(t,e){return t&&t.length>0?(pn(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?ja(i.updateTime):ja(s);return o.isEqual(Rt.min())&&(o=ja(s)),new See(o,i.transformResults||[])}(n,e))):[]}function $ee(t,e){return{documents:[tO(t,e.path)]}}function qee(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tO(t,i);const s=function(c){if(c.length!==0)return iO(Jo.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(p){return{field:Nd(p.field),direction:Gee(p.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Vb(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function Hee(t){let e=Vee(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){pn(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(h){const p=rO(h);return p instanceof Jo&&R8(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(b){return new ov(Pd(b.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,w2(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,d=h.values||[];return new sv(d,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,d=h.values||[];return new sv(d,p)}(n.endAt)),uee(e,i,o,s,a,"F",l,c)}function Wee(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Pd(n.unaryFilter.field);return Mr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Pd(n.unaryFilter.field);return Mr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Pd(n.unaryFilter.field);return Mr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Pd(n.unaryFilter.field);return Mr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xt(61313);default:return xt(60726)}}(t):t.fieldFilter!==void 0?function(n){return Mr.create(Pd(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xt(58110);default:return xt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Jo.create(n.compositeFilter.filters.map(r=>rO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xt(1026)}}(n.compositeFilter.op))}(t):xt(30097,{filter:t})}function Gee(t){return Dee[t]}function Kee(t){return Mee[t]}function Yee(t){return Oee[t]}function Nd(t){return{fieldPath:t.canonicalString()}}function Pd(t){return li.fromServerFormat(t.fieldPath)}function iO(t){return t instanceof Mr?function(n){if(n.op==="=="){if(sN(n.value))return{unaryFilter:{field:Nd(n.field),op:"IS_NAN"}};if(iN(n.value))return{unaryFilter:{field:Nd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sN(n.value))return{unaryFilter:{field:Nd(n.field),op:"IS_NOT_NAN"}};if(iN(n.value))return{unaryFilter:{field:Nd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nd(n.field),op:Kee(n.op),value:n.value}}}(t):t instanceof Jo?function(n){const r=n.getFilters().map(i=>iO(i));return r.length===1?r[0]:{compositeFilter:{op:Yee(n.op),filters:r}}}(t):xt(54877,{filter:t})}function Xee(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n,r,i,s=Rt.min(),o=Rt.min(),a=hi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Fc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qee{constructor(e){this.yt=e}}function Jee(t){const e=Hee({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zee{constructor(){this.Cn=new ete}addToCollectionParentIndex(e,n){return this.Cn.add(n),Re.resolve()}getCollectionParents(e,n){return Re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Re.resolve()}deleteFieldIndex(e,n){return Re.resolve()}deleteAllFieldIndexes(e){return Re.resolve()}createTargetIndexes(e,n){return Re.resolve()}getDocumentsMatchingTarget(e,n){return Re.resolve(null)}getIndexType(e,n){return Re.resolve(0)}getFieldIndexes(e,n){return Re.resolve([])}getNextCollectionGroupToUpdate(e){return Re.resolve(null)}getMinOffset(e,n){return Re.resolve(lu.min())}getMinOffsetFromCollectionGroup(e,n){return Re.resolve(lu.min())}updateCollectionGroup(e,n,r){return Re.resolve()}updateIndexEntries(e,n){return Re.resolve()}}class ete{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Gr(On.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Gr(On.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oO=41943040;class ls{static withCacheSize(e){return new ls(e,ls.DEFAULT_COLLECTION_PERCENTILE,ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ls.DEFAULT_COLLECTION_PERCENTILE=10,ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ls.DEFAULT=new ls(oO,ls.DEFAULT_COLLECTION_PERCENTILE,ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ls.DISABLED=new ls(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new zf(0)}static cr(){return new zf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="LruGarbageCollector",tte=1048576;function bN([t,e],[n,r]){const i=Xt(t,n);return i===0?Xt(e,r):i}class nte{constructor(e){this.Ir=e,this.buffer=new Gr(bN),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();bN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rte{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ge(_N,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ap(n)?Ge(_N,"Ignoring IndexedDB error during garbage collection: ",n):await op(n)}await this.Vr(3e5)})}}class ite{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Re.resolve(v2.ce);const r=new nte(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),Re.resolve(wN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wN):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Id()<=Yt.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),Re.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function ste(t,e){return new ite(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ote{constructor(){this.changes=new ed(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ci.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ate{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lte{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Tm(r.mutation,i,Os.empty(),$n.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qt()){const i=ih();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=nm();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ih();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=jl();const o=Am(),a=function(){return Am()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Nu)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Tm(u.mutation,c,u.mutation.getFieldMask(),$n.now())):o.set(c.key,Os.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>a.set(c,new ate(u,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Am();let i=new rr((o,a)=>o-a),s=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Os.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(i.get(a.batchId)||Qt()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=B8();u.forEach(p=>{if(!s.has(p)){const d=G8(n.get(p),r.get(p));d!==null&&h.set(p,d),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return Re.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ft.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):O8(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Re.resolve(ih());let a=hg,l=s;return o.next(c=>Re.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?Re.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Qt())).next(u=>({batchId:a,changes:U8(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ft(n)).next(r=>{let i=nm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=nm();return this.indexManager.getCollectionParents(e,s).next(a=>Re.forEach(a,l=>{const c=function(h,p){return new Jg(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Ci.newInvalidDocument(u)))});let a=nm();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&Tm(u.mutation,c,Os.empty(),$n.now()),S2(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cte{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ja(i.createTime)}}(n)),Re.resolve()}getNamedQuery(e,n){return Re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:Jee(i.bundledQuery),readTime:ja(i.readTime)}}(n)),Re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ute{constructor(){this.overlays=new rr(ft.comparator),this.qr=new Map}getOverlay(e,n){return Re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ih();return Re.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),Re.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),Re.resolve()}getOverlaysForCollection(e,n,r){const i=ih(),s=n.length+1,o=new ft(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Re.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new rr((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=ih(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ih(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return Re.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Cee(n,r));let s=this.qr.get(n);s===void 0&&(s=Qt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hte{constructor(){this.sessionToken=hi.EMPTY_BYTE_STRING}getSessionToken(e){return Re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(){this.Qr=new Gr(Xr.$r),this.Ur=new Gr(Xr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Xr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Xr(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ft(new On([])),r=new Xr(n,e),i=new Xr(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ft(new On([])),r=new Xr(n,e),i=new Xr(n,e+1);let s=Qt();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Xr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ft.comparator(e.key,n.key)||Xt(e.Yr,n.Yr)}static Kr(e,n){return Xt(e.Yr,n.Yr)||ft.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dte{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Gr(Xr.$r)}checkEmpty(e){return Re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Iee(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new Xr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Re.resolve(o)}lookupMutationBatch(e,n){return Re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return Re.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(this.mutationQueue.length===0?CE:this.tr-1)}getAllMutationBatches(e){return Re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xr(n,0),i=new Xr(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),Re.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Gr(Xt);return n.forEach(i=>{const s=new Xr(i,0),o=new Xr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),Re.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ft.isDocumentKey(s)||(s=s.child(""));const o=new Xr(new ft(s),0);let a=new Gr(Xt);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)},o),Re.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){pn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Re.forEach(n.mutations,i=>{const s=new Xr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Xr(n,0),i=this.Zr.firstAfterOrEqual(r);return Re.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fte{constructor(e){this.ri=e,this.docs=function(){return new rr(ft.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Re.resolve(r?r.document.mutableCopy():Ci.newInvalidDocument(n))}getEntries(e,n){let r=jl();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ci.newInvalidDocument(i))}),Re.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=jl();const o=n.path,a=new ft(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||$Z(zZ(u),r)<=0||(i.has(u.key)||S2(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return Re.resolve(s)}getAllFromCollectionGroup(e,n,r,i){xt(9500)}ii(e,n){return Re.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new pte(this)}getSize(e){return Re.resolve(this.size)}}class pte extends ote{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),Re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mte{constructor(e){this.persistence=e,this.si=new ed(n=>kE(n),RE),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.oi=0,this._i=new jE,this.targetCount=0,this.ai=zf.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),Re.resolve()}getLastRemoteSnapshotVersion(e){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new zf(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Re.resolve()}updateTargetData(e,n){return this.Pr(n),Re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Re.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Re.waitFor(s).next(()=>i)}getTargetCount(e){return Re.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Re.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Re.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Re.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Re.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Re.resolve(r)}containsKey(e,n){return Re.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,n){this.ui={},this.overlays={},this.ci=new v2(0),this.li=!1,this.li=!0,this.hi=new hte,this.referenceDelegate=e(this),this.Pi=new mte(this),this.indexManager=new Zee,this.remoteDocumentCache=function(i){return new fte(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Qee(n),this.Ii=new cte(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ute,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new dte(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ge("MemoryPersistence","Starting transaction:",e);const i=new gte(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return Re.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class gte extends HZ{constructor(e){super(),this.currentSequenceNumber=e}}class FE{constructor(e){this.persistence=e,this.Ri=new jE,this.Vi=null}static mi(e){return new FE(e)}get fi(){if(this.Vi)return this.Vi;throw xt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Re.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.fi,r=>{const i=ft.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,Rt.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return Re.or([()=>Re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class uv{constructor(e,n){this.persistence=e,this.pi=new ed(r=>KZ(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=ste(this,n)}static mi(e,n){return new uv(e,n)}Ei(){}di(e){return Re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return Re.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?Re.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,Rt.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Re.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=X1(e.data.value)),n}br(e,n,r){return Re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Re.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Qt(),i=Qt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new VE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yte{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vte{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return KY()?8:WZ(ki())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new yte;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Id()<=Yt.DEBUG&&Ge("QueryEngine","SDK will not create cache indexes for query:",Cd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Re.resolve()):(Id()<=Yt.DEBUG&&Ge("QueryEngine","Query:",Cd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Id()<=Yt.DEBUG&&Ge("QueryEngine","The SDK decides to create cache indexes for query:",Cd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oa(n))):Re.resolve())}ys(e,n){if(cN(n))return Re.resolve(null);let r=Oa(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Fb(n,null,"F"),r=Oa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Qt(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(e,Fb(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return cN(n)||i.isEqual(Rt.min())?Re.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?Re.resolve(null):(Id()<=Yt.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Cd(n)),this.vs(e,o,n,BZ(i,hg)).next(a=>a))})}Ds(e,n){let r=new Gr(F8(e));return n.forEach((i,s)=>{S2(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Id()<=Yt.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",Cd(n)),this.ps.getDocumentsMatchingQuery(e,n,lu.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="LocalStore",wte=3e8;class _te{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new rr(Xt),this.xs=new ed(s=>kE(s),RE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lte(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function bte(t,e,n,r){return new _te(t,e,n,r)}async function lO(t,e){const n=Dt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Qt();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function xte(t,e){const n=Dt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,p=h.keys();let d=Re.resolve();return p.forEach(b=>{d=d.next(()=>u.getEntry(l,b)).next(y=>{const _=c.docVersions.get(b);pn(_!==null,48541),y.version.compareTo(_)<0&&(h.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),d.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Qt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function cO(t){const e=Dt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Ste(t,e){const n=Dt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((u,h)=>{const p=i.get(h);if(!p)return;a.push(n.Pi.removeMatchingKeys(s,u.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(s,u.addedDocuments,h)));let d=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?d=d.withResumeToken(hi.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,r)),i=i.insert(h,d),function(y,_,w){return y.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=wte?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,d,u)&&a.push(n.Pi.updateTargetData(s,d))});let l=jl(),c=Qt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(Ete(s,o,e.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!r.isEqual(Rt.min())){const u=n.Pi.getLastRemoteSnapshotVersion(s).next(h=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return Re.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ms=i,s))}function Ete(t,e,n){let r=Qt(),i=Qt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=jl();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Rt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ge(UE,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:i}})}function Ate(t,e){const n=Dt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=CE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Tte(t,e){const n=Dt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,Re.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new Fc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function $b(t,e,n){const r=Dt(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ap(o))throw o;Ge(UE,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function xN(t,e,n){const r=Dt(t);let i=Rt.min(),s=Qt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=Dt(l),p=h.xs.get(u);return p!==void 0?Re.resolve(h.Ms.get(p)):h.Pi.getTargetData(c,u)}(r,o,Oa(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:Rt.min(),n?s:Qt())).next(a=>(Ite(r,dee(e),a),{documents:a,Qs:s})))}function Ite(t,e,n){let r=t.Os.get(e)||Rt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class SN{constructor(){this.activeTargetIds=vee()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Cte{constructor(){this.Mo=new SN,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new SN,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nte{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="ConnectivityMonitor";class AN{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ge(EN,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ge(EN,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c1=null;function qb(){return c1===null?c1=function(){return 268435456+Math.round(2147483648*Math.random())}():c1++,"0x"+c1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="RestConnection",Pte={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kte{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===rv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=qb(),a=this.zo(e,n.toUriEncodedString());Ge(c_,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:c}=new URL(a),u=Eu(c);return this.Jo(e,a,l,r,u).then(h=>(Ge(c_,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Ff(c_,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sp}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=Pte[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rte{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i="WebChannelConnection";class Lte extends kte{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=qb();return new Promise((a,l)=>{const c=new u8;c.setWithCredentials(!0),c.listenOnce(h8.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Y1.NO_ERROR:const h=c.getResponseJson();Ge(_i,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case Y1.TIMEOUT:Ge(_i,`RPC '${e}' ${o} timed out`),l(new qe(ke.DEADLINE_EXCEEDED,"Request time out"));break;case Y1.HTTP_ERROR:const p=c.getStatus();if(Ge(_i,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let d=c.getResponseJson();Array.isArray(d)&&(d=d[0]);const b=d==null?void 0:d.error;if(b&&b.status&&b.message){const y=function(w){const S=w.toLowerCase().replace(/_/g,"-");return Object.values(ke).indexOf(S)>=0?S:ke.UNKNOWN}(b.status);l(new qe(y,b.message))}else l(new qe(ke.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new qe(ke.UNAVAILABLE,"Connection failed."));break;default:xt(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Ge(_i,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);Ge(_i,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",u,r,15)})}T_(e,n,r){const i=qb(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=p8(),a=f8(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");Ge(_i,`Creating RPC '${e}' stream ${i}: ${u}`,l);const h=o.createWebChannel(u,l);this.I_(h);let p=!1,d=!1;const b=new Rte({Yo:_=>{d?Ge(_i,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(p||(Ge(_i,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),Ge(_i,`RPC '${e}' stream ${i} sending:`,_),h.send(_))},Zo:()=>h.close()}),y=(_,w,S)=>{_.listen(w,E=>{try{S(E)}catch(k){setTimeout(()=>{throw k},0)}})};return y(h,tm.EventType.OPEN,()=>{d||(Ge(_i,`RPC '${e}' stream ${i} transport opened.`),b.o_())}),y(h,tm.EventType.CLOSE,()=>{d||(d=!0,Ge(_i,`RPC '${e}' stream ${i} transport closed`),b.a_(),this.E_(h))}),y(h,tm.EventType.ERROR,_=>{d||(d=!0,Ff(_i,`RPC '${e}' stream ${i} transport errored. Name:`,_.name,"Message:",_.message),b.a_(new qe(ke.UNAVAILABLE,"The operation could not be completed")))}),y(h,tm.EventType.MESSAGE,_=>{var w;if(!d){const S=_.data[0];pn(!!S,16349);const E=S,k=(E==null?void 0:E.error)||((w=E[0])==null?void 0:w.error);if(k){Ge(_i,`RPC '${e}' stream ${i} received error:`,k);const B=k.status;let G=function(P){const j=Pr[P];if(j!==void 0)return X8(j)}(B),D=k.message;G===void 0&&(G=ke.INTERNAL,D="Unknown error status: "+B+" with message "+k.message),d=!0,b.a_(new qe(G,D)),h.close()}else Ge(_i,`RPC '${e}' stream ${i} received:`,S),b.u_(S)}}),y(a,d8.STAT_EVENT,_=>{_.stat===kb.PROXY?Ge(_i,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===kb.NOPROXY&&Ge(_i,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function u_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(t){return new jee(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN="PersistentStream";class hO{constructor(e,n,r,i,s,o,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uO(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ke.RESOURCE_EXHAUSTED?(Ol(n.toString()),Ol("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ke.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new qe(ke.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Ge(TN,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Ge(TN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Dte extends hO{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Uee(this.serializer,e),r=function(s){if(!("targetChange"in s))return Rt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Rt.min():o.readTime?ja(o.readTime):Rt.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=zb(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Ob(l)?{documents:$ee(s,l)}:{query:qee(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Z8(s,o.resumeToken);const c=Vb(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Rt.min())>0){a.readTime=cv(s,o.snapshotVersion.toTimestamp());const c=Vb(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Wee(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=zb(this.serializer),n.removeTarget=e,this.q_(n)}}class Mte extends hO{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return pn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){pn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=zee(e.writeResults,e.commitTime),r=ja(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=zb(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Bee(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ote{}class jte extends Ote{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new qe(ke.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,Ub(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new qe(ke.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Ub(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new qe(ke.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Fte{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ol(n),this.aa=!1):Ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh="RemoteStore";class Vte{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{td(this)&&(Ge(Mh,"Restarting streams for network reachability change."),await async function(l){const c=Dt(l);c.Ea.add(4),await t0(c),c.Ra.set("Unknown"),c.Ea.delete(4),await C2(c)}(this))})}),this.Ra=new Fte(r,i)}}async function C2(t){if(td(t))for(const e of t.da)await e(!0)}async function t0(t){for(const e of t.da)await e(!1)}function dO(t,e){const n=Dt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),qE(n)?$E(n):lp(n).O_()&&zE(n,e))}function BE(t,e){const n=Dt(t),r=lp(n);n.Ia.delete(e),r.O_()&&fO(n,e),n.Ia.size===0&&(r.O_()?r.L_():td(n)&&n.Ra.set("Unknown"))}function zE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lp(t).Y_(e)}function fO(t,e){t.Va.Ue(e),lp(t).Z_(e)}function $E(t){t.Va=new Lee({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),lp(t).start(),t.Ra.ua()}function qE(t){return td(t)&&!lp(t).x_()&&t.Ia.size>0}function td(t){return Dt(t).Ea.size===0}function pO(t){t.Va=void 0}async function Ute(t){t.Ra.set("Online")}async function Bte(t){t.Ia.forEach((e,n)=>{zE(t,e)})}async function zte(t,e){pO(t),qE(t)?(t.Ra.ha(e),$E(t)):t.Ra.set("Unknown")}async function $te(t,e,n){if(t.Ra.set("Online"),e instanceof J8&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){Ge(Mh,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hv(t,r)}else if(e instanceof Z1?t.Va.Ze(e):e instanceof Q8?t.Va.st(e):t.Va.tt(e),!n.isEqual(Rt.min()))try{const r=await cO(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.Ia.get(c);u&&s.Ia.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.Ia.get(l);if(!u)return;s.Ia.set(l,u.withResumeToken(hi.EMPTY_BYTE_STRING,u.snapshotVersion)),fO(s,l);const h=new Fc(u.target,l,c,u.sequenceNumber);zE(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ge(Mh,"Failed to raise snapshot:",r),await hv(t,r)}}async function hv(t,e,n){if(!ap(e))throw e;t.Ea.add(1),await t0(t),t.Ra.set("Offline"),n||(n=()=>cO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ge(Mh,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await C2(t)})}function mO(t,e){return e().catch(n=>hv(t,n,e))}async function N2(t){const e=Dt(t),n=du(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:CE;for(;qte(e);)try{const i=await Ate(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Hte(e,i)}catch(i){await hv(e,i)}gO(e)&&yO(e)}function qte(t){return td(t)&&t.Ta.length<10}function Hte(t,e){t.Ta.push(e);const n=du(t);n.O_()&&n.X_&&n.ea(e.mutations)}function gO(t){return td(t)&&!du(t).x_()&&t.Ta.length>0}function yO(t){du(t).start()}async function Wte(t){du(t).ra()}async function Gte(t){const e=du(t);for(const n of t.Ta)e.ea(n.mutations)}async function Kte(t,e,n){const r=t.Ta.shift(),i=DE.from(r,e,n);await mO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await N2(t)}async function Yte(t,e){e&&du(t).X_&&await async function(r,i){if(function(o){return Pee(o)&&o!==ke.ABORTED}(i.code)){const s=r.Ta.shift();du(r).B_(),await mO(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await N2(r)}}(t,e),gO(t)&&yO(t)}async function IN(t,e){const n=Dt(t);n.asyncQueue.verifyOperationInProgress(),Ge(Mh,"RemoteStore received new credentials");const r=td(n);n.Ea.add(3),await t0(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await C2(n)}async function Xte(t,e){const n=Dt(t);e?(n.Ea.delete(2),await C2(n)):e||(n.Ea.add(2),await t0(n),n.Ra.set("Unknown"))}function lp(t){return t.ma||(t.ma=function(n,r,i){const s=Dt(n);return s.sa(),new Dte(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:Ute.bind(null,t),t_:Bte.bind(null,t),r_:zte.bind(null,t),H_:$te.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),qE(t)?$E(t):t.Ra.set("Unknown")):(await t.ma.stop(),pO(t))})),t.ma}function du(t){return t.fa||(t.fa=function(n,r,i){const s=Dt(n);return s.sa(),new Mte(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Wte.bind(null,t),r_:Yte.bind(null,t),ta:Gte.bind(null,t),na:Kte.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await N2(t)):(await t.fa.stop(),t.Ta.length>0&&(Ge(Mh,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Il,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new HE(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new qe(ke.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function WE(t,e){if(Ol("AsyncQueue",`${e}: ${t}`),ap(t))return new qe(ke.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{static emptySet(e){return new uf(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ft.comparator(n.key,r.key):(n,r)=>ft.comparator(n.key,r.key),this.keyedMap=nm(),this.sortedSet=new rr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new uf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.ga=new rr(ft.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class $f{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new $f(e,n,uf.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&x2(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qte{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Jte{constructor(){this.queries=NN(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Dt(n),s=i.queries;i.queries=NN(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new qe(ke.ABORTED,"Firestore shutting down"))}}function NN(){return new ed(t=>j8(t),x2)}async function GE(t,e){const n=Dt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new Qte,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=WE(o,`Initialization of query '${Cd(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&YE(n)}async function KE(t,e){const n=Dt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Zte(t,e){const n=Dt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&YE(n)}function ene(t,e,n){const r=Dt(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function YE(t){t.Ca.forEach(e=>{e.next()})}var Hb,PN;(PN=Hb||(Hb={})).Ma="default",PN.Cache="cache";class XE{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new $f(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=$f.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Hb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.key=e}}class wO{constructor(e){this.key=e}}class tne{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qt(),this.mutatedKeys=Qt(),this.eu=F8(e),this.tu=new uf(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new CN,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const p=i.get(u),d=S2(this.query,h)?h:null,b=!!p&&this.mutatedKeys.has(p.key),y=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let _=!1;p&&d?p.data.isEqual(d.data)?b!==y&&(r.track({type:3,doc:d}),_=!0):this.su(p,d)||(r.track({type:2,doc:d}),_=!0,(l&&this.eu(d,l)>0||c&&this.eu(d,c)<0)&&(a=!0)):!p&&d?(r.track({type:0,doc:d}),_=!0):p&&!d&&(r.track({type:1,doc:p}),_=!0,(l||c)&&(a=!0)),_&&(d?(o=o.add(d),s=y?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((u,h)=>function(d,b){const y=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt(20277,{Rt:_})}};return y(d)-y(b)}(u.type,h.type)||this.eu(u.doc,h.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new $f(this.query,e.tu,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new CN,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new wO(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new vO(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Qt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return $f.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const QE="SyncEngine";class nne{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class rne{constructor(e){this.key=e,this.hu=!1}}class ine{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ed(a=>j8(a),x2),this.Iu=new Map,this.Eu=new Set,this.du=new rr(ft.comparator),this.Au=new Map,this.Ru=new jE,this.Vu={},this.mu=new Map,this.fu=zf.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sne(t,e,n=!0){const r=AO(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await _O(r,e,n,!0),i}async function one(t,e){const n=AO(t);await _O(n,e,!0,!1)}async function _O(t,e,n,r){const i=await Tte(t.localStore,Oa(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await ane(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&dO(t.remoteStore,i),a}async function ane(t,e,n,r,i){t.pu=(h,p,d)=>async function(y,_,w,S){let E=_.view.ru(w);E.Cs&&(E=await xN(y.localStore,_.query,!1).then(({documents:D})=>_.view.ru(D,E)));const k=S&&S.targetChanges.get(_.targetId),B=S&&S.targetMismatches.get(_.targetId)!=null,G=_.view.applyChanges(E,y.isPrimaryClient,k,B);return RN(y,_.targetId,G.au),G.snapshot}(t,h,p,d);const s=await xN(t.localStore,e,!0),o=new tne(e,s.Qs),a=o.ru(s.documents),l=e0.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);RN(t,n,c.au);const u=new nne(e,n,o);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function lne(t,e,n){const r=Dt(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!x2(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await $b(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&BE(r.remoteStore,i.targetId),Wb(r,i.targetId)}).catch(op)):(Wb(r,i.targetId),await $b(r.localStore,i.targetId,!0))}async function cne(t,e){const n=Dt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),BE(n.remoteStore,r.targetId))}async function une(t,e,n){const r=yne(t);try{const i=await function(o,a){const l=Dt(o),c=$n.now(),u=a.reduce((d,b)=>d.add(b.key),Qt());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let b=jl(),y=Qt();return l.Ns.getEntries(d,u).next(_=>{b=_,b.forEach((w,S)=>{S.isValidDocument()||(y=y.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,b)).next(_=>{h=_;const w=[];for(const S of a){const E=Aee(S,h.get(S.key).overlayedDocument);E!=null&&w.push(new Nu(S.key,E,N8(E.value.mapValue),Ho.exists(!0)))}return l.mutationQueue.addMutationBatch(d,c,w,a)}).next(_=>{p=_;const w=_.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(d,_.batchId,w)})}).then(()=>({batchId:p.batchId,changes:U8(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new rr(Xt)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,i.batchId,n),await n0(r,i.changes),await N2(r.remoteStore)}catch(i){const s=WE(i,"Failed to persist write");n.reject(s)}}async function bO(t,e){const n=Dt(t);try{const r=await Ste(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(pn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?pn(o.hu,14607):i.removedDocuments.size>0&&(pn(o.hu,42227),o.hu=!1))}),await n0(n,r,e)}catch(r){await op(r)}}function kN(t,e,n){const r=Dt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Dt(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const p of h.Sa)p.va(a)&&(c=!0)}),c&&YE(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function hne(t,e,n){const r=Dt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new rr(ft.comparator);o=o.insert(s,Ci.newNoDocument(s,Rt.min()));const a=Qt().add(s),l=new T2(Rt.min(),new Map,new rr(Xt),o,a);await bO(r,l),r.du=r.du.remove(s),r.Au.delete(e),JE(r)}else await $b(r.localStore,e,!1).then(()=>Wb(r,e,n)).catch(op)}async function dne(t,e){const n=Dt(t),r=e.batch.batchId;try{const i=await xte(n.localStore,e);SO(n,r,null),xO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await n0(n,i)}catch(i){await op(i)}}async function fne(t,e,n){const r=Dt(t);try{const i=await function(o,a){const l=Dt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(pn(h!==null,37113),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);SO(r,e,n),xO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await n0(r,i)}catch(i){await op(i)}}function xO(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function SO(t,e,n){const r=Dt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Wb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||EO(t,r)})}function EO(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(BE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),JE(t))}function RN(t,e,n){for(const r of n)r instanceof vO?(t.Ru.addReference(r.key,e),pne(t,r)):r instanceof wO?(Ge(QE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||EO(t,r.key)):xt(19791,{wu:r})}function pne(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ge(QE,"New document in limbo: "+n),t.Eu.add(r),JE(t))}function JE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ft(On.fromString(e)),r=t.fu.next();t.Au.set(r,new rne(n)),t.du=t.du.insert(n,r),dO(t.remoteStore,new Fc(Oa(b2(n.path)),r,"TargetPurposeLimboResolution",v2.ce))}}async function n0(t,e,n){const r=Dt(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=VE.As(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,c){const u=Dt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Re.forEach(c,p=>Re.forEach(p.Es,d=>u.persistence.referenceDelegate.addReference(h,p.targetId,d)).next(()=>Re.forEach(p.ds,d=>u.persistence.referenceDelegate.removeReference(h,p.targetId,d)))))}catch(h){if(!ap(h))throw h;Ge(UE,"Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const d=u.Ms.get(p),b=d.snapshotVersion,y=d.withLastLimboFreeSnapshotVersion(b);u.Ms=u.Ms.insert(p,y)}}}(r.localStore,s))}async function mne(t,e){const n=Dt(t);if(!n.currentUser.isEqual(e)){Ge(QE,"User change. New user:",e.toKey());const r=await lO(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new qe(ke.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await n0(n,r.Ls)}}function gne(t,e){const n=Dt(t),r=n.Au.get(e);if(r&&r.hu)return Qt().add(r.key);{let i=Qt();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function AO(t){const e=Dt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gne.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hne.bind(null,e),e.Pu.H_=Zte.bind(null,e.eventManager),e.Pu.yu=ene.bind(null,e.eventManager),e}function yne(t){const e=Dt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dne.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fne.bind(null,e),e}class dv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=I2(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return bte(this.persistence,new vte,e.initialUser,this.serializer)}Cu(e){return new aO(FE.mi,this.serializer)}Du(e){return new Cte}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dv.provider={build:()=>new dv};class vne extends dv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){pn(this.persistence.referenceDelegate instanceof uv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new rte(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ls.withCacheSize(this.cacheSizeBytes):ls.DEFAULT;return new aO(r=>uv.mi(r,n),this.serializer)}}class Gb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mne.bind(null,this.syncEngine),await Xte(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Jte}()}createDatastore(e){const n=I2(e.databaseInfo.databaseId),r=function(s){return new Lte(s)}(e.databaseInfo);return function(s,o,a,l){return new jte(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Vte(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>kN(this.syncEngine,n,0),function(){return AN.v()?new AN:new Nte}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const h=new ine(i,s,o,a,l,c);return u&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Dt(i);Ge(Mh,"RemoteStore shutting down."),s.Ea.add(5),await t0(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Gb.provider={build:()=>new Gb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ol("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu="FirestoreClient";class wne{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ti.UNAUTHENTICATED,this.clientId=IE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ge(fu,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ge(fu,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Il;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=WE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function h_(t,e){t.asyncQueue.verifyOperationInProgress(),Ge(fu,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await lO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function LN(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _ne(t);Ge(fu,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>IN(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>IN(e.remoteStore,i)),t._onlineComponents=e}async function _ne(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ge(fu,"Using user provided OfflineComponentProvider");try{await h_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ke.FAILED_PRECONDITION||i.code===ke.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ff("Error using user provided cache. Falling back to memory cache: "+n),await h_(t,new dv)}}else Ge(fu,"Using default OfflineComponentProvider"),await h_(t,new vne(void 0));return t._offlineComponents}async function TO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ge(fu,"Using user provided OnlineComponentProvider"),await LN(t,t._uninitializedComponentsProvider._online)):(Ge(fu,"Using default OnlineComponentProvider"),await LN(t,new Gb))),t._onlineComponents}function bne(t){return TO(t).then(e=>e.syncEngine)}async function fv(t){const e=await TO(t),n=e.eventManager;return n.onListen=sne.bind(null,e.syncEngine),n.onUnlisten=lne.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=one.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=cne.bind(null,e.syncEngine),n}function xne(t,e,n={}){const r=new Il;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new ZE({next:p=>{u.Nu(),o.enqueueAndForget(()=>KE(s,h));const d=p.docs.has(a);!d&&p.fromCache?c.reject(new qe(ke.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&p.fromCache&&l&&l.source==="server"?c.reject(new qe(ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new XE(b2(a.path),u,{includeMetadataChanges:!0,qa:!0});return GE(s,h)}(await fv(t),t.asyncQueue,e,n,r)),r.promise}function Sne(t,e,n={}){const r=new Il;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new ZE({next:p=>{u.Nu(),o.enqueueAndForget(()=>KE(s,h)),p.fromCache&&l.source==="server"?c.reject(new qe(ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new XE(a,u,{includeMetadataChanges:!0,qa:!0});return GE(s,h)}(await fv(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO="firestore.googleapis.com",MN=!0;class ON{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new qe(ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CO,this.ssl=MN}else this.host=e.host,this.ssl=e.ssl??MN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tte)throw new qe(ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UZ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IO(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new qe(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new qe(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new qe(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class P2{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ON({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new qe(ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new qe(ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ON(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new PZ;switch(r.type){case"firstParty":return new DZ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new qe(ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=DN.get(n);r&&(Ge("ComponentProvider","Removing Datastore"),DN.delete(n),r.terminate())}(this),Promise.resolve()}}function Ene(t,e,n,r={}){var c;t=zs(t,P2);const i=Eu(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(mE(`https://${a}`),gE("Firestore",!0)),s.host!==CO&&s.host!==a&&Ff("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!au(l,o)&&(t._setSettings(l),r.mockUserToken)){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=Ti.MOCK_USER;else{u=wM(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new qe(ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ti(p)}t._authCredentials=new kZ(new g8(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new nd(this.firestore,e,this._query)}}class dr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dr(this.firestore,e,this._key)}toJSON(){return{type:dr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Qg(n,dr._jsonSchema))return new dr(e,r||null,new ft(On.fromString(n.referencePath)))}}dr._jsonSchemaVersion="firestore/documentReference/1.0",dr._jsonSchema={type:Or("string",dr._jsonSchemaVersion),referencePath:Or("string")};class Zc extends nd{constructor(e,n,r){super(e,n,b2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dr(this.firestore,null,new ft(e))}withConverter(e){return new Zc(this.firestore,e,this._path)}}function Wo(t,e,...n){if(t=Wn(t),y8("collection","path",e),t instanceof P2){const r=On.fromString(e,...n);return YC(r),new Zc(t,null,r)}{if(!(t instanceof dr||t instanceof Zc))throw new qe(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(On.fromString(e,...n));return YC(r),new Zc(t.firestore,null,r)}}function xo(t,e,...n){if(t=Wn(t),arguments.length===1&&(e=IE.newId()),y8("doc","path",e),t instanceof P2){const r=On.fromString(e,...n);return KC(r),new dr(t,null,new ft(r))}{if(!(t instanceof dr||t instanceof Zc))throw new qe(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(On.fromString(e,...n));return KC(r),new dr(t.firestore,t instanceof Zc?t.converter:null,new ft(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="AsyncQueue";class FN{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uO(this,"async_queue_retry"),this._c=()=>{const r=u_();r&&Ge(jN,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=u_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=u_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Il;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ap(e))throw e;Ge(jN,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ol("INTERNAL UNHANDLED ERROR: ",VN(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=HE.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&xt(47125,{Pc:VN(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function VN(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class pu extends P2{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new FN,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new FN(e),this._firestoreClient=void 0,await e}}}function Ane(t,e){const n=typeof t=="object"?t:f2(),r=typeof t=="string"?t:rv,i=Au(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=gM("firestore");s&&Ene(i,...s)}return i}function k2(t){if(t._terminated)throw new qe(ke.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Tne(t),t._firestoreClient}function Tne(t){var r,i,s;const e=t._freezeSettings(),n=function(a,l,c,u){return new QZ(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,IO(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new wne(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uo(hi.fromBase64String(e))}catch(n){throw new qe(ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new uo(hi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:uo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qg(e,uo._jsonSchema))return uo.fromBase64String(e.bytes)}}uo._jsonSchemaVersion="firestore/bytes/1.0",uo._jsonSchema={type:Or("string",uo._jsonSchemaVersion),bytes:Or("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new qe(ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new li(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new qe(ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new qe(ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xt(this._lat,e._lat)||Xt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fa._jsonSchemaVersion}}static fromJSON(e){if(Qg(e,Fa._jsonSchema))return new Fa(e.latitude,e.longitude)}}Fa._jsonSchemaVersion="firestore/geoPoint/1.0",Fa._jsonSchema={type:Or("string",Fa._jsonSchemaVersion),latitude:Or("number"),longitude:Or("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Va._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qg(e,Va._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Va(e.vectorValues);throw new qe(ke.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Va._jsonSchemaVersion="firestore/vectorValue/1.0",Va._jsonSchema={type:Or("string",Va._jsonSchemaVersion),vectorValues:Or("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ine=/^__.*__$/;class Cne{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Nu(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zg(e,this.data,n,this.fieldTransforms)}}class NO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Nu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function PO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt(40011,{Ac:t})}}class tA{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new tA({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return pv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(PO(this.Ac)&&Ine.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Nne{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||I2(e)}Cc(e,n,r,i=!1){return new tA({Ac:e,methodName:n,Dc:r,path:li.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function L2(t){const e=t._freezeSettings(),n=I2(t._databaseId);return new Nne(t._databaseId,!!e.ignoreUndefinedProperties,n)}function kO(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);nA("Data must be an object, but it was:",o,r);const a=RO(r,o);let l,c;if(s.merge)l=new Os(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const p=Kb(e,h,n);if(!o.contains(p))throw new qe(ke.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);DO(u,p)||u.push(p)}l=new Os(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new Cne(new us(a),l,c)}class D2 extends eA{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof D2}}function Pne(t,e,n,r){const i=t.Cc(1,e,n);nA("Data must be an object, but it was:",i,r);const s=[],o=us.empty();Cu(r,(l,c)=>{const u=rA(e,l,n);c=Wn(c);const h=i.yc(u);if(c instanceof D2)s.push(u);else{const p=r0(c,h);p!=null&&(s.push(u),o.set(u,p))}});const a=new Os(s);return new NO(o,a,i.fieldTransforms)}function kne(t,e,n,r,i,s){const o=t.Cc(1,e,n),a=[Kb(e,r,n)],l=[i];if(s.length%2!=0)throw new qe(ke.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(Kb(e,s[p])),l.push(s[p+1]);const c=[],u=us.empty();for(let p=a.length-1;p>=0;--p)if(!DO(c,a[p])){const d=a[p];let b=l[p];b=Wn(b);const y=o.yc(d);if(b instanceof D2)c.push(d);else{const _=r0(b,y);_!=null&&(c.push(d),u.set(d,_))}}const h=new Os(c);return new NO(u,h,o.fieldTransforms)}function Rne(t,e,n,r=!1){return r0(n,t.Cc(r?4:3,e))}function r0(t,e){if(LO(t=Wn(t)))return nA("Unsupported field value:",e,t),RO(t,e);if(t instanceof eA)return function(r,i){if(!PO(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=r0(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Wn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wee(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=$n.fromDate(r);return{timestampValue:cv(i.serializer,s)}}if(r instanceof $n){const s=new $n(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cv(i.serializer,s)}}if(r instanceof Fa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof uo)return{bytesValue:Z8(i.serializer,r._byteString)};if(r instanceof dr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:OE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Va)return function(o,a){return{mapValue:{fields:{[T8]:{stringValue:C8},[iv]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return LE(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${y2(r)}`)}(t,e)}function RO(t,e){const n={};return _8(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cu(t,(r,i)=>{const s=r0(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function LO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $n||t instanceof Fa||t instanceof uo||t instanceof dr||t instanceof eA||t instanceof Va)}function nA(t,e,n){if(!LO(n)||!v8(n)){const r=y2(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Kb(t,e,n){if((e=Wn(e))instanceof R2)return e._internalPath;if(typeof e=="string")return rA(t,e);throw pv("Field path arguments must be of type string or ",t,!1,void 0,n)}const Lne=new RegExp("[~\\*/\\[\\]]");function rA(t,e,n){if(e.search(Lne)>=0)throw pv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new R2(...e.split("."))._internalPath}catch{throw pv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pv(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new qe(ke.INVALID_ARGUMENT,a+t+l)}function DO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new dr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Dne(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(iA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Dne extends MO{data(){return super.data()}}function iA(t,e){return typeof e=="string"?rA(t,e):e instanceof R2?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new qe(ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sA{}class Mne extends sA{}function Oh(t,e,...n){let r=[];e instanceof sA&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof oA).length,a=s.filter(l=>l instanceof M2).length;if(o>1||o>0&&a>0)throw new qe(ke.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class M2 extends Mne{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new M2(e,n,r)}_apply(e){const n=this._parse(e);return jO(e._query,n),new nd(e.firestore,e.converter,jb(e._query,n))}_parse(e){const n=L2(e.firestore);return function(s,o,a,l,c,u,h){let p;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new qe(ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){zN(h,u);const b=[];for(const y of h)b.push(BN(l,s,y));p={arrayValue:{values:b}}}else p=BN(l,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||zN(h,u),p=Rne(a,o,h,u==="in"||u==="not-in");return Mr.create(c,u,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function mu(t,e,n){const r=e,i=iA("where",t);return M2._create(i,r,n)}class oA extends sA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new oA(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Jo.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)jO(o,l),o=jb(o,l)}(e._query,n),new nd(e.firestore,e.converter,jb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function BN(t,e,n){if(typeof(n=Wn(n))=="string"){if(n==="")throw new qe(ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!O8(e)&&n.indexOf("/")!==-1)throw new qe(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(On.fromString(n));if(!ft.isDocumentKey(r))throw new qe(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rN(t,new ft(r))}if(n instanceof dr)return rN(t,n._key);throw new qe(ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${y2(n)}.`)}function zN(t,e){if(!Array.isArray(t)||t.length===0)throw new qe(ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jO(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new qe(ke.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new qe(ke.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class One{convertValue(e,n="none"){switch(hu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return br(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(uu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Cu(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[iv].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>br(o.doubleValue));return new Va(n)}convertGeoPoint(e){return new Fa(br(e.latitude),br(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=_2(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dg(e));default:return null}}convertTimestamp(e){const n=cu(e);return new $n(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=On.fromString(e);pn(sO(r),9688,{name:e});const i=new fg(r.get(1),r.get(3)),s=new ft(r.popFirst(5));return i.isEqual(n)||Ol(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class im{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wh extends MO{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ey(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(iA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new qe(ke.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=wh._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}wh._jsonSchemaVersion="firestore/documentSnapshot/1.0",wh._jsonSchema={type:Or("string",wh._jsonSchemaVersion),bundleSource:Or("string","DocumentSnapshot"),bundleName:Or("string"),bundle:Or("string")};class ey extends wh{data(e={}){return super.data(e)}}class _h{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new im(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ey(this._firestore,this._userDataWriter,r.key,r,new im(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new qe(ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new ey(i._firestore,i._userDataWriter,a.doc.key,a.doc,new im(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new ey(i._firestore,i._userDataWriter,a.doc.key,a.doc,new im(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:jne(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new qe(ke.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_h._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=IE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jne(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(t){t=zs(t,dr);const e=zs(t.firestore,pu);return xne(k2(e),t._key).then(n=>VO(e,t,n))}_h._jsonSchemaVersion="firestore/querySnapshot/1.0",_h._jsonSchema={type:Or("string",_h._jsonSchemaVersion),bundleSource:Or("string","QuerySnapshot"),bundleName:Or("string"),bundle:Or("string")};class aA extends One{constructor(e){super(),this.firestore=e}convertBytes(e){return new uo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dr(this.firestore,null,n)}}function lA(t){t=zs(t,nd);const e=zs(t.firestore,pu),n=k2(e),r=new aA(e);return OO(t._query),Sne(n,t._query).then(i=>new _h(e,r,t,i))}function cA(t,e,n){t=zs(t,dr);const r=zs(t.firestore,pu),i=FO(t.converter,e,n);return hA(r,[kO(L2(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ho.none())])}function mv(t,e,n,...r){t=zs(t,dr);const i=zs(t.firestore,pu),s=L2(i);let o;return o=typeof(e=Wn(e))=="string"||e instanceof R2?kne(s,"updateDoc",t._key,e,n,r):Pne(s,"updateDoc",t._key,e),hA(i,[o.toMutation(t._key,Ho.exists(!0))])}function uA(t,e){const n=zs(t.firestore,pu),r=xo(t),i=FO(t.converter,e);return hA(n,[kO(L2(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ho.exists(!1))]).then(()=>r)}function i0(t,...e){var l,c,u;t=Wn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||UN(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(UN(e[r])){const h=e[r];e[r]=(l=h.next)==null?void 0:l.bind(h),e[r+1]=(c=h.error)==null?void 0:c.bind(h),e[r+2]=(u=h.complete)==null?void 0:u.bind(h)}let s,o,a;if(t instanceof dr)o=zs(t.firestore,pu),a=b2(t._key.path),s={next:h=>{e[r]&&e[r](VO(o,t,h))},error:e[r+1],complete:e[r+2]};else{const h=zs(t,nd);o=zs(h.firestore,pu),a=h._query;const p=new aA(o);s={next:d=>{e[r]&&e[r](new _h(o,p,h,d))},error:e[r+1],complete:e[r+2]},OO(t._query)}return function(p,d,b,y){const _=new ZE(y),w=new XE(d,_,b);return p.asyncQueue.enqueueAndForget(async()=>GE(await fv(p),w)),()=>{_.Nu(),p.asyncQueue.enqueueAndForget(async()=>KE(await fv(p),w))}}(k2(o),a,i,s)}function hA(t,e){return function(r,i){const s=new Il;return r.asyncQueue.enqueueAndForget(async()=>une(await bne(r),i,s)),s.promise}(k2(t),e)}function VO(t,e,n){const r=n.docs.get(e._key),i=new aA(t);return new wh(t,i,e._key,r,new im(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){sp=i})(Jh),Xo(new bo("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new pu(new RZ(r.getProvider("auth-internal")),new MZ(o,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new qe(ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fg(c.options.projectId,u)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ys(qC,HC,e),ys(qC,HC,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="firebasestorage.googleapis.com",BO="storageBucket",Fne=2*60*1e3,Vne=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends Eo{constructor(e,n,r=0){super(d_(e),`Firebase Storage: ${n} (${d_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return d_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pr||(pr={}));function d_(t){return"storage/"+t}function dA(){const t="An unknown error occurred, please check the error payload for server response.";return new mr(pr.UNKNOWN,t)}function Une(t){return new mr(pr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Bne(t){return new mr(pr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function zne(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mr(pr.UNAUTHENTICATED,t)}function $ne(){return new mr(pr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function qne(t){return new mr(pr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Hne(){return new mr(pr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Wne(){return new mr(pr.CANCELED,"User canceled the upload/download.")}function Gne(t){return new mr(pr.INVALID_URL,"Invalid URL '"+t+"'.")}function Kne(t){return new mr(pr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Yne(){return new mr(pr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+BO+"' property when initializing the app?")}function Xne(){return new mr(pr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Qne(){return new mr(pr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Jne(t){return new mr(pr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Yb(t){return new mr(pr.INVALID_ARGUMENT,t)}function zO(){return new mr(pr.APP_DELETED,"The Firebase app was deleted.")}function Zne(t){return new mr(pr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Im(t,e){return new mr(pr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function qp(t){throw new mr(pr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=js.makeFromUrl(e,n)}catch{return new js(e,"")}if(r.path==="")return r;throw Kne(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(k){k.path_=decodeURIComponent(k.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",d=new RegExp(`^https?://${h}/${u}/b/${i}/o${p}`,"i"),b={bucket:1,path:3},y=n===UO?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",w=new RegExp(`^https?://${y}/${i}/${_}`,"i"),E=[{regex:a,indices:l,postModify:s},{regex:d,indices:b,postModify:c},{regex:w,indices:{bucket:1,path:2},postModify:c}];for(let k=0;k<E.length;k++){const B=E[k],G=B.regex.exec(e);if(G){const D=G[B.indices.bucket];let N=G[B.indices.path];N||(N=""),r=new js(D,N),B.postModify(r);break}}if(r==null)throw Gne(e);return r}}class ere{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tre(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(..._){c||(c=!0,e.apply(null,_))}function h(_){i=setTimeout(()=>{i=null,t(d,l())},_)}function p(){s&&clearTimeout(s)}function d(_,...w){if(c){p();return}if(_){p(),u.call(null,_,...w);return}if(l()||o){p(),u.call(null,_,...w);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,h(E)}let b=!1;function y(_){b||(b=!0,p(),!c&&(i!==null?(_||(a=2),clearTimeout(i),h(0)):_||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function nre(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rre(t){return t!==void 0}function ire(t){return typeof t=="object"&&!Array.isArray(t)}function fA(t){return typeof t=="string"||t instanceof String}function $N(t){return pA()&&t instanceof Blob}function pA(){return typeof Blob<"u"}function qN(t,e,n,r){if(r<e)throw Yb(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Yb(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function $O(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var bh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(bh||(bh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sre(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ore{constructor(e,n,r,i,s,o,a,l,c,u,h,p=!0,d=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=p,this.isUsingEmulator=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,y)=>{this.resolve_=b,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new u1(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===bh.NO_ERROR,l=s.getStatus();if(!a||sre(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===bh.ABORT;r(!1,new u1(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new u1(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());rre(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=dA();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?zO():Wne();o(l)}else{const l=Hne();o(l)}};this.canceled_?n(!1,new u1(!1,null,!0)):this.backoffId_=tre(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&nre(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class u1{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function are(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function lre(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function cre(t,e){e&&(t["X-Firebase-GMPID"]=e)}function ure(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function hre(t,e,n,r,i,s,o=!0,a=!1){const l=$O(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return cre(u,e),are(u,n),lre(u,s),ure(u,r),new ore(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dre(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function fre(...t){const e=dre();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(pA())return new Blob(t);throw new mr(pr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function pre(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mre(t){if(typeof atob>"u")throw Jne("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class f_{constructor(e,n){this.data=e,this.contentType=n||null}}function gre(t,e){switch(t){case Na.RAW:return new f_(qO(e));case Na.BASE64:case Na.BASE64URL:return new f_(HO(t,e));case Na.DATA_URL:return new f_(vre(e),wre(e))}throw dA()}function qO(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function yre(t){let e;try{e=decodeURIComponent(t)}catch{throw Im(Na.DATA_URL,"Malformed data URL.")}return qO(e)}function HO(t,e){switch(t){case Na.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Im(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Na.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Im(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=mre(e)}catch(i){throw i.message.includes("polyfill")?i:Im(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class WO{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Im(Na.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=_re(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function vre(t){const e=new WO(t);return e.base64?HO(Na.BASE64,e.rest):yre(e.rest)}function wre(t){return new WO(t).contentType}function _re(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n){let r=0,i="";$N(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if($N(this.data_)){const r=this.data_,i=pre(r,e,n);return i===null?null:new Cc(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Cc(r,!0)}}static getBlob(...e){if(pA()){const n=e.map(r=>r instanceof Cc?r.data_:r);return new Cc(fre.apply(null,n))}else{const n=e.map(o=>fA(o)?gre(Na.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Cc(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(t){let e;try{e=JSON.parse(t)}catch{return null}return ire(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bre(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function xre(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function KO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sre(t,e){return e}class Ui{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Sre}}let h1=null;function Ere(t){return!fA(t)||t.length<2?t:KO(t)}function YO(){if(h1)return h1;const t=[];t.push(new Ui("bucket")),t.push(new Ui("generation")),t.push(new Ui("metageneration")),t.push(new Ui("name","fullPath",!0));function e(s,o){return Ere(o)}const n=new Ui("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Ui("size");return i.xform=r,t.push(i),t.push(new Ui("timeCreated")),t.push(new Ui("updated")),t.push(new Ui("md5Hash",null,!0)),t.push(new Ui("cacheControl",null,!0)),t.push(new Ui("contentDisposition",null,!0)),t.push(new Ui("contentEncoding",null,!0)),t.push(new Ui("contentLanguage",null,!0)),t.push(new Ui("contentType",null,!0)),t.push(new Ui("metadata","customMetadata",!0)),h1=t,h1}function Are(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new js(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Tre(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return Are(r,t),r}function XO(t,e,n){const r=GO(e);return r===null?null:Tre(t,r,n)}function Ire(t,e,n,r){const i=GO(e);if(i===null||!fA(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,h=t.fullPath,p="/b/"+o(u)+"/o/"+o(h),d=mA(p,n,r),b=$O({alt:"media",token:c});return d+b})[0]}function Cre(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class QO{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(t){if(!t)throw dA()}function Nre(t,e){function n(r,i){const s=XO(t,i,e);return JO(s!==null),s}return n}function Pre(t,e){function n(r,i){const s=XO(t,i,e);return JO(s!==null),Ire(s,i,t.host,t._protocol)}return n}function ZO(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=$ne():i=zne():n.getStatus()===402?i=Bne(t.bucket):n.getStatus()===403?i=qne(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function kre(t){const e=ZO(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Une(t.path)),s.serverResponse=i.serverResponse,s}return n}function Rre(t,e,n){const r=e.fullServerUrl(),i=mA(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new QO(i,s,Pre(t,n),o);return a.errorHandler=kre(e),a}function Lre(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Dre(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Lre(null,e)),r}function Mre(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let k=0;k<2;k++)E=E+Math.random().toString().slice(2);return E}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=Dre(e,r,i),u=Cre(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",d=Cc.getBlob(h,r,p);if(d===null)throw Xne();const b={name:c.fullPath},y=mA(s,t.host,t._protocol),_="POST",w=t.maxUploadRetryTime,S=new QO(y,_,Nre(t,n),w);return S.urlParams=b,S.headers=o,S.body=d.uploadData(),S.errorHandler=ZO(e),S}class Ore{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=bh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=bh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=bh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw qp("cannot .send() more than once");if(Eu(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw qp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw qp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw qp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw qp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class jre extends Ore{initXhr(){this.xhr_.responseType="text"}}function ej(){return new jre}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n){this._service=e,n instanceof js?this._location=n:this._location=js.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new jh(e,n)}get root(){const e=new js(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return KO(this._location.path)}get storage(){return this._service}get parent(){const e=bre(this._location.path);if(e===null)return null;const n=new js(this._location.bucket,e);return new jh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Zne(e)}}function Fre(t,e,n){t._throwIfRoot("uploadBytes");const r=Mre(t.storage,t._location,YO(),new Cc(e,!0),n);return t.storage.makeRequestWithTokens(r,ej).then(i=>({metadata:i,ref:t}))}function Vre(t){t._throwIfRoot("getDownloadURL");const e=Rre(t.storage,t._location,YO());return t.storage.makeRequestWithTokens(e,ej).then(n=>{if(n===null)throw Qne();return n})}function Ure(t,e){const n=xre(t._location.path,e),r=new js(t._location.bucket,n);return new jh(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bre(t){return/^[A-Za-z]+:\/\//.test(t)}function zre(t,e){return new jh(t,e)}function tj(t,e){if(t instanceof gA){const n=t;if(n._bucket==null)throw Yne();const r=new jh(n,n._bucket);return e!=null?tj(r,e):r}else return e!==void 0?Ure(t,e):t}function $re(t,e){if(e&&Bre(e)){if(t instanceof gA)return zre(t,e);throw Yb("To use ref(service, url), the first argument must be a Storage instance.")}else return tj(t,e)}function HN(t,e){const n=e==null?void 0:e[BO];return n==null?null:js.makeFromBucketSpec(n,t)}function qre(t,e,n,r={}){t.host=`${e}:${n}`;const i=Eu(e);i&&(mE(`https://${t.host}/b`),gE("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:wM(s,t.app.options.projectId))}class gA{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=UO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Fne,this._maxUploadRetryTime=Vne,this._requests=new Set,i!=null?this._bucket=js.makeFromBucketSpec(i,this._host):this._bucket=HN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=js.makeFromBucketSpec(this._url,e):this._bucket=HN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ds(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new jh(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new ere(zO());{const o=hre(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const WN="@firebase/storage",GN="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj="storage";function yA(t,e,n){return t=Wn(t),Fre(t,e,n)}function vA(t){return t=Wn(t),Vre(t)}function wA(t,e){return t=Wn(t),$re(t,e)}function Hre(t=f2(),e){t=Wn(t);const r=Au(t,nj).getImmediate({identifier:e}),i=gM("storage");return i&&Wre(r,...i),r}function Wre(t,e,n,r={}){qre(t,e,n,r)}function Gre(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new gA(n,r,i,e,Jh)}function Kre(){Xo(new bo(nj,Gre,"PUBLIC").setMultipleInstances(!0)),ys(WN,GN,""),ys(WN,GN,"esm2020")}Kre();const rj="@firebase/installations",_A="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=1e4,sj=`w:${_A}`,oj="FIS_v2",Yre="https://firebaseinstallations.googleapis.com/v1",Xre=60*60*1e3,Qre="installations",Jre="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zre={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Fh=new Qh(Qre,Jre,Zre);function aj(t){return t instanceof Eo&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj({projectId:t}){return`${Yre}/projects/${t}/installations`}function cj(t){return{token:t.token,requestStatus:2,expiresIn:tie(t.expiresIn),creationTime:Date.now()}}async function uj(t,e){const r=(await e.json()).error;return Fh.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function hj({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function eie(t,{refreshToken:e}){const n=hj(t);return n.append("Authorization",nie(e)),n}async function dj(t){const e=await t();return e.status>=500&&e.status<600?t():e}function tie(t){return Number(t.replace("s","000"))}function nie(t){return`${oj} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rie({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=lj(t),i=hj(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:oj,appId:t.appId,sdkVersion:sj},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await dj(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:cj(c.authToken)}}else throw await uj("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iie(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sie=/^[cdef][\w-]{21}$/,Xb="";function oie(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=aie(t);return sie.test(n)?n:Xb}catch{return Xb}}function aie(t){return iie(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=new Map;function mj(t,e){const n=j2(t);gj(n,e),lie(n,e)}function gj(t,e){const n=pj.get(t);if(n)for(const r of n)r(e)}function lie(t,e){const n=cie();n&&n.postMessage({key:t,fid:e}),uie()}let sh=null;function cie(){return!sh&&"BroadcastChannel"in self&&(sh=new BroadcastChannel("[Firebase] FID Change"),sh.onmessage=t=>{gj(t.data.key,t.data.fid)}),sh}function uie(){pj.size===0&&sh&&(sh.close(),sh=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hie="firebase-installations-database",die=1,Vh="firebase-installations-store";let p_=null;function bA(){return p_||(p_=AM(hie,die,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Vh)}}})),p_}async function gv(t,e){const n=j2(t),i=(await bA()).transaction(Vh,"readwrite"),s=i.objectStore(Vh),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&mj(t,e.fid),e}async function yj(t){const e=j2(t),r=(await bA()).transaction(Vh,"readwrite");await r.objectStore(Vh).delete(e),await r.done}async function F2(t,e){const n=j2(t),i=(await bA()).transaction(Vh,"readwrite"),s=i.objectStore(Vh),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&mj(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xA(t){let e;const n=await F2(t.appConfig,r=>{const i=fie(r),s=pie(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Xb?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function fie(t){const e=t||{fid:oie(),registrationStatus:0};return vj(e)}function pie(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Fh.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=mie(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:gie(t)}:{installationEntry:e}}async function mie(t,e){try{const n=await rie(t,e);return gv(t.appConfig,n)}catch(n){throw aj(n)&&n.customData.serverCode===409?await yj(t.appConfig):await gv(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function gie(t){let e=await KN(t.appConfig);for(;e.registrationStatus===1;)await fj(100),e=await KN(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await xA(t);return r||n}return e}function KN(t){return F2(t,e=>{if(!e)throw Fh.create("installation-not-found");return vj(e)})}function vj(t){return yie(t)?{fid:t.fid,registrationStatus:0}:t}function yie(t){return t.registrationStatus===1&&t.registrationTime+ij<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vie({appConfig:t,heartbeatServiceProvider:e},n){const r=wie(t,n),i=eie(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:sj,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await dj(()=>fetch(r,a));if(l.ok){const c=await l.json();return cj(c)}else throw await uj("Generate Auth Token",l)}function wie(t,{fid:e}){return`${lj(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SA(t,e=!1){let n;const r=await F2(t.appConfig,s=>{if(!wj(s))throw Fh.create("not-registered");const o=s.authToken;if(!e&&xie(o))return s;if(o.requestStatus===1)return n=_ie(t,e),s;{if(!navigator.onLine)throw Fh.create("app-offline");const a=Eie(s);return n=bie(t,a),a}});return n?await n:r.authToken}async function _ie(t,e){let n=await YN(t.appConfig);for(;n.authToken.requestStatus===1;)await fj(100),n=await YN(t.appConfig);const r=n.authToken;return r.requestStatus===0?SA(t,e):r}function YN(t){return F2(t,e=>{if(!wj(e))throw Fh.create("not-registered");const n=e.authToken;return Aie(n)?{...e,authToken:{requestStatus:0}}:e})}async function bie(t,e){try{const n=await vie(t,e),r={...e,authToken:n};return await gv(t.appConfig,r),n}catch(n){if(aj(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await yj(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await gv(t.appConfig,r)}throw n}}function wj(t){return t!==void 0&&t.registrationStatus===2}function xie(t){return t.requestStatus===2&&!Sie(t)}function Sie(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Xre}function Eie(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function Aie(t){return t.requestStatus===1&&t.requestTime+ij<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tie(t){const e=t,{installationEntry:n,registrationPromise:r}=await xA(e);return r?r.catch(console.error):SA(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iie(t,e=!1){const n=t;return await Cie(n),(await SA(n,e)).token}async function Cie(t){const{registrationPromise:e}=await xA(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nie(t){if(!t||!t.options)throw m_("App Configuration");if(!t.name)throw m_("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw m_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function m_(t){return Fh.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j="installations",Pie="installations-internal",kie=t=>{const e=t.getProvider("app").getImmediate(),n=Nie(e),r=Au(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Rie=t=>{const e=t.getProvider("app").getImmediate(),n=Au(e,_j).getImmediate();return{getId:()=>Tie(n),getToken:i=>Iie(n,i)}};function Lie(){Xo(new bo(_j,kie,"PUBLIC")),Xo(new bo(Pie,Rie,"PRIVATE"))}Lie();ys(rj,_A);ys(rj,_A,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="analytics",Die="firebase_id",Mie="origin",Oie=60*1e3,jie="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",EA="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new d2("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fie={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},$s=new Qh("analytics","Analytics",Fie);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vie(t){if(!t.startsWith(EA)){const e=$s.create("invalid-gtag-resource",{gtagURL:t});return Gi.warn(e.message),""}return t}function bj(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Uie(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Bie(t,e){const n=Uie("firebase-js-sdk-policy",{createScriptURL:Vie}),r=document.createElement("script"),i=`${EA}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function zie(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function $ie(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await bj(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(a){Gi.error(a)}t("config",i,s)}async function qie(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await bj(n);for(const l of o){const c=a.find(h=>h.measurementId===l),u=c&&e[c.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Gi.error(s)}}function Hie(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await qie(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await $ie(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Gi.error(a)}}return i}function Wie(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Hie(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function Gie(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(EA)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kie=30,Yie=1e3;class Xie{constructor(e={},n=Yie){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const xj=new Xie;function Qie(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Jie(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:Qie(n)},i=jie.replace("{app-id}",e),s=await fetch(i,r);if(s.status!==200&&s.status!==304){let a="";try{const l=await s.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw $s.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function Zie(t,e=xj,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw $s.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw $s.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new nse;return setTimeout(async()=>{a.abort()},Oie),Sj({appId:r,apiKey:i,measurementId:s},o,a,e)}async function Sj(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=xj){var a;const{appId:s,measurementId:o}=t;try{await ese(r,e)}catch(l){if(o)return Gi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:o};throw l}try{const l=await Jie(t);return i.deleteThrottleMetadata(s),l}catch(l){const c=l;if(!tse(c)){if(i.deleteThrottleMetadata(s),o)return Gi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:s,measurementId:o};throw l}const u=Number((a=c==null?void 0:c.customData)==null?void 0:a.httpStatus)===503?mC(n,i.intervalMillis,Kie):mC(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,h),Gi.debug(`Calling attemptFetch again in ${u} millis`),Sj(t,h,r,i)}}function ese(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r($s.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function tse(t){if(!(t instanceof Eo)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class nse{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function rse(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o={...r,send_to:s};t("event",n,o)}}async function ise(t,e,n,r){if(r&&r.global){const i={};for(const s of Object.keys(n))i[`user_properties.${s}`]=n[s];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sse(){if(bM())try{await xM()}catch(t){return Gi.warn($s.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Gi.warn($s.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ose(t,e,n,r,i,s,o){const a=Zie(t);a.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Gi.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Gi.error(p)),e.push(a);const l=sse().then(p=>{if(p)return r.getId()}),[c,u]=await Promise.all([a,l]);Gie(s)||Bie(s,c.measurementId),i("js",new Date);const h=(o==null?void 0:o.config)??{};return h[Mie]="firebase",h.update=!0,u!=null&&(h[Die]=u),i("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ase{constructor(e){this.app=e}_delete(){return delete hf[this.app.options.appId],Promise.resolve()}}let hf={},XN=[];const QN={};let g_="dataLayer",lse="gtag",JN,AA,ZN=!1;function cse(){const t=[];if(_M()&&t.push("This is a browser extension environment."),YY()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=$s.create("invalid-analytics-context",{errorInfo:e});Gi.warn(n.message)}}function use(t,e,n){cse();const r=t.options.appId;if(!r)throw $s.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Gi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw $s.create("no-api-key");if(hf[r]!=null)throw $s.create("already-exists",{id:r});if(!ZN){zie(g_);const{wrappedGtag:s,gtagCore:o}=Wie(hf,XN,QN,g_,lse);AA=s,JN=o,ZN=!0}return hf[r]=ose(t,XN,QN,e,JN,g_,n),new ase(t)}function hse(t=f2()){t=Wn(t);const e=Au(t,yv);return e.isInitialized()?e.getImmediate():dse(t)}function dse(t,e={}){const n=Au(t,yv);if(n.isInitialized()){const i=n.getImmediate();if(au(e,n.getOptions()))return i;throw $s.create("already-initialized")}return n.initialize({options:e})}function fse(t,e,n){t=Wn(t),ise(AA,hf[t.app.options.appId],e,n).catch(r=>Gi.error(r))}function pse(t,e,n,r){t=Wn(t),rse(AA,hf[t.app.options.appId],e,n,r).catch(i=>Gi.error(i))}const eP="@firebase/analytics",tP="0.10.19";function mse(){Xo(new bo(yv,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return use(r,i,n)},"PUBLIC")),Xo(new bo("analytics-internal",t,"PRIVATE")),ys(eP,tP),ys(eP,tP,"esm2020");function t(e){try{const n=e.getProvider(yv).getImmediate();return{logEvent:(r,i,s)=>pse(n,r,i,s),setUserProperties:(r,i)=>fse(n,r,i)}}catch(n){throw $s.create("interop-component-reg-failed",{reason:n})}}}mse();const gse={apiKey:"AIzaSyBL4OvZwPWgN4l3MlDw8NkWxYDYXQ1NewU",authDomain:"edcrec-3f802.firebaseapp.com",databaseURL:"https://edcrec-3f802-default-rtdb.firebaseio.com",projectId:"edcrec-3f802",storageBucket:"edcrec-3f802.firebasestorage.app",messagingSenderId:"742350940972",appId:"1:742350940972:web:788090f86cefe471185a89",measurementId:"G-3LC7XELL7B"},V2=TM(gse),d1=TZ(V2),fr=Ane(V2),TA=Hre(V2);typeof window<"u"&&hse(V2);const Ej=C.createContext(null),Ga=()=>{const t=C.useContext(Ej);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},yse=({children:t})=>{const[e,n]=C.useState(null),[r,i]=C.useState(null),[s,o]=C.useState(!0);C.useEffect(()=>d1.onAuthStateChanged(async h=>{if(n(h),h){const p=xo(fr,"users",h.uid),d=await O2(p);i(d.exists()&&d.data().role||"faculty")}else i(null);o(!1)}),[]);const a=async(u,h)=>{await dJ(d1,u,h)},l=async(u,h,p,d,b)=>{const y=await hJ(d1,u,h);await cA(xo(fr,"users",y.user.uid),{email:u,name:p,role:d,department:b,createdAt:new Date().toISOString()})},c=async()=>{await mJ(d1)};return v.jsx(Ej.Provider,{value:{user:e,userRole:r,loading:s,signIn:a,signUp:l,signOut:c},children:t})},Aj=C.createContext({});function vse(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const IA=typeof window<"u",wse=IA?C.useLayoutEffect:C.useEffect,CA=C.createContext(null);function NA(t,e){t.indexOf(e)===-1&&t.push(e)}function PA(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Fl=(t,e,n)=>n>e?e:n<t?t:n;let vv=()=>{};const Vl={},Tj=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Ij(t){return typeof t=="object"&&t!==null}const Cj=t=>/^0[^.\s]+$/u.test(t);function kA(t){let e;return()=>(e===void 0&&(e=t()),e)}const go=t=>t,_se=(t,e)=>n=>e(t(n)),s0=(...t)=>t.reduce(_se),yg=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class RA{constructor(){this.subscriptions=[]}add(e){return NA(this.subscriptions,e),()=>PA(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ua=t=>t*1e3,po=t=>t/1e3;function Nj(t,e){return e?t*(1e3/e):0}const Pj=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,bse=1e-7,xse=12;function Sse(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=Pj(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>bse&&++a<xse);return o}function o0(t,e,n,r){if(t===e&&n===r)return go;const i=s=>Sse(s,0,1,t,n);return s=>s===0||s===1?s:Pj(i(s),e,r)}const kj=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Rj=t=>e=>1-t(1-e),Lj=o0(.33,1.53,.69,.99),LA=Rj(Lj),Dj=kj(LA),Mj=t=>(t*=2)<1?.5*LA(t):.5*(2-Math.pow(2,-10*(t-1))),DA=t=>1-Math.sin(Math.acos(t)),Oj=Rj(DA),jj=kj(DA),Ese=o0(.42,0,1,1),Ase=o0(0,0,.58,1),Fj=o0(.42,0,.58,1),Tse=t=>Array.isArray(t)&&typeof t[0]!="number",Vj=t=>Array.isArray(t)&&typeof t[0]=="number",nP={linear:go,easeIn:Ese,easeInOut:Fj,easeOut:Ase,circIn:DA,circInOut:jj,circOut:Oj,backIn:LA,backInOut:Dj,backOut:Lj,anticipate:Mj},Ise=t=>typeof t=="string",rP=t=>{if(Vj(t)){vv(t.length===4);const[e,n,r,i]=t;return o0(e,n,r,i)}else if(Ise(t))return vv(nP[t]!==void 0),nP[t];return t},f1=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],iP={value:null,addProjectionMetrics:null};function Cse(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){o.has(h)&&(u.schedule(h),t()),l++,h(a)}const u={schedule:(h,p=!1,d=!1)=>{const y=d&&i?n:r;return p&&o.add(h),y.has(h)||y.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),e&&iP.value&&iP.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,u.process(h))}};return u}const Nse=40;function Uj(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=f1.reduce((E,k)=>(E[k]=Cse(s,e?k:void 0),E),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:h,preRender:p,render:d,postRender:b}=o,y=()=>{const E=Vl.useManualTiming?i.timestamp:performance.now();n=!1,Vl.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(E-i.timestamp,Nse),1)),i.timestamp=E,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),h.process(i),p.process(i),d.process(i),b.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(y))},_=()=>{n=!0,r=!0,i.isProcessing||t(y)};return{schedule:f1.reduce((E,k)=>{const B=o[k];return E[k]=(G,D=!1,N=!1)=>(n||_(),B.schedule(G,D,N)),E},{}),cancel:E=>{for(let k=0;k<f1.length;k++)o[f1[k]].cancel(E)},state:i,steps:o}}const{schedule:Jn,cancel:gu,state:oi,steps:y_}=Uj(typeof requestAnimationFrame<"u"?requestAnimationFrame:go,!0);let ty;function Pse(){ty=void 0}const ds={now:()=>(ty===void 0&&ds.set(oi.isProcessing||Vl.useManualTiming?oi.timestamp:performance.now()),ty),set:t=>{ty=t,queueMicrotask(Pse)}},Bj=t=>e=>typeof e=="string"&&e.startsWith(t),MA=Bj("--"),kse=Bj("var(--"),OA=t=>kse(t)?Rse.test(t.split("/*")[0].trim()):!1,Rse=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,cp={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},vg={...cp,transform:t=>Fl(0,1,t)},p1={...cp,default:1},Cm=t=>Math.round(t*1e5)/1e5,jA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Lse(t){return t==null}const Dse=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,FA=(t,e)=>n=>!!(typeof n=="string"&&Dse.test(n)&&n.startsWith(t)||e&&!Lse(n)&&Object.prototype.hasOwnProperty.call(n,e)),zj=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(jA);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Mse=t=>Fl(0,255,t),v_={...cp,transform:t=>Math.round(Mse(t))},oh={test:FA("rgb","red"),parse:zj("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+v_.transform(t)+", "+v_.transform(e)+", "+v_.transform(n)+", "+Cm(vg.transform(r))+")"};function Ose(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Qb={test:FA("#"),parse:Ose,transform:oh.transform},a0=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),vc=a0("deg"),Ba=a0("%"),Et=a0("px"),jse=a0("vh"),Fse=a0("vw"),sP={...Ba,parse:t=>Ba.parse(t)/100,transform:t=>Ba.transform(t*100)},Wd={test:FA("hsl","hue"),parse:zj("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ba.transform(Cm(e))+", "+Ba.transform(Cm(n))+", "+Cm(vg.transform(r))+")"},kr={test:t=>oh.test(t)||Qb.test(t)||Wd.test(t),parse:t=>oh.test(t)?oh.parse(t):Wd.test(t)?Wd.parse(t):Qb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?oh.transform(t):Wd.transform(t),getAnimatableNone:t=>{const e=kr.parse(t);return e.alpha=0,kr.transform(e)}},Vse=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Use(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(jA))==null?void 0:e.length)||0)+(((n=t.match(Vse))==null?void 0:n.length)||0)>0}const $j="number",qj="color",Bse="var",zse="var(",oP="${}",$se=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wg(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace($se,l=>(kr.test(l)?(r.color.push(s),i.push(qj),n.push(kr.parse(l))):l.startsWith(zse)?(r.var.push(s),i.push(Bse),n.push(l)):(r.number.push(s),i.push($j),n.push(parseFloat(l))),++s,oP)).split(oP);return{values:n,split:a,indexes:r,types:i}}function Hj(t){return wg(t).values}function Wj(t){const{split:e,types:n}=wg(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===$j?s+=Cm(i[o]):a===qj?s+=kr.transform(i[o]):s+=i[o]}return s}}const qse=t=>typeof t=="number"?0:kr.test(t)?kr.getAnimatableNone(t):t;function Hse(t){const e=Hj(t);return Wj(t)(e.map(qse))}const yu={test:Use,parse:Hj,createTransformer:Wj,getAnimatableNone:Hse};function w_(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Wse({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=w_(l,a,t+1/3),s=w_(l,a,t),o=w_(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function wv(t,e){return n=>n>0?e:t}const er=(t,e,n)=>t+(e-t)*n,__=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Gse=[Qb,oh,Wd],Kse=t=>Gse.find(e=>e.test(t));function aP(t){const e=Kse(t);if(!e)return!1;let n=e.parse(t);return e===Wd&&(n=Wse(n)),n}const lP=(t,e)=>{const n=aP(t),r=aP(e);if(!n||!r)return wv(t,e);const i={...n};return s=>(i.red=__(n.red,r.red,s),i.green=__(n.green,r.green,s),i.blue=__(n.blue,r.blue,s),i.alpha=er(n.alpha,r.alpha,s),oh.transform(i))},Jb=new Set(["none","hidden"]);function Yse(t,e){return Jb.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Xse(t,e){return n=>er(t,e,n)}function VA(t){return typeof t=="number"?Xse:typeof t=="string"?OA(t)?wv:kr.test(t)?lP:Zse:Array.isArray(t)?Gj:typeof t=="object"?kr.test(t)?lP:Qse:wv}function Gj(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>VA(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function Qse(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=VA(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function Jse(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const Zse=(t,e)=>{const n=yu.createTransformer(e),r=wg(t),i=wg(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Jb.has(t)&&!i.values.length||Jb.has(e)&&!r.values.length?Yse(t,e):s0(Gj(Jse(r,i),i.values),n):wv(t,e)};function Kj(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?er(t,e,n):VA(t)(t,e)}const eoe=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Jn.update(e,n),stop:()=>gu(e),now:()=>oi.isProcessing?oi.timestamp:ds.now()}},Yj=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},_v=2e4;function UA(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<_v;)e+=n,r=t.next(e);return e>=_v?1/0:e}function toe(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(UA(r),_v);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:po(i)}}const noe=5;function Xj(t,e,n){const r=Math.max(e-noe,0);return Nj(n-t(r),e-r)}const ur={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},b_=.001;function roe({duration:t=ur.duration,bounce:e=ur.bounce,velocity:n=ur.velocity,mass:r=ur.mass}){let i,s,o=1-e;o=Fl(ur.minDamping,ur.maxDamping,o),t=Fl(ur.minDuration,ur.maxDuration,po(t)),o<1?(i=c=>{const u=c*o,h=u*t,p=u-n,d=Zb(c,o),b=Math.exp(-h);return b_-p/d*b},s=c=>{const h=c*o*t,p=h*n+n,d=Math.pow(o,2)*Math.pow(c,2)*t,b=Math.exp(-h),y=Zb(Math.pow(c,2),o);return(-i(c)+b_>0?-1:1)*((p-d)*b)/y}):(i=c=>{const u=Math.exp(-c*t),h=(c-n)*t+1;return-b_+u*h},s=c=>{const u=Math.exp(-c*t),h=(n-c)*(t*t);return u*h});const a=5/t,l=soe(i,s,a);if(t=Ua(t),isNaN(l))return{stiffness:ur.stiffness,damping:ur.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const ioe=12;function soe(t,e,n){let r=n;for(let i=1;i<ioe;i++)r=r-t(r)/e(r);return r}function Zb(t,e){return t*Math.sqrt(1-e*e)}const ooe=["duration","bounce"],aoe=["stiffness","damping","mass"];function cP(t,e){return e.some(n=>t[n]!==void 0)}function loe(t){let e={velocity:ur.velocity,stiffness:ur.stiffness,damping:ur.damping,mass:ur.mass,isResolvedFromDuration:!1,...t};if(!cP(t,aoe)&&cP(t,ooe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Fl(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:ur.mass,stiffness:i,damping:s}}else{const n=roe(t);e={...e,...n,mass:ur.mass},e.isResolvedFromDuration=!0}return e}function bv(t=ur.visualDuration,e=ur.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:h,velocity:p,isResolvedFromDuration:d}=loe({...n,velocity:-po(n.velocity||0)}),b=p||0,y=c/(2*Math.sqrt(l*u)),_=o-s,w=po(Math.sqrt(l/u)),S=Math.abs(_)<5;r||(r=S?ur.restSpeed.granular:ur.restSpeed.default),i||(i=S?ur.restDelta.granular:ur.restDelta.default);let E;if(y<1){const B=Zb(w,y);E=G=>{const D=Math.exp(-y*w*G);return o-D*((b+y*w*_)/B*Math.sin(B*G)+_*Math.cos(B*G))}}else if(y===1)E=B=>o-Math.exp(-w*B)*(_+(b+w*_)*B);else{const B=w*Math.sqrt(y*y-1);E=G=>{const D=Math.exp(-y*w*G),N=Math.min(B*G,300);return o-D*((b+y*w*_)*Math.sinh(N)+B*_*Math.cosh(N))/B}}const k={calculatedDuration:d&&h||null,next:B=>{const G=E(B);if(d)a.done=B>=h;else{let D=B===0?b:0;y<1&&(D=B===0?Ua(b):Xj(E,B,G));const N=Math.abs(D)<=r,P=Math.abs(o-G)<=i;a.done=N&&P}return a.value=a.done?o:G,a},toString:()=>{const B=Math.min(UA(k),_v),G=Yj(D=>k.next(B*D).value,B,30);return B+"ms "+G},toTransition:()=>{}};return k}bv.applyToOptions=t=>{const e=toe(t,100,bv);return t.ease=e.ease,t.duration=Ua(e.duration),t.type="keyframes",t};function ex({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=t[0],p={done:!1,value:h},d=N=>a!==void 0&&N<a||l!==void 0&&N>l,b=N=>a===void 0?l:l===void 0||Math.abs(a-N)<Math.abs(l-N)?a:l;let y=n*e;const _=h+y,w=o===void 0?_:o(_);w!==_&&(y=w-h);const S=N=>-y*Math.exp(-N/r),E=N=>w+S(N),k=N=>{const P=S(N),j=E(N);p.done=Math.abs(P)<=c,p.value=p.done?w:j};let B,G;const D=N=>{d(p.value)&&(B=N,G=bv({keyframes:[p.value,b(p.value)],velocity:Xj(E,N,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return D(0),{calculatedDuration:null,next:N=>{let P=!1;return!G&&B===void 0&&(P=!0,k(N),D(N)),B!==void 0&&N>=B?G.next(N-B):(!P&&k(N),p)}}}function coe(t,e,n){const r=[],i=n||Vl.mix||Kj,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||go:e;a=s0(l,a)}r.push(a)}return r}function uoe(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(vv(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=coe(e,r,i),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const p=yg(t[h],t[h+1],u);return a[h](p)};return n?u=>c(Fl(t[0],t[s-1],u)):c}function hoe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=yg(0,e,r);t.push(er(n,1,i))}}function doe(t){const e=[0];return hoe(e,t.length-1),e}function foe(t,e){return t.map(n=>n*e)}function poe(t,e){return t.map(()=>e||Fj).splice(0,t.length-1)}function Nm({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Tse(r)?r.map(rP):rP(r),s={done:!1,value:e[0]},o=foe(n&&n.length===e.length?n:doe(e),t),a=uoe(o,e,{ease:Array.isArray(i)?i:poe(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const moe=t=>t!==null;function BA(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(moe),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const goe={decay:ex,inertia:ex,tween:Nm,keyframes:Nm,spring:bv};function Qj(t){typeof t.type=="string"&&(t.type=goe[t.type])}class zA{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const yoe=t=>t/100;class $A extends zA{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==ds.now()&&this.tick(ds.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Qj(e);const{type:n=Nm,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Nm;l!==Nm&&typeof a[0]!="number"&&(this.mixKeyframes=s0(yoe,Kj(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=UA(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:h,repeatType:p,repeatDelay:d,type:b,onUpdate:y,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-c*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?w<0:w>i;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,k=r;if(h){const N=Math.min(this.currentTime,i)/a;let P=Math.floor(N),j=N%1;!j&&N>=1&&(j=1),j===1&&P--,P=Math.min(P,h+1),!!(P%2)&&(p==="reverse"?(j=1-j,d&&(j-=d/a)):p==="mirror"&&(k=o)),E=Fl(0,1,j)*a}const B=S?{done:!1,value:u[0]}:k.next(E);s&&(B.value=s(B.value));let{done:G}=B;!S&&l!==null&&(G=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return D&&b!==ex&&(B.value=BA(u,this.options,_,this.speed)),y&&y(B.value),D&&this.finish(),B}then(e,n){return this.finished.then(e,n)}get duration(){return po(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+po(e)}get time(){return po(this.currentTime)}set time(e){var n;e=Ua(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ds.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=po(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=eoe,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ds.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function voe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ah=t=>t*180/Math.PI,tx=t=>{const e=ah(Math.atan2(t[1],t[0]));return nx(e)},woe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:tx,rotateZ:tx,skewX:t=>ah(Math.atan(t[1])),skewY:t=>ah(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},nx=t=>(t=t%360,t<0&&(t+=360),t),uP=tx,hP=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),dP=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),_oe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hP,scaleY:dP,scale:t=>(hP(t)+dP(t))/2,rotateX:t=>nx(ah(Math.atan2(t[6],t[5]))),rotateY:t=>nx(ah(Math.atan2(-t[2],t[0]))),rotateZ:uP,rotate:uP,skewX:t=>ah(Math.atan(t[4])),skewY:t=>ah(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function rx(t){return t.includes("scale")?1:0}function ix(t,e){if(!t||t==="none")return rx(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=_oe,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=woe,i=a}if(!i)return rx(e);const s=r[e],o=i[1].split(",").map(xoe);return typeof s=="function"?s(o):o[s]}const boe=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ix(n,e)};function xoe(t){return parseFloat(t.trim())}const up=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hp=new Set(up),fP=t=>t===cp||t===Et,Soe=new Set(["x","y","z"]),Eoe=up.filter(t=>!Soe.has(t));function Aoe(t){const e=[];return Eoe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const xh={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ix(e,"x"),y:(t,{transform:e})=>ix(e,"y")};xh.translateX=xh.x;xh.translateY=xh.y;const Sh=new Set;let sx=!1,ox=!1,ax=!1;function Jj(){if(ox){const t=Array.from(Sh).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Aoe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ox=!1,sx=!1,Sh.forEach(t=>t.complete(ax)),Sh.clear()}function Zj(){Sh.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ox=!0)})}function Toe(){ax=!0,Zj(),Jj(),ax=!1}class qA{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Sh.add(this),sx||(sx=!0,Jn.read(Zj),Jn.resolveKeyframes(Jj))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}voe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Sh.delete(this)}cancel(){this.state==="scheduled"&&(Sh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Ioe=t=>t.startsWith("--");function Coe(t,e,n){Ioe(e)?t.style.setProperty(e,n):t.style[e]=n}const Noe=kA(()=>window.ScrollTimeline!==void 0),Poe={};function koe(t,e){const n=kA(t);return()=>Poe[e]??n()}const e7=koe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),sm=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,pP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sm([0,.65,.55,1]),circOut:sm([.55,0,1,.45]),backIn:sm([.31,.01,.66,-.59]),backOut:sm([.33,1.53,.69,.99])};function t7(t,e){if(t)return typeof t=="function"?e7()?Yj(t,e):"ease-out":Vj(t)?sm(t):Array.isArray(t)?t.map(n=>t7(n,e)||pP.easeOut):pP[t]}function Roe(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[e]:n};l&&(u.offset=l);const h=t7(a,i);Array.isArray(h)&&(u.easing=h);const p={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),t.animate(u,p)}function n7(t){return typeof t=="function"&&"applyToOptions"in t}function Loe({type:t,...e}){return n7(t)&&e7()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Doe extends zA{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,vv(typeof e.type!="string");const c=Loe(e);this.animation=Roe(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const u=BA(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):Coe(n,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return po(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+po(e)}get time(){return po(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ua(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Noe()?(this.animation.timeline=e,go):n(this)}}const r7={anticipate:Mj,backInOut:Dj,circInOut:jj};function Moe(t){return t in r7}function Ooe(t){typeof t.ease=="string"&&Moe(t.ease)&&(t.ease=r7[t.ease])}const mP=10;class joe extends Doe{constructor(e){Ooe(e),Qj(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new $A({...o,autoplay:!1}),l=Ua(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-mP).value,a.sample(l).value,mP),a.stop()}}const gP=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(yu.test(t)||t==="0")&&!t.startsWith("url("));function Foe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Voe(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=gP(i,e),a=gP(s,e);return!o||!a?!1:Foe(t)||(n==="spring"||n7(n))&&r}function lx(t){t.duration=0,t.type="keyframes"}const Uoe=new Set(["opacity","clipPath","filter","transform"]),Boe=kA(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function zoe(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return Boe()&&n&&Uoe.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const $oe=40;class qoe extends zA{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...h}){var b;super(),this.stop=()=>{var y,_;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=ds.now();const p={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:u,...h},d=(u==null?void 0:u.KeyframeResolver)||qA;this.keyframeResolver=new d(a,(y,_,w)=>this.onKeyframesResolved(y,_,p,!w),l,c,u),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=ds.now(),Voe(e,s,o,a)||((Vl.instantAnimations||!l)&&(u==null||u(BA(e,r,n))),e[0]=e[e.length-1],lx(r),r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>$oe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},d=!c&&zoe(p)?new joe({...p,element:p.motionValue.owner.current}):new $A(p);d.finished.then(()=>this.notifyFinished()).catch(go),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Toe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Hoe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Woe(t){const e=Hoe.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function i7(t,e,n=1){const[r,i]=Woe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return Tj(o)?parseFloat(o):o}return OA(i)?i7(i,e,n+1):i}function HA(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const s7=new Set(["width","height","top","left","right","bottom",...up]),Goe={test:t=>t==="auto",parse:t=>t},o7=t=>e=>e.test(t),a7=[cp,Et,Ba,vc,Fse,jse,Goe],yP=t=>a7.find(o7(t));function Koe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Cj(t):!0}const Yoe=new Set(["brightness","contrast","saturate","opacity"]);function Xoe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(jA)||[];if(!r)return t;const i=n.replace(r,"");let s=Yoe.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Qoe=/\b([a-z-]*)\(.*?\)/gu,cx={...yu,getAnimatableNone:t=>{const e=t.match(Qoe);return e?e.map(Xoe).join(" "):t}},vP={...cp,transform:Math.round},Joe={rotate:vc,rotateX:vc,rotateY:vc,rotateZ:vc,scale:p1,scaleX:p1,scaleY:p1,scaleZ:p1,skew:vc,skewX:vc,skewY:vc,distance:Et,translateX:Et,translateY:Et,translateZ:Et,x:Et,y:Et,z:Et,perspective:Et,transformPerspective:Et,opacity:vg,originX:sP,originY:sP,originZ:Et},WA={borderWidth:Et,borderTopWidth:Et,borderRightWidth:Et,borderBottomWidth:Et,borderLeftWidth:Et,borderRadius:Et,radius:Et,borderTopLeftRadius:Et,borderTopRightRadius:Et,borderBottomRightRadius:Et,borderBottomLeftRadius:Et,width:Et,maxWidth:Et,height:Et,maxHeight:Et,top:Et,right:Et,bottom:Et,left:Et,padding:Et,paddingTop:Et,paddingRight:Et,paddingBottom:Et,paddingLeft:Et,margin:Et,marginTop:Et,marginRight:Et,marginBottom:Et,marginLeft:Et,backgroundPositionX:Et,backgroundPositionY:Et,...Joe,zIndex:vP,fillOpacity:vg,strokeOpacity:vg,numOctaves:vP},Zoe={...WA,color:kr,backgroundColor:kr,outlineColor:kr,fill:kr,stroke:kr,borderColor:kr,borderTopColor:kr,borderRightColor:kr,borderBottomColor:kr,borderLeftColor:kr,filter:cx,WebkitFilter:cx},l7=t=>Zoe[t];function c7(t,e){let n=l7(t);return n!==cx&&(n=yu),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const eae=new Set(["auto","none","0"]);function tae(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!eae.has(s)&&wg(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=c7(n,i)}class nae extends qA{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),OA(c))){const u=i7(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!s7.has(r)||e.length!==2)return;const[i,s]=e,o=yP(i),a=yP(s);if(o!==a)if(fP(o)&&fP(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else xh[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||Koe(e[i]))&&r.push(i);r.length&&tae(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=xh[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=xh[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function rae(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const u7=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function iae(t){return Ij(t)&&"offsetHeight"in t}const wP=30,sae=t=>!isNaN(parseFloat(t));class oae{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=ds.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ds.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=sae(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new RA);const r=this.events[e].add(n);return e==="change"?()=>{r(),Jn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ds.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>wP)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,wP);return Nj(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qf(t,e){return new oae(t,e)}const{schedule:GA,cancel:H0e}=Uj(queueMicrotask,!1),Do={x:!1,y:!1};function h7(){return Do.x||Do.y}function aae(t){return t==="x"||t==="y"?Do[t]?null:(Do[t]=!0,()=>{Do[t]=!1}):Do.x||Do.y?null:(Do.x=Do.y=!0,()=>{Do.x=Do.y=!1})}function d7(t,e){const n=rae(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function _P(t){return!(t.pointerType==="touch"||h7())}function lae(t,e,n={}){const[r,i,s]=d7(t,n),o=a=>{if(!_P(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const u=h=>{_P(h)&&(c(h),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const f7=(t,e)=>e?t===e?!0:f7(t,e.parentElement):!1,KA=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,cae=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function uae(t){return cae.has(t.tagName)||t.tabIndex!==-1}const ny=new WeakSet;function bP(t){return e=>{e.key==="Enter"&&t(e)}}function x_(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const hae=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=bP(()=>{if(ny.has(n))return;x_(n,"down");const i=bP(()=>{x_(n,"up")}),s=()=>x_(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function xP(t){return KA(t)&&!h7()}function dae(t,e,n={}){const[r,i,s]=d7(t,n),o=a=>{const l=a.currentTarget;if(!xP(a))return;ny.add(l);const c=e(l,a),u=(d,b)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),ny.has(l)&&ny.delete(l),xP(d)&&typeof c=="function"&&c(d,{success:b})},h=d=>{u(d,l===window||l===document||n.useGlobalTarget||f7(l,d.target))},p=d=>{u(d,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",p,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),iae(a)&&(a.addEventListener("focus",c=>hae(c,i)),!uae(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function p7(t){return Ij(t)&&"ownerSVGElement"in t}function fae(t){return p7(t)&&t.tagName==="svg"}const Ni=t=>!!(t&&t.getVelocity),pae=[...a7,kr,yu],mae=t=>pae.find(o7(t)),m7=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function gae(t=!0){const e=C.useContext(CA);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=C.useId();C.useEffect(()=>{if(t)return i(s)},[t]);const o=C.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const g7=C.createContext({strict:!1}),SP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Hf={};for(const t in SP)Hf[t]={isEnabled:e=>SP[t].some(n=>!!e[n])};function yae(t){for(const e in t)Hf[e]={...Hf[e],...t[e]}}const vae=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xv(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||vae.has(t)}let y7=t=>!xv(t);function wae(t){typeof t=="function"&&(y7=e=>e.startsWith("on")?!xv(e):t(e))}try{wae(require("@emotion/is-prop-valid").default)}catch{}function _ae(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(y7(i)||n===!0&&xv(i)||!e&&!xv(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const U2=C.createContext({});function B2(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function _g(t){return typeof t=="string"||Array.isArray(t)}const YA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],XA=["initial",...YA];function z2(t){return B2(t.animate)||XA.some(e=>_g(t[e]))}function v7(t){return!!(z2(t)||t.variants)}function bae(t,e){if(z2(t)){const{initial:n,animate:r}=t;return{initial:n===!1||_g(n)?n:void 0,animate:_g(r)?r:void 0}}return t.inherit!==!1?e:{}}function xae(t){const{initial:e,animate:n}=bae(t,C.useContext(U2));return C.useMemo(()=>({initial:e,animate:n}),[EP(e),EP(n)])}function EP(t){return Array.isArray(t)?t.join(" "):t}const bg={};function Sae(t){for(const e in t)bg[e]=t[e],MA(e)&&(bg[e].isCSSVariable=!0)}function w7(t,{layout:e,layoutId:n}){return hp.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!bg[t]||t==="opacity")}const Eae={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Aae=up.length;function Tae(t,e,n){let r="",i=!0;for(let s=0;s<Aae;s++){const o=up[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=u7(a,WA[o]);if(!l){i=!1;const u=Eae[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function QA(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(hp.has(l)){o=!0;continue}else if(MA(l)){i[l]=c;continue}else{const u=u7(c,WA[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=Tae(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}const JA=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _7(t,e,n){for(const r in e)!Ni(e[r])&&!w7(r,n)&&(t[r]=e[r])}function Iae({transformTemplate:t},e){return C.useMemo(()=>{const n=JA();return QA(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Cae(t,e){const n=t.style||{},r={};return _7(r,n,t),Object.assign(r,Iae(t,e)),r}function Nae(t,e){const n={},r=Cae(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Pae={offset:"stroke-dashoffset",array:"stroke-dasharray"},kae={offset:"strokeDashoffset",array:"strokeDasharray"};function Rae(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?Pae:kae;t[s.offset]=Et.transform(-r);const o=Et.transform(e),a=Et.transform(n);t[s.array]=`${o} ${a}`}function b7(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,c,u){if(QA(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:p}=t;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&Rae(h,i,s,o,!1)}const x7=()=>({...JA(),attrs:{}}),S7=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Lae(t,e,n,r){const i=C.useMemo(()=>{const s=x7();return b7(s,e,S7(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};_7(s,t.style,t),i.style={...s,...i.style}}return i}const Dae=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ZA(t){return typeof t!="string"||t.includes("-")?!1:!!(Dae.indexOf(t)>-1||/[A-Z]/u.test(t))}function Mae(t,e,n,{latestValues:r},i,s=!1){const a=(ZA(t)?Lae:Nae)(e,r,i,t),l=_ae(e,typeof t=="string",s),c=t!==C.Fragment?{...l,...a,ref:n}:{},{children:u}=e,h=C.useMemo(()=>Ni(u)?u.get():u,[u]);return C.createElement(t,{...c,children:h})}function AP(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function eT(t,e,n,r){if(typeof e=="function"){const[i,s]=AP(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=AP(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function ry(t){return Ni(t)?t.get():t}function Oae({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:jae(n,r,i,t),renderState:e()}}function jae(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=ry(s[p]);let{initial:o,animate:a}=t;const l=z2(t),c=v7(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?a:o;if(h&&typeof h!="boolean"&&!B2(h)){const p=Array.isArray(h)?h:[h];for(let d=0;d<p.length;d++){const b=eT(t,p[d]);if(b){const{transitionEnd:y,transition:_,...w}=b;for(const S in w){let E=w[S];if(Array.isArray(E)){const k=u?E.length-1:0;E=E[k]}E!==null&&(i[S]=E)}for(const S in y)i[S]=y[S]}}}return i}const E7=t=>(e,n)=>{const r=C.useContext(U2),i=C.useContext(CA),s=()=>Oae(t,e,r,i);return n?s():vse(s)};function tT(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(Ni(r[o])||e.style&&Ni(e.style[o])||w7(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const Fae=E7({scrapeMotionValuesFromProps:tT,createRenderState:JA});function A7(t,e,n){const r=tT(t,e,n);for(const i in t)if(Ni(t[i])||Ni(e[i])){const s=up.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const Vae=E7({scrapeMotionValuesFromProps:A7,createRenderState:x7}),Uae=Symbol.for("motionComponentSymbol");function Gd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Bae(t,e,n){return C.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Gd(n)&&(n.current=r))},[e])}const nT=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),zae="framerAppearId",T7="data-"+nT(zae),I7=C.createContext({});function $ae(t,e,n,r,i){var y,_;const{visualElement:s}=C.useContext(U2),o=C.useContext(g7),a=C.useContext(CA),l=C.useContext(m7).reducedMotion,c=C.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,h=C.useContext(I7);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&qae(c.current,n,i,h);const p=C.useRef(!1);C.useInsertionEffect(()=>{u&&p.current&&u.update(n,a)});const d=n[T7],b=C.useRef(!!d&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,d))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,d)));return wse(()=>{u&&(p.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),b.current&&u.animationState&&u.animationState.animateChanges())}),C.useEffect(()=>{u&&(!b.current&&u.animationState&&u.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,d)}),b.current=!1),u.enteringChildren=void 0)}),u}function qae(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:C7(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Gd(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function C7(t){if(t)return t.options.allowProjection!==!1?t.projection:C7(t.parent)}function S_(t,{forwardMotionProps:e=!1}={},n,r){n&&yae(n);const i=ZA(t)?Vae:Fae;function s(a,l){let c;const u={...C.useContext(m7),...a,layoutId:Hae(a)},{isStatic:h}=u,p=xae(a),d=i(a,h);if(!h&&IA){Wae();const b=Gae(u);c=b.MeasureLayout,p.visualElement=$ae(t,d,u,r,b.ProjectionNode)}return v.jsxs(U2.Provider,{value:p,children:[c&&p.visualElement?v.jsx(c,{visualElement:p.visualElement,...u}):null,Mae(t,a,Bae(d,p.visualElement,l),d,h,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=C.forwardRef(s);return o[Uae]=t,o}function Hae({layoutId:t}){const e=C.useContext(Aj).id;return e&&t!==void 0?e+"-"+t:t}function Wae(t,e){C.useContext(g7).strict}function Gae(t){const{drag:e,layout:n}=Hf;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Kae(t,e){if(typeof Proxy>"u")return S_;const n=new Map,r=(s,o)=>S_(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,S_(o,void 0,t,e)),n.get(o))})}function N7({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Yae({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Xae(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function E_(t){return t===void 0||t===1}function ux({scale:t,scaleX:e,scaleY:n}){return!E_(t)||!E_(e)||!E_(n)}function Ju(t){return ux(t)||P7(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function P7(t){return TP(t.x)||TP(t.y)}function TP(t){return t&&t!=="0%"}function Sv(t,e,n){const r=t-n,i=e*r;return n+i}function IP(t,e,n,r,i){return i!==void 0&&(t=Sv(t,i,r)),Sv(t,n,r)+e}function hx(t,e=0,n=1,r,i){t.min=IP(t.min,e,n,r,i),t.max=IP(t.max,e,n,r,i)}function k7(t,{x:e,y:n}){hx(t.x,e.translate,e.scale,e.originPoint),hx(t.y,n.translate,n.scale,n.originPoint)}const CP=.999999999999,NP=1.0000000000001;function Qae(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Yd(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,k7(t,o)),r&&Ju(s.latestValues)&&Yd(t,s.latestValues))}e.x<NP&&e.x>CP&&(e.x=1),e.y<NP&&e.y>CP&&(e.y=1)}function Kd(t,e){t.min=t.min+e,t.max=t.max+e}function PP(t,e,n,r,i=.5){const s=er(t.min,t.max,i);hx(t,e,n,s,r)}function Yd(t,e){PP(t.x,e.x,e.scaleX,e.scale,e.originX),PP(t.y,e.y,e.scaleY,e.scale,e.originY)}function R7(t,e){return N7(Xae(t.getBoundingClientRect(),e))}function Jae(t,e,n){const r=R7(t,n),{scroll:i}=e;return i&&(Kd(r.x,i.offset.x),Kd(r.y,i.offset.y)),r}const kP=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xd=()=>({x:kP(),y:kP()}),RP=()=>({min:0,max:0}),_r=()=>({x:RP(),y:RP()}),dx={current:null},L7={current:!1};function Zae(){if(L7.current=!0,!!IA)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>dx.current=t.matches;t.addEventListener("change",e),e()}else dx.current=!1}const ele=new WeakMap;function tle(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Ni(i))t.addValue(r,i);else if(Ni(s))t.addValue(r,qf(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,qf(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const LP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class nle{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=qA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=ds.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Jn.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=z2(n),this.isVariantNode=v7(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const d=h[p];l[p]!==void 0&&Ni(d)&&d.set(l[p])}}mount(e){var n;this.current=e,ele.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),L7.current||Zae(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:dx.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),gu(this.notifyUpdate),gu(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=hp.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Jn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Hf){const n=Hf[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_r()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<LP.length;r++){const i=LP[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=tle(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=qf(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Tj(r)||Cj(r))?r=parseFloat(r):!mae(r)&&yu.test(n)&&(r=c7(e,n)),this.setBaseTarget(e,Ni(r)?r.get():r)),Ni(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=eT(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Ni(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new RA),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){GA.render(this.render)}}class D7 extends nle{constructor(){super(...arguments),this.KeyframeResolver=nae}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ni(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function M7(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function rle(t){return window.getComputedStyle(t)}class ile extends D7{constructor(){super(...arguments),this.type="html",this.renderInstance=M7}readValueFromInstance(e,n){var r;if(hp.has(n))return(r=this.projection)!=null&&r.isProjecting?rx(n):boe(e,n);{const i=rle(e),s=(MA(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return R7(e,n)}build(e,n,r){QA(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return tT(e,n,r)}}const O7=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sle(t,e,n,r){M7(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(O7.has(i)?i:nT(i),e.attrs[i])}class ole extends D7{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_r}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(hp.has(n)){const r=l7(n);return r&&r.default||0}return n=O7.has(n)?n:nT(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return A7(e,n,r)}build(e,n,r){b7(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){sle(e,n,r,i)}mount(e){this.isSVGTag=S7(e.tagName),super.mount(e)}}const ale=(t,e)=>ZA(t)?new ole(e):new ile(e,{allowProjection:t!==C.Fragment});function df(t,e,n){const r=t.getProps();return eT(r,e,n!==void 0?n:r.custom,t)}const fx=t=>Array.isArray(t);function lle(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,qf(n))}function cle(t){return fx(t)?t[t.length-1]||0:t}function ule(t,e){const n=df(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=cle(s[o]);lle(t,o,a)}}function hle(t){return!!(Ni(t)&&t.add)}function px(t,e){const n=t.getValue("willChange");if(hle(n))return n.add(e);if(!n&&Vl.WillChange){const r=new Vl.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function j7(t){return t.props[T7]}const dle=t=>t!==null;function fle(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(dle),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const ple={type:"spring",stiffness:500,damping:25,restSpeed:10},mle=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),gle={type:"keyframes",duration:.8},yle={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vle=(t,{keyframes:e})=>e.length>2?gle:hp.has(t)?t.startsWith("scale")?mle(e[1]):ple:yle;function wle({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const rT=(t,e,n,r={},i,s)=>o=>{const a=HA(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Ua(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};wle(a)||Object.assign(u,vle(t,u)),u.duration&&(u.duration=Ua(u.duration)),u.repeatDelay&&(u.repeatDelay=Ua(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(lx(u),u.delay===0&&(h=!0)),(Vl.instantAnimations||Vl.skipAnimations)&&(h=!0,lx(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,h&&!s&&e.get()!==void 0){const p=fle(u.keyframes,a);if(p!==void 0){Jn.update(()=>{u.onUpdate(p),u.onComplete()});return}}return a.isSync?new $A(u):new qoe(u)};function _le({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function F7(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const u in a){const h=t.getValue(u,t.latestValues[u]??null),p=a[u];if(p===void 0||c&&_le(c,u))continue;const d={delay:n,...HA(s||{},u)},b=h.get();if(b!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===b&&!d.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const w=j7(t);if(w){const S=window.MotionHandoffAnimation(w,u,Jn);S!==null&&(d.startTime=S,y=!0)}}px(t,u),h.start(rT(u,h,p,t.shouldReduceMotion&&s7.has(u)?{type:!1}:d,t,y));const _=h.animation;_&&l.push(_)}return o&&Promise.all(l).then(()=>{Jn.update(()=>{o&&ule(t,o)})}),l}function V7(t,e,n,r=0,i=1){const s=Array.from(t).sort((c,u)=>c.sortNodePosition(u)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function mx(t,e,n={}){var l;const r=df(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(F7(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:p}=i;return ble(t,e,c,u,h,p,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,u]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function ble(t,e,n=0,r=0,i=0,s=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(mx(l,e,{...o,delay:n+(typeof r=="function"?0:r)+V7(t.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function xle(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>mx(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=mx(t,e,n);else{const i=typeof e=="function"?df(t,e,n.custom):e;r=Promise.all(F7(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function U7(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Sle=XA.length;function B7(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?B7(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Sle;n++){const r=XA[n],i=t.props[r];(_g(i)||i===!1)&&(e[r]=i)}return e}const Ele=[...YA].reverse(),Ale=YA.length;function Tle(t){return e=>Promise.all(e.map(({animation:n,options:r})=>xle(t,n,r)))}function Ile(t){let e=Tle(t),n=DP(),r=!0;const i=l=>(c,u)=>{var p;const h=df(t,u,l==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(h){const{transition:d,transitionEnd:b,...y}=h;c={...c,...y,...b}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,u=B7(t.parent)||{},h=[],p=new Set;let d={},b=1/0;for(let _=0;_<Ale;_++){const w=Ele[_],S=n[w],E=c[w]!==void 0?c[w]:u[w],k=_g(E),B=w===l?S.isActive:null;B===!1&&(b=_);let G=E===u[w]&&E!==c[w]&&k;if(G&&r&&t.manuallyAnimateOnMount&&(G=!1),S.protectedKeys={...d},!S.isActive&&B===null||!E&&!S.prevProp||B2(E)||typeof E=="boolean")continue;const D=Cle(S.prevProp,E);let N=D||w===l&&S.isActive&&!G&&k||_>b&&k,P=!1;const j=Array.isArray(E)?E:[E];let I=j.reduce(i(w),{});B===!1&&(I={});const{prevResolvedValues:L={}}=S,M={...L,...I},W=le=>{N=!0,p.has(le)&&(P=!0,p.delete(le)),S.needsAnimating[le]=!0;const Y=t.getValue(le);Y&&(Y.liveStyle=!1)};for(const le in M){const Y=I[le],Q=L[le];if(d.hasOwnProperty(le))continue;let fe=!1;fx(Y)&&fx(Q)?fe=!U7(Y,Q):fe=Y!==Q,fe?Y!=null?W(le):p.add(le):Y!==void 0&&p.has(le)?W(le):S.protectedKeys[le]=!0}S.prevProp=E,S.prevResolvedValues=I,S.isActive&&(d={...d,...I}),r&&t.blockInitialAnimation&&(N=!1);const ae=G&&D;N&&(!ae||P)&&h.push(...j.map(le=>{const Y={type:w};if(typeof le=="string"&&r&&!ae&&t.manuallyAnimateOnMount&&t.parent){const{parent:Q}=t,fe=df(Q,le);if(Q.enteringChildren&&fe){const{delayChildren:ye}=fe.transition||{};Y.delay=V7(Q.enteringChildren,t,ye)}}return{animation:le,options:Y}}))}if(p.size){const _={};if(typeof c.initial!="boolean"){const w=df(t,Array.isArray(c.initial)?c.initial[0]:c.initial);w&&w.transition&&(_.transition=w.transition)}p.forEach(w=>{const S=t.getBaseTarget(w),E=t.getValue(w);E&&(E.liveStyle=!0),_[w]=S??null}),h.push({animation:_})}let y=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(h):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(p=>{var d;return(d=p.animationState)==null?void 0:d.setActive(l,c)}),n[l].isActive=c;const u=o(l);for(const p in n)n[p].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=DP()}}}function Cle(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!U7(e,t):!1}function Ku(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function DP(){return{animate:Ku(!0),whileInView:Ku(),whileHover:Ku(),whileTap:Ku(),whileDrag:Ku(),whileFocus:Ku(),exit:Ku()}}class Pu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Nle extends Pu{constructor(e){super(e),e.animationState||(e.animationState=Ile(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();B2(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Ple=0;class kle extends Pu{constructor(){super(...arguments),this.id=Ple++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Rle={animation:{Feature:Nle},exit:{Feature:kle}};function xg(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function l0(t){return{point:{x:t.pageX,y:t.pageY}}}const Lle=t=>e=>KA(e)&&t(e,l0(e));function Pm(t,e,n,r){return xg(t,e,Lle(n),r)}const z7=1e-4,Dle=1-z7,Mle=1+z7,$7=.01,Ole=0-$7,jle=0+$7;function qi(t){return t.max-t.min}function Fle(t,e,n){return Math.abs(t-e)<=n}function MP(t,e,n,r=.5){t.origin=r,t.originPoint=er(e.min,e.max,t.origin),t.scale=qi(n)/qi(e),t.translate=er(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Dle&&t.scale<=Mle||isNaN(t.scale))&&(t.scale=1),(t.translate>=Ole&&t.translate<=jle||isNaN(t.translate))&&(t.translate=0)}function km(t,e,n,r){MP(t.x,e.x,n.x,r?r.originX:void 0),MP(t.y,e.y,n.y,r?r.originY:void 0)}function OP(t,e,n){t.min=n.min+e.min,t.max=t.min+qi(e)}function Vle(t,e,n){OP(t.x,e.x,n.x),OP(t.y,e.y,n.y)}function jP(t,e,n){t.min=e.min-n.min,t.max=t.min+qi(e)}function Rm(t,e,n){jP(t.x,e.x,n.x),jP(t.y,e.y,n.y)}function oo(t){return[t("x"),t("y")]}const q7=({current:t})=>t?t.ownerDocument.defaultView:null,FP=(t,e)=>Math.abs(t-e);function Ule(t,e){const n=FP(t.x,e.x),r=FP(t.y,e.y);return Math.sqrt(n**2+r**2)}class H7{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=T_(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,b=Ule(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!d&&!b)return;const{point:y}=p,{timestamp:_}=oi;this.history.push({...y,timestamp:_});const{onStart:w,onMove:S}=this.handlers;d||(w&&w(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,p)},this.handlePointerMove=(p,d)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=A_(d,this.transformPagePoint),Jn.update(this.updatePoint,!0)},this.handlePointerUp=(p,d)=>{this.end();const{onEnd:b,onSessionEnd:y,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=T_(p.type==="pointercancel"?this.lastMoveEventInfo:A_(d,this.transformPagePoint),this.history);this.startEvent&&b&&b(p,w),y&&y(p,w)},!KA(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=l0(e),l=A_(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=oi;this.history=[{...c,timestamp:u}];const{onSessionStart:h}=n;h&&h(e,T_(l,this.history)),this.removeListeners=s0(Pm(this.contextWindow,"pointermove",this.handlePointerMove),Pm(this.contextWindow,"pointerup",this.handlePointerUp),Pm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),gu(this.updatePoint)}}function A_(t,e){return e?{point:e(t.point)}:t}function VP(t,e){return{x:t.x-e.x,y:t.y-e.y}}function T_({point:t},e){return{point:t,delta:VP(t,W7(e)),offset:VP(t,Ble(e)),velocity:zle(e,.1)}}function Ble(t){return t[0]}function W7(t){return t[t.length-1]}function zle(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=W7(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ua(e)));)n--;if(!r)return{x:0,y:0};const s=po(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function $le(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?er(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?er(n,t,r.max):Math.min(t,n)),t}function UP(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function qle(t,{top:e,left:n,bottom:r,right:i}){return{x:UP(t.x,n,i),y:UP(t.y,e,r)}}function BP(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Hle(t,e){return{x:BP(t.x,e.x),y:BP(t.y,e.y)}}function Wle(t,e){let n=.5;const r=qi(t),i=qi(e);return i>r?n=yg(e.min,e.max-r,t.min):r>i&&(n=yg(t.min,t.max-i,e.min)),Fl(0,1,n)}function Gle(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const gx=.35;function Kle(t=gx){return t===!1?t=0:t===!0&&(t=gx),{x:zP(t,"left","right"),y:zP(t,"top","bottom")}}function zP(t,e,n){return{min:$P(t,e),max:$P(t,n)}}function $P(t,e){return typeof t=="number"?t:t[e]||0}const Yle=new WeakMap;class Xle{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_r(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(l0(h).point)},o=(h,p)=>{const{drag:d,dragPropagation:b,onDragStart:y}=this.getProps();if(d&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=aae(d),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),oo(w=>{let S=this.getAxisMotionValue(w).get()||0;if(Ba.test(S)){const{projection:E}=this.visualElement;if(E&&E.layout){const k=E.layout.layoutBox[w];k&&(S=qi(k)*(parseFloat(S)/100))}}this.originPoint[w]=S}),y&&Jn.postRender(()=>y(h,p)),px(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},a=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p;const{dragPropagation:d,dragDirectionLock:b,onDirectionLock:y,onDrag:_}=this.getProps();if(!d&&!this.openDragLock)return;const{offset:w}=p;if(b&&this.currentDirection===null){this.currentDirection=Qle(w),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",p.point,w),this.updateAxis("y",p.point,w),this.visualElement.render(),_&&_(h,p)},l=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p,this.stop(h,p),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>oo(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)==null?void 0:p.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new H7(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:q7(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Jn.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!m1(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=$le(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Gd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=qle(r.layoutBox,e):this.constraints=!1,this.elastic=Kle(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&oo(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Gle(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Gd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Jae(r,i.root,this.visualElement.getTransformPagePoint());let o=Hle(i.layout.layoutBox,s);if(n){const a=n(Yae(o));this.hasMutatedConstraints=!!a,a&&(o=N7(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=oo(u=>{if(!m1(u,n,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const p=i?200:1e6,d=i?40:1e7,b={type:"inertia",velocity:r?e[u]:0,bounceStiffness:p,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(u,b)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return px(this.visualElement,e),r.start(rT(e,r,0,n,this.visualElement,!1))}stopAnimation(){oo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){oo(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){oo(n=>{const{drag:r}=this.getProps();if(!m1(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-er(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Gd(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};oo(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=Wle({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),oo(o=>{if(!m1(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(er(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;Yle.set(this.visualElement,this);const e=this.visualElement.current,n=Pm(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Gd(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Jn.read(r);const o=xg(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(oo(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=gx,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function m1(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Qle(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Jle extends Pu{constructor(e){super(e),this.removeGroupControls=go,this.removeListeners=go,this.controls=new Xle(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||go}unmount(){this.removeGroupControls(),this.removeListeners()}}const qP=t=>(e,n)=>{t&&Jn.postRender(()=>t(e,n))};class Zle extends Pu{constructor(){super(...arguments),this.removePointerDownListener=go}onPointerDown(e){this.session=new H7(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:q7(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:qP(e),onStart:qP(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Jn.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Pm(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const iy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function HP(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Hp={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Et.test(t))t=parseFloat(t);else return t;const n=HP(t,e.target.x),r=HP(t,e.target.y);return`${n}% ${r}%`}},ece={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=yu.parse(t);if(i.length>5)return r;const s=yu.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=er(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};let I_=!1;class tce extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Sae(nce),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),I_&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),iy.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,I_=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Jn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),GA.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;I_=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function G7(t){const[e,n]=gae(),r=C.useContext(Aj);return v.jsx(tce,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(I7),isPresent:e,safeToRemove:n})}const nce={borderRadius:{...Hp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Hp,borderTopRightRadius:Hp,borderBottomLeftRadius:Hp,borderBottomRightRadius:Hp,boxShadow:ece};function rce(t,e,n){const r=Ni(t)?t:qf(t);return r.start(rT("",r,e,n)),r.animation}const ice=(t,e)=>t.depth-e.depth;class sce{constructor(){this.children=[],this.isDirty=!1}add(e){NA(this.children,e),this.isDirty=!0}remove(e){PA(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ice),this.isDirty=!1,this.children.forEach(e)}}function oce(t,e){const n=ds.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(gu(r),t(s-e))};return Jn.setup(r,!0),()=>gu(r)}const K7=["TopLeft","TopRight","BottomLeft","BottomRight"],ace=K7.length,WP=t=>typeof t=="string"?parseFloat(t):t,GP=t=>typeof t=="number"||Et.test(t);function lce(t,e,n,r,i,s){i?(t.opacity=er(0,n.opacity??1,cce(r)),t.opacityExit=er(e.opacity??1,0,uce(r))):s&&(t.opacity=er(e.opacity??1,n.opacity??1,r));for(let o=0;o<ace;o++){const a=`border${K7[o]}Radius`;let l=KP(e,a),c=KP(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||GP(l)===GP(c)?(t[a]=Math.max(er(WP(l),WP(c),r),0),(Ba.test(c)||Ba.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=er(e.rotate||0,n.rotate||0,r))}function KP(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const cce=Y7(0,.5,Oj),uce=Y7(.5,.95,go);function Y7(t,e,n){return r=>r<t?0:r>e?1:n(yg(t,e,r))}function YP(t,e){t.min=e.min,t.max=e.max}function so(t,e){YP(t.x,e.x),YP(t.y,e.y)}function XP(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function QP(t,e,n,r,i){return t-=e,t=Sv(t,1/n,r),i!==void 0&&(t=Sv(t,1/i,r)),t}function hce(t,e=0,n=1,r=.5,i,s=t,o=t){if(Ba.test(e)&&(e=parseFloat(e),e=er(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=er(s.min,s.max,r);t===s&&(a-=e),t.min=QP(t.min,e,n,a,i),t.max=QP(t.max,e,n,a,i)}function JP(t,e,[n,r,i],s,o){hce(t,e[n],e[r],e[i],e.scale,s,o)}const dce=["x","scaleX","originX"],fce=["y","scaleY","originY"];function ZP(t,e,n,r){JP(t.x,e,dce,n?n.x:void 0,r?r.x:void 0),JP(t.y,e,fce,n?n.y:void 0,r?r.y:void 0)}function e3(t){return t.translate===0&&t.scale===1}function X7(t){return e3(t.x)&&e3(t.y)}function t3(t,e){return t.min===e.min&&t.max===e.max}function pce(t,e){return t3(t.x,e.x)&&t3(t.y,e.y)}function n3(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Q7(t,e){return n3(t.x,e.x)&&n3(t.y,e.y)}function r3(t){return qi(t.x)/qi(t.y)}function i3(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class mce{constructor(){this.members=[]}add(e){NA(this.members,e),e.scheduleRender()}remove(e){if(PA(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function gce(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:p,skewX:d,skewY:b}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),d&&(r+=`skewX(${d}deg) `),b&&(r+=`skewY(${b}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const C_=["","X","Y","Z"],yce=1e3;let vce=0;function N_(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function J7(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=j7(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Jn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&J7(r)}function Z7({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=vce++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(bce),this.nodes.forEach(Ace),this.nodes.forEach(Tce),this.nodes.forEach(xce)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new sce)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new RA),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=p7(o)&&!fae(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let u,h=0;const p=()=>this.root.updateBlockedByResize=!1;Jn.read(()=>{h=window.innerWidth}),t(o,()=>{const d=window.innerWidth;d!==h&&(h=d,this.root.updateBlockedByResize=!0,u&&u(),u=oce(p,250),iy.hasAnimatedSinceResize&&(iy.hasAnimatedSinceResize=!1,this.nodes.forEach(a3)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:d})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||c.getDefaultTransition()||kce,{onLayoutAnimationStart:y,onLayoutAnimationComplete:_}=c.getProps(),w=!this.targetLayout||!Q7(this.targetLayout,d),S=!h&&p;if(this.options.layoutRoot||this.resumeFrom||S||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...HA(b,"layout"),onPlay:y,onComplete:_};(c.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(u,S)}else h||a3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=d})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),gu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ice),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&J7(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(s3);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(o3);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Ece),this.nodes.forEach(wce),this.nodes.forEach(_ce)):this.nodes.forEach(o3),this.clearAllSnapshots();const a=ds.now();oi.delta=Fl(0,1e3/60,a-oi.timestamp),oi.timestamp=a,oi.isProcessing=!0,y_.update.process(oi),y_.preRender.process(oi),y_.render.process(oi),oi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,GA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Sce),this.sharedNodes.forEach(Cce)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Jn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Jn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!qi(this.snapshot.measuredBox.x)&&!qi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_r(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!X7(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Ju(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Rce(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return _r();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Lce))){const{scroll:u}=this.root;u&&(Kd(a.x,u.offset.x),Kd(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=_r();if(so(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:p}=u;u!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&so(a,o),Kd(a.x,h.offset.x),Kd(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=_r();so(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Yd(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ju(u.latestValues)&&Yd(l,u.latestValues)}return Ju(this.latestValues)&&Yd(l,this.latestValues),l}removeTransform(o){const a=_r();so(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ju(c.latestValues))continue;ux(c.latestValues)&&c.updateSnapshot();const u=_r(),h=c.measurePageBox();so(u,h),ZP(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Ju(this.latestValues)&&ZP(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==oi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=oi.timestamp,!this.targetDelta&&!this.relativeTarget){const d=this.getClosestProjectingParent();d&&d.layout&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_r(),this.relativeTargetOrigin=_r(),Rm(this.relativeTargetOrigin,this.layout.layoutBox,d.layout.layoutBox),so(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=_r(),this.targetWithTransforms=_r()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Vle(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):so(this.target,this.layout.layoutBox),k7(this.target,this.targetDelta)):so(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const d=this.getClosestProjectingParent();d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_r(),this.relativeTargetOrigin=_r(),Rm(this.relativeTargetOrigin,this.target,d.target),so(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ux(this.parent.latestValues)||P7(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===oi.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;so(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;Qae(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=_r());const{target:d}=o;if(!d){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(XP(this.prevProjectionDelta.x,this.projectionDelta.x),XP(this.prevProjectionDelta.y,this.projectionDelta.y)),km(this.projectionDelta,this.layoutCorrected,d,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!i3(this.projectionDelta.x,this.prevProjectionDelta.x)||!i3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",d))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xd(),this.projectionDelta=Xd(),this.projectionDeltaWithTransform=Xd()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=Xd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=_r(),d=l?l.source:void 0,b=this.layout?this.layout.source:void 0,y=d!==b,_=this.getStack(),w=!_||_.members.length<=1,S=!!(y&&!w&&this.options.crossfade===!0&&!this.path.some(Pce));this.animationProgress=0;let E;this.mixTargetDelta=k=>{const B=k/1e3;l3(h.x,o.x,B),l3(h.y,o.y,B),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rm(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Nce(this.relativeTarget,this.relativeTargetOrigin,p,B),E&&pce(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=_r()),so(E,this.relativeTarget)),y&&(this.animationValues=u,lce(u,c,this.latestValues,B,S,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(gu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Jn.update(()=>{iy.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=qf(0)),this.currentAnimation=rce(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(yce),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&eF(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||_r();const h=qi(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=qi(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}so(a,l),Yd(a,u),km(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new mce),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&N_("z",o,c,this.animationValues);for(let u=0;u<C_.length;u++)N_(`rotate${C_[u]}`,o,c,this.animationValues),N_(`skew${C_[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=ry(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=ry(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ju(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=gce(this.projectionDeltaWithTransform,this.treeScale,u);l&&(h=l(u,h)),o.transform=h;const{x:p,y:d}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${d.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const b in bg){if(u[b]===void 0)continue;const{correct:y,applyTo:_,isCSSVariable:w}=bg[b],S=h==="none"?u[b]:y(u[b],c);if(_){const E=_.length;for(let k=0;k<E;k++)o[_[k]]=S}else w?this.options.visualElement.renderState.vars[b]=S:o[b]=S}this.options.layoutId&&(o.pointerEvents=c===this?ry(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(s3),this.root.sharedNodes.clear()}}}function wce(t){t.updateLayout()}function _ce(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?oo(h=>{const p=o?e.measuredBox[h]:e.layoutBox[h],d=qi(p);p.min=r[h].min,p.max=p.min+d}):eF(s,e.layoutBox,r)&&oo(h=>{const p=o?e.measuredBox[h]:e.layoutBox[h],d=qi(r[h]);p.max=p.min+d,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+d)});const a=Xd();km(a,r,e.layoutBox);const l=Xd();o?km(l,t.applyTransform(i,!0),e.measuredBox):km(l,r,e.layoutBox);const c=!X7(a);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:d}=h;if(p&&d){const b=_r();Rm(b,e.layoutBox,p.layoutBox);const y=_r();Rm(y,r,d.layoutBox),Q7(b,y)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=b,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function bce(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function xce(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Sce(t){t.clearSnapshot()}function s3(t){t.clearMeasurements()}function o3(t){t.isLayoutDirty=!1}function Ece(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function a3(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Ace(t){t.resolveTargetDelta()}function Tce(t){t.calcProjection()}function Ice(t){t.resetSkewAndRotation()}function Cce(t){t.removeLeadSnapshot()}function l3(t,e,n){t.translate=er(e.translate,0,n),t.scale=er(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function c3(t,e,n,r){t.min=er(e.min,n.min,r),t.max=er(e.max,n.max,r)}function Nce(t,e,n,r){c3(t.x,e.x,n.x,r),c3(t.y,e.y,n.y,r)}function Pce(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const kce={duration:.45,ease:[.4,0,.1,1]},u3=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),h3=u3("applewebkit/")&&!u3("chrome/")?Math.round:go;function d3(t){t.min=h3(t.min),t.max=h3(t.max)}function Rce(t){d3(t.x),d3(t.y)}function eF(t,e,n){return t==="position"||t==="preserve-aspect"&&!Fle(r3(e),r3(n),.2)}function Lce(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Dce=Z7({attachResizeListener:(t,e)=>xg(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),P_={current:void 0},tF=Z7({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!P_.current){const t=new Dce({});t.mount(window),t.setOptions({layoutScroll:!0}),P_.current=t}return P_.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Mce={pan:{Feature:Zle},drag:{Feature:Jle,ProjectionNode:tF,MeasureLayout:G7}};function f3(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Jn.postRender(()=>s(e,l0(e)))}class Oce extends Pu{mount(){const{current:e}=this.node;e&&(this.unmount=lae(e,(n,r)=>(f3(this.node,r,"Start"),i=>f3(this.node,i,"End"))))}unmount(){}}class jce extends Pu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=s0(xg(this.node.current,"focus",()=>this.onFocus()),xg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function p3(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Jn.postRender(()=>s(e,l0(e)))}class Fce extends Pu{mount(){const{current:e}=this.node;e&&(this.unmount=dae(e,(n,r)=>(p3(this.node,r,"Start"),(i,{success:s})=>p3(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const yx=new WeakMap,k_=new WeakMap,Vce=t=>{const e=yx.get(t.target);e&&e(t)},Uce=t=>{t.forEach(Vce)};function Bce({root:t,...e}){const n=t||document;k_.has(n)||k_.set(n,{});const r=k_.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Uce,{root:t,...e})),r[i]}function zce(t,e,n){const r=Bce(e);return yx.set(t,n),r.observe(t),()=>{yx.delete(t),r.unobserve(t)}}const $ce={some:0,all:1};class qce extends Pu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:$ce[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),p=c?u:h;p&&p(l)};return zce(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Hce(e,n))&&this.startObserver()}unmount(){}}function Hce({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Wce={inView:{Feature:qce},tap:{Feature:Fce},focus:{Feature:jce},hover:{Feature:Oce}},Gce={layout:{ProjectionNode:tF,MeasureLayout:G7}},Kce={...Rle,...Wce,...Mce,...Gce},xn=Kae(Kce,ale),Yce=t2("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Cr=C.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?eq:"button";return v.jsx(o,{className:$t(Yce({variant:e,size:n,className:t})),ref:s,...i})});Cr.displayName="Button";const Sr=C.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:$t("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Sr.displayName="Card";const Rr=C.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:$t("flex flex-col space-y-1.5 p-6",t),...e}));Rr.displayName="CardHeader";const Lr=C.forwardRef(({className:t,...e},n)=>v.jsx("h3",{ref:n,className:$t("text-2xl font-semibold leading-none tracking-tight",t),...e}));Lr.displayName="CardTitle";const yo=C.forwardRef(({className:t,...e},n)=>v.jsx("p",{ref:n,className:$t("text-sm text-muted-foreground",t),...e}));yo.displayName="CardDescription";const Er=C.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:$t("p-6 pt-0",t),...e}));Er.displayName="CardContent";const Xce=C.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:$t("flex items-center p-6 pt-0",t),...e}));Xce.displayName="CardFooter";const Qce=()=>{const t=[{icon:Kq,title:"Track Activities",description:"Monitor workshops, FDPs, MOOCs, conferences, and publications in one place"},{icon:KS,title:"Auto Scoring",description:"Intelligent scoring system with real-time points calculation"},{icon:XS,title:"Progress Tracking",description:"Visual dashboards to track your development goals and achievements"},{icon:aD,title:"Streamlined Review",description:"Quick approval workflow for HODs with evidence preview"}];return v.jsxs("div",{className:"min-h-screen",children:[v.jsxs("section",{className:"relative overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 gradient-hero opacity-10 animate-pulse-slow"}),v.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_50%,rgba(66,153,225,0.1),transparent_50%)]"}),v.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_70%_50%,rgba(159,122,234,0.1),transparent_50%)]"}),v.jsx("div",{className:"container mx-auto px-6 pt-20 pb-32 relative",children:v.jsxs(xn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center max-w-4xl mx-auto",children:[v.jsxs(xn.div,{initial:{scale:.9},animate:{scale:1},transition:{duration:.5},className:"inline-flex items-center gap-2 bg-primary/10 text-primary px-4 py-2 rounded-full text-sm font-medium mb-6 border border-primary/20",children:[v.jsx(n2,{className:"w-4 h-4"}),"NAAC & IQAC Compliant"]}),v.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 bg-gradient-to-r from-primary via-accent to-secondary bg-clip-text text-transparent leading-tight",children:"Faculty Development Portal"}),v.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground mb-12 max-w-2xl mx-auto",children:"Track, approve, and analyze faculty development activities with intelligent automation"}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[v.jsx(_m,{to:"/auth",children:v.jsx(Cr,{size:"lg",className:"gradient-primary text-primary-foreground shadow-glow hover:shadow-lg transition-all text-lg px-8",children:"Get Started"})}),v.jsx(Cr,{size:"lg",variant:"outline",className:"text-lg px-8",children:"Learn More"})]})]})})]}),v.jsx("section",{className:"py-20 bg-muted/30",children:v.jsxs("div",{className:"container mx-auto px-6",children:[v.jsxs(xn.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"text-center mb-16",children:[v.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Powerful Features"}),v.jsx("p",{className:"text-muted-foreground text-lg",children:"Everything you need to manage faculty development"})]}),v.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((e,n)=>v.jsx(xn.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:n*.1},children:v.jsx(Sr,{className:"h-full hover:shadow-lg transition-all duration-300 border-border/50 bg-card/50 backdrop-blur",children:v.jsxs(Er,{className:"pt-6",children:[v.jsx("div",{className:"w-12 h-12 rounded-lg gradient-primary flex items-center justify-center mb-4 shadow-md",children:v.jsx(e.icon,{className:"w-6 h-6 text-primary-foreground"})}),v.jsx("h3",{className:"text-xl font-semibold mb-2",children:e.title}),v.jsx("p",{className:"text-muted-foreground",children:e.description})]})})},n))})]})}),v.jsx("section",{className:"py-20",children:v.jsx("div",{className:"container mx-auto px-6",children:v.jsxs(xn.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"gradient-primary rounded-3xl p-12 text-center shadow-glow",children:[v.jsx("h2",{className:"text-4xl font-bold text-primary-foreground mb-4",children:"Ready to Transform Your Faculty Development?"}),v.jsx("p",{className:"text-primary-foreground/90 text-lg mb-8 max-w-2xl mx-auto",children:"Join institutions using our platform to streamline their faculty development tracking"}),v.jsx(_m,{to:"/auth",children:v.jsx(Cr,{size:"lg",variant:"secondary",className:"text-lg px-8",children:"Start Your Journey"})})]})})})]})},Hr=C.forwardRef(({className:t,type:e,...n},r)=>v.jsx("input",{type:e,className:$t("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Hr.displayName="Input";var Jce="Label",nF=C.forwardRef((t,e)=>v.jsx(kt.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));nF.displayName=Jce;var rF=nF;const Zce=t2("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),zn=C.forwardRef(({className:t,...e},n)=>v.jsx(rF,{ref:n,className:$t(Zce(),t),...e}));zn.displayName=rF.displayName;var eue=C.createContext(void 0);function $2(t){const e=C.useContext(eue);return t||e||"ltr"}var R_="rovingFocusGroup.onEntryFocus",tue={bubbles:!1,cancelable:!0},c0="RovingFocusGroup",[vx,iF,nue]=Qv(c0),[rue,q2]=ea(c0,[nue]),[iue,sue]=rue(c0),sF=C.forwardRef((t,e)=>v.jsx(vx.Provider,{scope:t.__scopeRovingFocusGroup,children:v.jsx(vx.Slot,{scope:t.__scopeRovingFocusGroup,children:v.jsx(oue,{...t,ref:e})})}));sF.displayName=c0;var oue=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=t,p=C.useRef(null),d=Sn(e,p),b=$2(s),[y,_]=Mf({prop:o,defaultProp:a??null,onChange:l,caller:c0}),[w,S]=C.useState(!1),E=Ki(c),k=iF(n),B=C.useRef(!1),[G,D]=C.useState(0);return C.useEffect(()=>{const N=p.current;if(N)return N.addEventListener(R_,E),()=>N.removeEventListener(R_,E)},[E]),v.jsx(iue,{scope:n,orientation:r,dir:b,loop:i,currentTabStopId:y,onItemFocus:C.useCallback(N=>_(N),[_]),onItemShiftTab:C.useCallback(()=>S(!0),[]),onFocusableItemAdd:C.useCallback(()=>D(N=>N+1),[]),onFocusableItemRemove:C.useCallback(()=>D(N=>N-1),[]),children:v.jsx(kt.div,{tabIndex:w||G===0?-1:0,"data-orientation":r,...h,ref:d,style:{outline:"none",...t.style},onMouseDown:He(t.onMouseDown,()=>{B.current=!0}),onFocus:He(t.onFocus,N=>{const P=!B.current;if(N.target===N.currentTarget&&P&&!w){const j=new CustomEvent(R_,tue);if(N.currentTarget.dispatchEvent(j),!j.defaultPrevented){const I=k().filter(ce=>ce.focusable),L=I.find(ce=>ce.active),M=I.find(ce=>ce.id===y),ae=[L,M,...I].filter(Boolean).map(ce=>ce.ref.current);lF(ae,u)}}B.current=!1}),onBlur:He(t.onBlur,()=>S(!1))})})}),oF="RovingFocusGroupItem",aF=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=t,l=Ph(),c=s||l,u=sue(oF,n),h=u.currentTabStopId===c,p=iF(n),{onFocusableItemAdd:d,onFocusableItemRemove:b,currentTabStopId:y}=u;return C.useEffect(()=>{if(r)return d(),()=>b()},[r,d,b]),v.jsx(vx.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:v.jsx(kt.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:He(t.onMouseDown,_=>{r?u.onItemFocus(c):_.preventDefault()}),onFocus:He(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:He(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){u.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const w=cue(_,u.orientation,u.dir);if(w!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let E=p().filter(k=>k.focusable).map(k=>k.ref.current);if(w==="last")E.reverse();else if(w==="prev"||w==="next"){w==="prev"&&E.reverse();const k=E.indexOf(_.currentTarget);E=u.loop?uue(E,k+1):E.slice(k+1)}setTimeout(()=>lF(E))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:y!=null}):o})})});aF.displayName=oF;var aue={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function lue(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function cue(t,e,n){const r=lue(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return aue[r]}function lF(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function uue(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var cF=sF,uF=aF,H2="Tabs",[hue,G0e]=ea(H2,[q2]),hF=q2(),[due,iT]=hue(H2),dF=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=$2(a),[h,p]=Mf({prop:r,onChange:i,defaultProp:s??"",caller:H2});return v.jsx(due,{scope:n,baseId:Ph(),value:h,onValueChange:p,orientation:o,dir:u,activationMode:l,children:v.jsx(kt.div,{dir:u,"data-orientation":o,...c,ref:e})})});dF.displayName=H2;var fF="TabsList",pF=C.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=iT(fF,n),o=hF(n);return v.jsx(cF,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:v.jsx(kt.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});pF.displayName=fF;var mF="TabsTrigger",gF=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=iT(mF,n),a=hF(n),l=wF(o.baseId,r),c=_F(o.baseId,r),u=r===o.value;return v.jsx(uF,{asChild:!0,...a,focusable:!i,active:u,children:v.jsx(kt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:He(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:He(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:He(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!i&&h&&o.onValueChange(r)})})})});gF.displayName=mF;var yF="TabsContent",vF=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=iT(yF,n),l=wF(a.baseId,r),c=_F(a.baseId,r),u=r===a.value,h=C.useRef(u);return C.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),v.jsx(xu,{present:i||u,children:({present:p})=>v.jsx(kt.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:p&&s})})});vF.displayName=yF;function wF(t,e){return`${t}-trigger-${e}`}function _F(t,e){return`${t}-content-${e}`}var fue=dF,bF=pF,xF=gF,SF=vF;const pue=fue,EF=C.forwardRef(({className:t,...e},n)=>v.jsx(bF,{ref:n,className:$t("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));EF.displayName=bF.displayName;const wx=C.forwardRef(({className:t,...e},n)=>v.jsx(xF,{ref:n,className:$t("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));wx.displayName=xF.displayName;const _x=C.forwardRef(({className:t,...e},n)=>v.jsx(SF,{ref:n,className:$t("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));_x.displayName=SF.displayName;function m3(t,[e,n]){return Math.min(n,Math.max(e,t))}var L_=0;function AF(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??g3()),document.body.insertAdjacentElement("beforeend",t[1]??g3()),L_++,()=>{L_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),L_--}},[])}function g3(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var D_="focusScope.autoFocusOnMount",M_="focusScope.autoFocusOnUnmount",y3={bubbles:!1,cancelable:!0},mue="FocusScope",sT=C.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=C.useState(null),c=Ki(i),u=Ki(s),h=C.useRef(null),p=Sn(e,y=>l(y)),d=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let y=function(E){if(d.paused||!a)return;const k=E.target;a.contains(k)?h.current=k:wc(h.current,{select:!0})},_=function(E){if(d.paused||!a)return;const k=E.relatedTarget;k!==null&&(a.contains(k)||wc(h.current,{select:!0}))},w=function(E){if(document.activeElement===document.body)for(const B of E)B.removedNodes.length>0&&wc(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",_);const S=new MutationObserver(w);return a&&S.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",_),S.disconnect()}}},[r,a,d.paused]),C.useEffect(()=>{if(a){w3.add(d);const y=document.activeElement;if(!a.contains(y)){const w=new CustomEvent(D_,y3);a.addEventListener(D_,c),a.dispatchEvent(w),w.defaultPrevented||(gue(bue(TF(a)),{select:!0}),document.activeElement===y&&wc(a))}return()=>{a.removeEventListener(D_,c),setTimeout(()=>{const w=new CustomEvent(M_,y3);a.addEventListener(M_,u),a.dispatchEvent(w),w.defaultPrevented||wc(y??document.body,{select:!0}),a.removeEventListener(M_,u),w3.remove(d)},0)}}},[a,c,u,d]);const b=C.useCallback(y=>{if(!n&&!r||d.paused)return;const _=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,w=document.activeElement;if(_&&w){const S=y.currentTarget,[E,k]=yue(S);E&&k?!y.shiftKey&&w===k?(y.preventDefault(),n&&wc(E,{select:!0})):y.shiftKey&&w===E&&(y.preventDefault(),n&&wc(k,{select:!0})):w===S&&y.preventDefault()}},[n,r,d.paused]);return v.jsx(kt.div,{tabIndex:-1,...o,ref:p,onKeyDown:b})});sT.displayName=mue;function gue(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(wc(r,{select:e}),document.activeElement!==n)return}function yue(t){const e=TF(t),n=v3(e,t),r=v3(e.reverse(),t);return[n,r]}function TF(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function v3(t,e){for(const n of t)if(!vue(n,{upTo:e}))return n}function vue(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function wue(t){return t instanceof HTMLInputElement&&"select"in t}function wc(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&wue(t)&&e&&t.select()}}var w3=_ue();function _ue(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=_3(t,e),t.unshift(e)},remove(e){var n;t=_3(t,e),(n=t[0])==null||n.resume()}}}function _3(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function bue(t){return t.filter(e=>e.tagName!=="A")}function xue(t){const e=C.useRef({value:t,previous:t});return C.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Sue=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},_d=new WeakMap,g1=new WeakMap,y1={},O_=0,IF=function(t){return t&&(t.host||IF(t.parentNode))},Eue=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=IF(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Aue=function(t,e,n,r){var i=Eue(e,Array.isArray(t)?t:[t]);y1[n]||(y1[n]=new WeakMap);var s=y1[n],o=[],a=new Set,l=new Set(i),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};i.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))u(p);else try{var d=p.getAttribute(r),b=d!==null&&d!=="false",y=(_d.get(p)||0)+1,_=(s.get(p)||0)+1;_d.set(p,y),s.set(p,_),o.push(p),y===1&&b&&g1.set(p,!0),_===1&&p.setAttribute(n,"true"),b||p.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",p,w)}})};return u(e),a.clear(),O_++,function(){o.forEach(function(h){var p=_d.get(h)-1,d=s.get(h)-1;_d.set(h,p),s.set(h,d),p||(g1.has(h)||h.removeAttribute(r),g1.delete(h)),d||h.removeAttribute(n)}),O_--,O_||(_d=new WeakMap,_d=new WeakMap,g1=new WeakMap,y1={})}},CF=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=Sue(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Aue(r,i,n,"aria-hidden")):function(){return null}},Ta=function(){return Ta=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ta.apply(this,arguments)};function NF(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Tue(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var sy="right-scroll-bar-position",oy="width-before-scroll-bar",Iue="with-scroll-bars-hidden",Cue="--removed-body-scroll-bar-size";function j_(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Nue(t,e){var n=C.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Pue=typeof window<"u"?C.useLayoutEffect:C.useEffect,b3=new WeakMap;function kue(t,e){var n=Nue(null,function(r){return t.forEach(function(i){return j_(i,r)})});return Pue(function(){var r=b3.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||j_(a,null)}),s.forEach(function(a){i.has(a)||j_(a,o)})}b3.set(n,t)},[t]),n}function Rue(t){return t}function Lue(t,e){e===void 0&&(e=Rue);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return i}function Due(t){t===void 0&&(t={});var e=Lue(null);return e.options=Ta({async:!0,ssr:!1},t),e}var PF=function(t){var e=t.sideCar,n=NF(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,Ta({},n))};PF.isSideCarExport=!0;function Mue(t,e){return t.useMedium(e),PF}var kF=Due(),F_=function(){},W2=C.forwardRef(function(t,e){var n=C.useRef(null),r=C.useState({onScrollCapture:F_,onWheelCapture:F_,onTouchMoveCapture:F_}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,h=t.shards,p=t.sideCar,d=t.noRelative,b=t.noIsolation,y=t.inert,_=t.allowPinchZoom,w=t.as,S=w===void 0?"div":w,E=t.gapMode,k=NF(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=p,G=kue([n,e]),D=Ta(Ta({},k),i);return C.createElement(C.Fragment,null,u&&C.createElement(B,{sideCar:kF,removeScrollBar:c,shards:h,noRelative:d,noIsolation:b,inert:y,setCallbacks:s,allowPinchZoom:!!_,lockRef:n,gapMode:E}),o?C.cloneElement(C.Children.only(a),Ta(Ta({},D),{ref:G})):C.createElement(S,Ta({},D,{className:l,ref:G}),a))});W2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};W2.classNames={fullWidth:oy,zeroRight:sy};var Oue=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function jue(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Oue();return e&&t.setAttribute("nonce",e),t}function Fue(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Vue(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Uue=function(){var t=0,e=null;return{add:function(n){t==0&&(e=jue())&&(Fue(e,n),Vue(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Bue=function(){var t=Uue();return function(e,n){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},RF=function(){var t=Bue(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},zue={left:0,top:0,right:0,gap:0},V_=function(t){return parseInt(t||"",10)||0},$ue=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[V_(n),V_(r),V_(i)]},que=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return zue;var e=$ue(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Hue=RF(),ff="data-scroll-locked",Wue=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Iue,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ff,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sy,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(oy,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(sy," .").concat(sy,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(oy," .").concat(oy,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ff,`] {
    `).concat(Cue,": ").concat(a,`px;
  }
`)},x3=function(){var t=parseInt(document.body.getAttribute(ff)||"0",10);return isFinite(t)?t:0},Gue=function(){C.useEffect(function(){return document.body.setAttribute(ff,(x3()+1).toString()),function(){var t=x3()-1;t<=0?document.body.removeAttribute(ff):document.body.setAttribute(ff,t.toString())}},[])},Kue=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Gue();var s=C.useMemo(function(){return que(i)},[i]);return C.createElement(Hue,{styles:Wue(s,!e,i,n?"":"!important")})},bx=!1;if(typeof window<"u")try{var v1=Object.defineProperty({},"passive",{get:function(){return bx=!0,!0}});window.addEventListener("test",v1,v1),window.removeEventListener("test",v1,v1)}catch{bx=!1}var bd=bx?{passive:!1}:!1,Yue=function(t){return t.tagName==="TEXTAREA"},LF=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Yue(t)&&n[e]==="visible")},Xue=function(t){return LF(t,"overflowY")},Que=function(t){return LF(t,"overflowX")},S3=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=DF(t,r);if(i){var s=MF(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Jue=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Zue=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},DF=function(t,e){return t==="v"?Xue(e):Que(e)},MF=function(t,e){return t==="v"?Jue(e):Zue(e)},ehe=function(t,e){return t==="h"&&e==="rtl"?-1:1},the=function(t,e,n,r,i){var s=ehe(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,u=o>0,h=0,p=0;do{if(!a)break;var d=MF(t,a),b=d[0],y=d[1],_=d[2],w=y-_-s*b;(b||w)&&DF(t,a)&&(h+=w,p+=b);var S=a.parentNode;a=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(h)<1||!i)||!u&&(Math.abs(p)<1||!i))&&(c=!0),c},w1=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},E3=function(t){return[t.deltaX,t.deltaY]},A3=function(t){return t&&"current"in t?t.current:t},nhe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},rhe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},ihe=0,xd=[];function she(t){var e=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),i=C.useState(ihe++)[0],s=C.useState(RF)[0],o=C.useRef(t);C.useEffect(function(){o.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=Tue([t.lockRef.current],(t.shards||[]).map(A3),!0).filter(Boolean);return y.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=C.useCallback(function(y,_){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var w=w1(y),S=n.current,E="deltaX"in y?y.deltaX:S[0]-w[0],k="deltaY"in y?y.deltaY:S[1]-w[1],B,G=y.target,D=Math.abs(E)>Math.abs(k)?"h":"v";if("touches"in y&&D==="h"&&G.type==="range")return!1;var N=S3(D,G);if(!N)return!0;if(N?B=D:(B=D==="v"?"h":"v",N=S3(D,G)),!N)return!1;if(!r.current&&"changedTouches"in y&&(E||k)&&(r.current=B),!B)return!0;var P=r.current||B;return the(P,_,y,P==="h"?E:k,!0)},[]),l=C.useCallback(function(y){var _=y;if(!(!xd.length||xd[xd.length-1]!==s)){var w="deltaY"in _?E3(_):w1(_),S=e.current.filter(function(B){return B.name===_.type&&(B.target===_.target||_.target===B.shadowParent)&&nhe(B.delta,w)})[0];if(S&&S.should){_.cancelable&&_.preventDefault();return}if(!S){var E=(o.current.shards||[]).map(A3).filter(Boolean).filter(function(B){return B.contains(_.target)}),k=E.length>0?a(_,E[0]):!o.current.noIsolation;k&&_.cancelable&&_.preventDefault()}}},[]),c=C.useCallback(function(y,_,w,S){var E={name:y,delta:_,target:w,should:S,shadowParent:ohe(w)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(k){return k!==E})},1)},[]),u=C.useCallback(function(y){n.current=w1(y),r.current=void 0},[]),h=C.useCallback(function(y){c(y.type,E3(y),y.target,a(y,t.lockRef.current))},[]),p=C.useCallback(function(y){c(y.type,w1(y),y.target,a(y,t.lockRef.current))},[]);C.useEffect(function(){return xd.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,bd),document.addEventListener("touchmove",l,bd),document.addEventListener("touchstart",u,bd),function(){xd=xd.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,bd),document.removeEventListener("touchmove",l,bd),document.removeEventListener("touchstart",u,bd)}},[]);var d=t.removeScrollBar,b=t.inert;return C.createElement(C.Fragment,null,b?C.createElement(s,{styles:rhe(i)}):null,d?C.createElement(Kue,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function ohe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const ahe=Mue(kF,she);var oT=C.forwardRef(function(t,e){return C.createElement(W2,Ta({},t,{ref:e,sideCar:ahe}))});oT.classNames=W2.classNames;var lhe=[" ","Enter","ArrowUp","ArrowDown"],che=[" ","Enter"],Uh="Select",[G2,K2,uhe]=Qv(Uh),[dp,K0e]=ea(Uh,[uhe,np]),Y2=np(),[hhe,ku]=dp(Uh),[dhe,fhe]=dp(Uh),OF=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:h,disabled:p,required:d,form:b}=t,y=Y2(e),[_,w]=C.useState(null),[S,E]=C.useState(null),[k,B]=C.useState(!1),G=$2(c),[D,N]=Mf({prop:r,defaultProp:i??!1,onChange:s,caller:Uh}),[P,j]=Mf({prop:o,defaultProp:a,onChange:l,caller:Uh}),I=C.useRef(null),L=_?b||!!_.closest("form"):!0,[M,W]=C.useState(new Set),ae=Array.from(M).map(ce=>ce.props.value).join(";");return v.jsx(VD,{...y,children:v.jsxs(hhe,{required:d,scope:e,trigger:_,onTriggerChange:w,valueNode:S,onValueNodeChange:E,valueNodeHasChildren:k,onValueNodeHasChildrenChange:B,contentId:Ph(),value:P,onValueChange:j,open:D,onOpenChange:N,dir:G,triggerPointerDownPosRef:I,disabled:p,children:[v.jsx(G2.Provider,{scope:e,children:v.jsx(dhe,{scope:t.__scopeSelect,onNativeOptionAdd:C.useCallback(ce=>{W(le=>new Set(le).add(ce))},[]),onNativeOptionRemove:C.useCallback(ce=>{W(le=>{const Y=new Set(le);return Y.delete(ce),Y})},[]),children:n})}),L?v.jsxs(o9,{"aria-hidden":!0,required:d,tabIndex:-1,name:u,autoComplete:h,value:P,onChange:ce=>j(ce.target.value),disabled:p,form:b,children:[P===void 0?v.jsx("option",{value:""}):null,Array.from(M)]},ae):null]})})};OF.displayName=Uh;var jF="SelectTrigger",FF=C.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=Y2(n),o=ku(jF,n),a=o.disabled||r,l=Sn(e,o.onTriggerChange),c=K2(n),u=C.useRef("touch"),[h,p,d]=l9(y=>{const _=c().filter(E=>!E.disabled),w=_.find(E=>E.value===o.value),S=c9(_,y,w);S!==void 0&&o.onValueChange(S.value)}),b=y=>{a||(o.onOpenChange(!0),d()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return v.jsx(aE,{asChild:!0,...s,children:v.jsx(kt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":a9(o.value)?"":void 0,...i,ref:l,onClick:He(i.onClick,y=>{y.currentTarget.focus(),u.current!=="mouse"&&b(y)}),onPointerDown:He(i.onPointerDown,y=>{u.current=y.pointerType;const _=y.target;_.hasPointerCapture(y.pointerId)&&_.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(b(y),y.preventDefault())}),onKeyDown:He(i.onKeyDown,y=>{const _=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(_&&y.key===" ")&&lhe.includes(y.key)&&(b(),y.preventDefault())})})})});FF.displayName=jF;var VF="SelectValue",UF=C.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=ku(VF,n),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,h=Sn(e,l.onValueNodeChange);return Fr(()=>{c(u)},[c,u]),v.jsx(kt.span,{...a,ref:h,style:{pointerEvents:"none"},children:a9(l.value)?v.jsx(v.Fragment,{children:o}):s})});UF.displayName=VF;var phe="SelectIcon",BF=C.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return v.jsx(kt.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});BF.displayName=phe;var mhe="SelectPortal",zF=t=>v.jsx(Jv,{asChild:!0,...t});zF.displayName=mhe;var Bh="SelectContent",$F=C.forwardRef((t,e)=>{const n=ku(Bh,t.__scopeSelect),[r,i]=C.useState();if(Fr(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Kh.createPortal(v.jsx(qF,{scope:t.__scopeSelect,children:v.jsx(G2.Slot,{scope:t.__scopeSelect,children:v.jsx("div",{children:t.children})})}),s):null}return v.jsx(HF,{...t,ref:e})});$F.displayName=Bh;var Mo=10,[qF,Ru]=dp(Bh),ghe="SelectContentImpl",yhe=Df("SelectContent.RemoveScroll"),HF=C.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:d,sticky:b,hideWhenDetached:y,avoidCollisions:_,...w}=t,S=ku(Bh,n),[E,k]=C.useState(null),[B,G]=C.useState(null),D=Sn(e,re=>k(re)),[N,P]=C.useState(null),[j,I]=C.useState(null),L=K2(n),[M,W]=C.useState(!1),ae=C.useRef(!1);C.useEffect(()=>{if(E)return CF(E)},[E]),AF();const ce=C.useCallback(re=>{const[ge,...me]=L().map(Le=>Le.ref.current),[xe]=me.slice(-1),Ee=document.activeElement;for(const Le of re)if(Le===Ee||(Le==null||Le.scrollIntoView({block:"nearest"}),Le===ge&&B&&(B.scrollTop=0),Le===xe&&B&&(B.scrollTop=B.scrollHeight),Le==null||Le.focus(),document.activeElement!==Ee))return},[L,B]),le=C.useCallback(()=>ce([N,E]),[ce,N,E]);C.useEffect(()=>{M&&le()},[M,le]);const{onOpenChange:Y,triggerPointerDownPosRef:Q}=S;C.useEffect(()=>{if(E){let re={x:0,y:0};const ge=xe=>{var Ee,Le;re={x:Math.abs(Math.round(xe.pageX)-(((Ee=Q.current)==null?void 0:Ee.x)??0)),y:Math.abs(Math.round(xe.pageY)-(((Le=Q.current)==null?void 0:Le.y)??0))}},me=xe=>{re.x<=10&&re.y<=10?xe.preventDefault():E.contains(xe.target)||Y(!1),document.removeEventListener("pointermove",ge),Q.current=null};return Q.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",me,{capture:!0})}}},[E,Y,Q]),C.useEffect(()=>{const re=()=>Y(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[Y]);const[fe,ye]=l9(re=>{const ge=L().filter(Ee=>!Ee.disabled),me=ge.find(Ee=>Ee.ref.current===document.activeElement),xe=c9(ge,re,me);xe&&setTimeout(()=>xe.ref.current.focus())}),F=C.useCallback((re,ge,me)=>{const xe=!ae.current&&!me;(S.value!==void 0&&S.value===ge||xe)&&(P(re),xe&&(ae.current=!0))},[S.value]),X=C.useCallback(()=>E==null?void 0:E.focus(),[E]),J=C.useCallback((re,ge,me)=>{const xe=!ae.current&&!me;(S.value!==void 0&&S.value===ge||xe)&&I(re)},[S.value]),ie=r==="popper"?xx:WF,oe=ie===xx?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:d,sticky:b,hideWhenDetached:y,avoidCollisions:_}:{};return v.jsx(qF,{scope:n,content:E,viewport:B,onViewportChange:G,itemRefCallback:F,selectedItem:N,onItemLeave:X,itemTextRefCallback:J,focusSelectedItem:le,selectedItemText:j,position:r,isPositioned:M,searchRef:fe,children:v.jsx(oT,{as:yhe,allowPinchZoom:!0,children:v.jsx(sT,{asChild:!0,trapped:S.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:He(i,re=>{var ge;(ge=S.trigger)==null||ge.focus({preventScroll:!0}),re.preventDefault()}),children:v.jsx(Bg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:v.jsx(ie,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:re=>re.preventDefault(),...w,...oe,onPlaced:()=>W(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:He(w.onKeyDown,re=>{const ge=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!ge&&re.key.length===1&&ye(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let xe=L().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(re.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const Ee=re.target,Le=xe.indexOf(Ee);xe=xe.slice(Le+1)}setTimeout(()=>ce(xe)),re.preventDefault()}})})})})})})});HF.displayName=ghe;var vhe="SelectItemAlignedPosition",WF=C.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=ku(Bh,n),o=Ru(Bh,n),[a,l]=C.useState(null),[c,u]=C.useState(null),h=Sn(e,D=>u(D)),p=K2(n),d=C.useRef(!1),b=C.useRef(!0),{viewport:y,selectedItem:_,selectedItemText:w,focusSelectedItem:S}=o,E=C.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&y&&_&&w){const D=s.trigger.getBoundingClientRect(),N=c.getBoundingClientRect(),P=s.valueNode.getBoundingClientRect(),j=w.getBoundingClientRect();if(s.dir!=="rtl"){const Ee=j.left-N.left,Le=P.left-Ee,Fe=D.left-Le,Se=D.width+Fe,ne=Math.max(Se,N.width),wt=window.innerWidth-Mo,pt=m3(Le,[Mo,Math.max(Mo,wt-ne)]);a.style.minWidth=Se+"px",a.style.left=pt+"px"}else{const Ee=N.right-j.right,Le=window.innerWidth-P.right-Ee,Fe=window.innerWidth-D.right-Le,Se=D.width+Fe,ne=Math.max(Se,N.width),wt=window.innerWidth-Mo,pt=m3(Le,[Mo,Math.max(Mo,wt-ne)]);a.style.minWidth=Se+"px",a.style.right=pt+"px"}const I=p(),L=window.innerHeight-Mo*2,M=y.scrollHeight,W=window.getComputedStyle(c),ae=parseInt(W.borderTopWidth,10),ce=parseInt(W.paddingTop,10),le=parseInt(W.borderBottomWidth,10),Y=parseInt(W.paddingBottom,10),Q=ae+ce+M+Y+le,fe=Math.min(_.offsetHeight*5,Q),ye=window.getComputedStyle(y),F=parseInt(ye.paddingTop,10),X=parseInt(ye.paddingBottom,10),J=D.top+D.height/2-Mo,ie=L-J,oe=_.offsetHeight/2,re=_.offsetTop+oe,ge=ae+ce+re,me=Q-ge;if(ge<=J){const Ee=I.length>0&&_===I[I.length-1].ref.current;a.style.bottom="0px";const Le=c.clientHeight-y.offsetTop-y.offsetHeight,Fe=Math.max(ie,oe+(Ee?X:0)+Le+le),Se=ge+Fe;a.style.height=Se+"px"}else{const Ee=I.length>0&&_===I[0].ref.current;a.style.top="0px";const Fe=Math.max(J,ae+y.offsetTop+(Ee?F:0)+oe)+me;a.style.height=Fe+"px",y.scrollTop=ge-J+y.offsetTop}a.style.margin=`${Mo}px 0`,a.style.minHeight=fe+"px",a.style.maxHeight=L+"px",r==null||r(),requestAnimationFrame(()=>d.current=!0)}},[p,s.trigger,s.valueNode,a,c,y,_,w,s.dir,r]);Fr(()=>E(),[E]);const[k,B]=C.useState();Fr(()=>{c&&B(window.getComputedStyle(c).zIndex)},[c]);const G=C.useCallback(D=>{D&&b.current===!0&&(E(),S==null||S(),b.current=!1)},[E,S]);return v.jsx(_he,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:d,onScrollButtonChange:G,children:v.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:v.jsx(kt.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});WF.displayName=vhe;var whe="SelectPopperPosition",xx=C.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Mo,...s}=t,o=Y2(n);return v.jsx(lE,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});xx.displayName=whe;var[_he,aT]=dp(Bh,{}),Sx="SelectViewport",GF=C.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Ru(Sx,n),o=aT(Sx,n),a=Sn(e,s.onViewportChange),l=C.useRef(0);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),v.jsx(G2.Slot,{scope:n,children:v.jsx(kt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:He(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&h){const d=Math.abs(l.current-u.scrollTop);if(d>0){const b=window.innerHeight-Mo*2,y=parseFloat(h.style.minHeight),_=parseFloat(h.style.height),w=Math.max(y,_);if(w<b){const S=w+d,E=Math.min(b,S),k=S-E;h.style.height=E+"px",h.style.bottom==="0px"&&(u.scrollTop=k>0?k:0,h.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});GF.displayName=Sx;var KF="SelectGroup",[bhe,xhe]=dp(KF),She=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Ph();return v.jsx(bhe,{scope:n,id:i,children:v.jsx(kt.div,{role:"group","aria-labelledby":i,...r,ref:e})})});She.displayName=KF;var YF="SelectLabel",XF=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=xhe(YF,n);return v.jsx(kt.div,{id:i.id,...r,ref:e})});XF.displayName=YF;var Ev="SelectItem",[Ehe,QF]=dp(Ev),JF=C.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=ku(Ev,n),l=Ru(Ev,n),c=a.value===r,[u,h]=C.useState(s??""),[p,d]=C.useState(!1),b=Sn(e,S=>{var E;return(E=l.itemRefCallback)==null?void 0:E.call(l,S,r,i)}),y=Ph(),_=C.useRef("touch"),w=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return v.jsx(Ehe,{scope:n,value:r,disabled:i,textId:y,isSelected:c,onItemTextChange:C.useCallback(S=>{h(E=>E||((S==null?void 0:S.textContent)??"").trim())},[]),children:v.jsx(G2.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:v.jsx(kt.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:b,onFocus:He(o.onFocus,()=>d(!0)),onBlur:He(o.onBlur,()=>d(!1)),onClick:He(o.onClick,()=>{_.current!=="mouse"&&w()}),onPointerUp:He(o.onPointerUp,()=>{_.current==="mouse"&&w()}),onPointerDown:He(o.onPointerDown,S=>{_.current=S.pointerType}),onPointerMove:He(o.onPointerMove,S=>{var E;_.current=S.pointerType,i?(E=l.onItemLeave)==null||E.call(l):_.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:He(o.onPointerLeave,S=>{var E;S.currentTarget===document.activeElement&&((E=l.onItemLeave)==null||E.call(l))}),onKeyDown:He(o.onKeyDown,S=>{var k;((k=l.searchRef)==null?void 0:k.current)!==""&&S.key===" "||(che.includes(S.key)&&w(),S.key===" "&&S.preventDefault())})})})})});JF.displayName=Ev;var om="SelectItemText",ZF=C.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=ku(om,n),a=Ru(om,n),l=QF(om,n),c=fhe(om,n),[u,h]=C.useState(null),p=Sn(e,w=>h(w),l.onItemTextChange,w=>{var S;return(S=a.itemTextRefCallback)==null?void 0:S.call(a,w,l.value,l.disabled)}),d=u==null?void 0:u.textContent,b=C.useMemo(()=>v.jsx("option",{value:l.value,disabled:l.disabled,children:d},l.value),[l.disabled,l.value,d]),{onNativeOptionAdd:y,onNativeOptionRemove:_}=c;return Fr(()=>(y(b),()=>_(b)),[y,_,b]),v.jsxs(v.Fragment,{children:[v.jsx(kt.span,{id:l.textId,...s,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Kh.createPortal(s.children,o.valueNode):null]})});ZF.displayName=om;var e9="SelectItemIndicator",t9=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return QF(e9,n).isSelected?v.jsx(kt.span,{"aria-hidden":!0,...r,ref:e}):null});t9.displayName=e9;var Ex="SelectScrollUpButton",n9=C.forwardRef((t,e)=>{const n=Ru(Ex,t.__scopeSelect),r=aT(Ex,t.__scopeSelect),[i,s]=C.useState(!1),o=Sn(e,r.onScrollButtonChange);return Fr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?v.jsx(i9,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});n9.displayName=Ex;var Ax="SelectScrollDownButton",r9=C.forwardRef((t,e)=>{const n=Ru(Ax,t.__scopeSelect),r=aT(Ax,t.__scopeSelect),[i,s]=C.useState(!1),o=Sn(e,r.onScrollButtonChange);return Fr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?v.jsx(i9,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});r9.displayName=Ax;var i9=C.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Ru("SelectScrollButton",n),o=C.useRef(null),a=K2(n),l=C.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return C.useEffect(()=>()=>l(),[l]),Fr(()=>{var u;const c=a().find(h=>h.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),v.jsx(kt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:He(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:He(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:He(i.onPointerLeave,()=>{l()})})}),Ahe="SelectSeparator",s9=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return v.jsx(kt.div,{"aria-hidden":!0,...r,ref:e})});s9.displayName=Ahe;var Tx="SelectArrow",The=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Y2(n),s=ku(Tx,n),o=Ru(Tx,n);return s.open&&o.position==="popper"?v.jsx(cE,{...i,...r,ref:e}):null});The.displayName=Tx;var Ihe="SelectBubbleInput",o9=C.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=C.useRef(null),s=Sn(r,i),o=xue(e);return C.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&u){const h=new Event("change",{bubbles:!0});u.call(a,e),a.dispatchEvent(h)}},[o,e]),v.jsx(kt.select,{...n,style:{...PL,...n.style},ref:s,defaultValue:e})});o9.displayName=Ihe;function a9(t){return t===""||t===void 0}function l9(t){const e=Ki(t),n=C.useRef(""),r=C.useRef(0),i=C.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=C.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function c9(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=Che(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Che(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Nhe=OF,u9=FF,Phe=UF,khe=BF,Rhe=zF,h9=$F,Lhe=GF,d9=XF,f9=JF,Dhe=ZF,Mhe=t9,p9=n9,m9=r9,g9=s9;const ay=Nhe,ly=Phe,Lm=C.forwardRef(({className:t,children:e,...n},r)=>v.jsxs(u9,{ref:r,className:$t("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,v.jsx(khe,{asChild:!0,children:v.jsx(eD,{className:"h-4 w-4 opacity-50"})})]}));Lm.displayName=u9.displayName;const y9=C.forwardRef(({className:t,...e},n)=>v.jsx(p9,{ref:n,className:$t("flex cursor-default items-center justify-center py-1",t),...e,children:v.jsx(Qq,{className:"h-4 w-4"})}));y9.displayName=p9.displayName;const v9=C.forwardRef(({className:t,...e},n)=>v.jsx(m9,{ref:n,className:$t("flex cursor-default items-center justify-center py-1",t),...e,children:v.jsx(eD,{className:"h-4 w-4"})}));v9.displayName=m9.displayName;const Dm=C.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>v.jsx(Rhe,{children:v.jsxs(h9,{ref:i,className:$t("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[v.jsx(y9,{}),v.jsx(Lhe,{className:$t("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),v.jsx(v9,{})]})}));Dm.displayName=h9.displayName;const Ohe=C.forwardRef(({className:t,...e},n)=>v.jsx(d9,{ref:n,className:$t("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Ohe.displayName=d9.displayName;const ri=C.forwardRef(({className:t,children:e,...n},r)=>v.jsxs(f9,{ref:r,className:$t("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(Mhe,{children:v.jsx(ZL,{className:"h-4 w-4"})})}),v.jsx(Dhe,{children:e})]}));ri.displayName=f9.displayName;const jhe=C.forwardRef(({className:t,...e},n)=>v.jsx(g9,{ref:n,className:$t("-mx-1 my-1 h-px bg-muted",t),...e}));jhe.displayName=g9.displayName;const Fhe=()=>{const t=Su(),{signIn:e,signUp:n}=Ga(),{toast:r}=Ug(),[i,s]=C.useState(!1),[o,a]=C.useState({email:"",password:""}),[l,c]=C.useState({email:"",password:"",name:"",role:"faculty",department:""}),u=async p=>{p.preventDefault(),s(!0);try{await e(o.email,o.password),r({title:"Welcome back!",description:"Signed in successfully"}),t("/dashboard")}catch(d){r({title:"Error",description:d.message||"Failed to sign in",variant:"destructive"})}finally{s(!1)}},h=async p=>{p.preventDefault(),s(!0);try{await n(l.email,l.password,l.name,l.role,l.department),r({title:"Account created!",description:"Welcome to FDP Portal"}),t("/dashboard")}catch(d){r({title:"Error",description:d.message||"Failed to create account",variant:"destructive"})}finally{s(!1)}};return v.jsxs("div",{className:"min-h-screen flex items-center justify-center p-6 relative overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 gradient-hero opacity-10 animate-pulse-slow"}),v.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(66,153,225,0.1),transparent_70%)]"}),v.jsxs(xn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md relative",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("div",{className:"w-16 h-16 rounded-2xl gradient-primary flex items-center justify-center mx-auto mb-4 shadow-glow",children:v.jsx(iD,{className:"w-8 h-8 text-primary-foreground"})}),v.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary via-accent to-secondary bg-clip-text text-transparent",children:"FDP Portal"}),v.jsx("p",{className:"text-muted-foreground mt-2",children:"Faculty Development Management"})]}),v.jsxs(Sr,{className:"border-border/50 shadow-xl bg-card/80 backdrop-blur",children:[v.jsxs(Rr,{children:[v.jsx(Lr,{children:"Welcome"}),v.jsx(yo,{children:"Sign in to your account or create a new one"})]}),v.jsx(Er,{children:v.jsxs(pue,{defaultValue:"signin",children:[v.jsxs(EF,{className:"grid w-full grid-cols-2",children:[v.jsx(wx,{value:"signin",children:"Sign In"}),v.jsx(wx,{value:"signup",children:"Sign Up"})]}),v.jsx(_x,{value:"signin",children:v.jsxs("form",{onSubmit:u,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(zn,{htmlFor:"signin-email",children:"Email"}),v.jsx(Hr,{id:"signin-email",type:"email",placeholder:"your.email@institution.edu",value:o.email,onChange:p=>a({...o,email:p.target.value}),required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(zn,{htmlFor:"signin-password",children:"Password"}),v.jsx(Hr,{id:"signin-password",type:"password",value:o.password,onChange:p=>a({...o,password:p.target.value}),required:!0})]}),v.jsx(Cr,{type:"submit",className:"w-full gradient-primary text-primary-foreground",disabled:i,children:i?"Signing in...":"Sign In"})]})}),v.jsx(_x,{value:"signup",children:v.jsxs("form",{onSubmit:h,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(zn,{htmlFor:"signup-name",children:"Full Name"}),v.jsx(Hr,{id:"signup-name",placeholder:"Dr. John Doe",value:l.name,onChange:p=>c({...l,name:p.target.value}),required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(zn,{htmlFor:"signup-email",children:"Email"}),v.jsx(Hr,{id:"signup-email",type:"email",placeholder:"your.email@institution.edu",value:l.email,onChange:p=>c({...l,email:p.target.value}),required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(zn,{htmlFor:"signup-password",children:"Password"}),v.jsx(Hr,{id:"signup-password",type:"password",value:l.password,onChange:p=>c({...l,password:p.target.value}),required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(zn,{htmlFor:"role",children:"Role"}),v.jsxs(ay,{value:l.role,onValueChange:p=>c({...l,role:p}),children:[v.jsx(Lm,{id:"role",children:v.jsx(ly,{})}),v.jsxs(Dm,{children:[v.jsx(ri,{value:"faculty",children:"Faculty"}),v.jsx(ri,{value:"hod",children:"HOD"}),v.jsx(ri,{value:"iqac",children:"IQAC"})]})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(zn,{htmlFor:"department",children:"Department"}),v.jsx(Hr,{id:"department",placeholder:"Computer Science",value:l.department,onChange:p=>c({...l,department:p.target.value}),required:!0})]}),v.jsx(Cr,{type:"submit",className:"w-full gradient-primary text-primary-foreground",disabled:i,children:i?"Creating account...":"Create Account"})]})})]})})]})]})]})},Vhe=t2("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ix({className:t,variant:e,...n}){return v.jsx("div",{className:$t(Vhe({variant:e}),t),...n})}var w9={exports:{}},_9={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wf=C;function Uhe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bhe=typeof Object.is=="function"?Object.is:Uhe,zhe=Wf.useState,$he=Wf.useEffect,qhe=Wf.useLayoutEffect,Hhe=Wf.useDebugValue;function Whe(t,e){var n=e(),r=zhe({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return qhe(function(){i.value=n,i.getSnapshot=e,U_(i)&&s({inst:i})},[t,n,e]),$he(function(){return U_(i)&&s({inst:i}),t(function(){U_(i)&&s({inst:i})})},[t]),Hhe(n),n}function U_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Bhe(t,n)}catch{return!0}}function Ghe(t,e){return e()}var Khe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ghe:Whe;_9.useSyncExternalStore=Wf.useSyncExternalStore!==void 0?Wf.useSyncExternalStore:Khe;w9.exports=_9;var Yhe=w9.exports;function Xhe(){return Yhe.useSyncExternalStore(Qhe,()=>!0,()=>!1)}function Qhe(){return()=>{}}var lT="Avatar",[Jhe,Y0e]=ea(lT),[Zhe,b9]=Jhe(lT),x9=C.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=C.useState("idle");return v.jsx(Zhe,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:v.jsx(kt.span,{...r,ref:e})})});x9.displayName=lT;var S9="AvatarImage",E9=C.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,o=b9(S9,n),a=ede(r,s),l=Ki(c=>{i(c),o.onImageLoadingStatusChange(c)});return Fr(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?v.jsx(kt.img,{...s,ref:e,src:r}):null});E9.displayName=S9;var A9="AvatarFallback",T9=C.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=b9(A9,n),[o,a]=C.useState(r===void 0);return C.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&s.imageLoadingStatus!=="loaded"?v.jsx(kt.span,{...i,ref:e}):null});T9.displayName=A9;function T3(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function ede(t,{referrerPolicy:e,crossOrigin:n}){const r=Xhe(),i=C.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[o,a]=C.useState(()=>T3(s,t));return Fr(()=>{a(T3(s,t))},[s,t]),Fr(()=>{const l=h=>()=>{a(h)};if(!s)return;const c=l("loaded"),u=l("error");return s.addEventListener("load",c),s.addEventListener("error",u),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",c),s.removeEventListener("error",u)}},[s,n,e]),o}var I9=x9,C9=E9,N9=T9;const cT=C.forwardRef(({className:t,...e},n)=>v.jsx(I9,{ref:n,className:$t("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));cT.displayName=I9.displayName;const uT=C.forwardRef(({className:t,...e},n)=>v.jsx(C9,{ref:n,className:$t("aspect-square h-full w-full",t),...e}));uT.displayName=C9.displayName;const hT=C.forwardRef(({className:t,...e},n)=>v.jsx(N9,{ref:n,className:$t("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));hT.displayName=N9.displayName;var Cx=["Enter"," "],tde=["ArrowDown","PageUp","Home"],P9=["ArrowUp","PageDown","End"],nde=[...tde,...P9],rde={ltr:[...Cx,"ArrowRight"],rtl:[...Cx,"ArrowLeft"]},ide={ltr:["ArrowLeft"],rtl:["ArrowRight"]},u0="Menu",[Sg,sde,ode]=Qv(u0),[rd,k9]=ea(u0,[ode,np,q2]),X2=np(),R9=q2(),[ade,id]=rd(u0),[lde,h0]=rd(u0),L9=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,a=X2(e),[l,c]=C.useState(null),u=C.useRef(!1),h=Ki(s),p=$2(i);return C.useEffect(()=>{const d=()=>{u.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>u.current=!1;return document.addEventListener("keydown",d,{capture:!0}),()=>{document.removeEventListener("keydown",d,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),v.jsx(VD,{...a,children:v.jsx(ade,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:c,children:v.jsx(lde,{scope:e,onClose:C.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:p,modal:o,children:r})})})};L9.displayName=u0;var cde="MenuAnchor",dT=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=X2(n);return v.jsx(aE,{...i,...r,ref:e})});dT.displayName=cde;var fT="MenuPortal",[ude,D9]=rd(fT,{forceMount:void 0}),M9=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=id(fT,e);return v.jsx(ude,{scope:e,forceMount:n,children:v.jsx(xu,{present:n||s.open,children:v.jsx(Jv,{asChild:!0,container:i,children:r})})})};M9.displayName=fT;var vo="MenuContent",[hde,pT]=rd(vo),O9=C.forwardRef((t,e)=>{const n=D9(vo,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=id(vo,t.__scopeMenu),o=h0(vo,t.__scopeMenu);return v.jsx(Sg.Provider,{scope:t.__scopeMenu,children:v.jsx(xu,{present:r||s.open,children:v.jsx(Sg.Slot,{scope:t.__scopeMenu,children:o.modal?v.jsx(dde,{...i,ref:e}):v.jsx(fde,{...i,ref:e})})})})}),dde=C.forwardRef((t,e)=>{const n=id(vo,t.__scopeMenu),r=C.useRef(null),i=Sn(e,r);return C.useEffect(()=>{const s=r.current;if(s)return CF(s)},[]),v.jsx(mT,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:He(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),fde=C.forwardRef((t,e)=>{const n=id(vo,t.__scopeMenu);return v.jsx(mT,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),pde=Df("MenuContent.ScrollLock"),mT=C.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:p,onDismiss:d,disableOutsideScroll:b,...y}=t,_=id(vo,n),w=h0(vo,n),S=X2(n),E=R9(n),k=sde(n),[B,G]=C.useState(null),D=C.useRef(null),N=Sn(e,D,_.onContentChange),P=C.useRef(0),j=C.useRef(""),I=C.useRef(0),L=C.useRef(null),M=C.useRef("right"),W=C.useRef(0),ae=b?oT:C.Fragment,ce=b?{as:pde,allowPinchZoom:!0}:void 0,le=Q=>{var re,ge;const fe=j.current+Q,ye=k().filter(me=>!me.disabled),F=document.activeElement,X=(re=ye.find(me=>me.ref.current===F))==null?void 0:re.textValue,J=ye.map(me=>me.textValue),ie=Tde(J,fe,X),oe=(ge=ye.find(me=>me.textValue===ie))==null?void 0:ge.ref.current;(function me(xe){j.current=xe,window.clearTimeout(P.current),xe!==""&&(P.current=window.setTimeout(()=>me(""),1e3))})(fe),oe&&setTimeout(()=>oe.focus())};C.useEffect(()=>()=>window.clearTimeout(P.current),[]),AF();const Y=C.useCallback(Q=>{var ye,F;return M.current===((ye=L.current)==null?void 0:ye.side)&&Cde(Q,(F=L.current)==null?void 0:F.area)},[]);return v.jsx(hde,{scope:n,searchRef:j,onItemEnter:C.useCallback(Q=>{Y(Q)&&Q.preventDefault()},[Y]),onItemLeave:C.useCallback(Q=>{var fe;Y(Q)||((fe=D.current)==null||fe.focus(),G(null))},[Y]),onTriggerLeave:C.useCallback(Q=>{Y(Q)&&Q.preventDefault()},[Y]),pointerGraceTimerRef:I,onPointerGraceIntentChange:C.useCallback(Q=>{L.current=Q},[]),children:v.jsx(ae,{...ce,children:v.jsx(sT,{asChild:!0,trapped:i,onMountAutoFocus:He(s,Q=>{var fe;Q.preventDefault(),(fe=D.current)==null||fe.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:v.jsx(Bg,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:p,onDismiss:d,children:v.jsx(cF,{asChild:!0,...E,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:B,onCurrentTabStopIdChange:G,onEntryFocus:He(l,Q=>{w.isUsingKeyboardRef.current||Q.preventDefault()}),preventScrollOnEntryFocus:!0,children:v.jsx(lE,{role:"menu","aria-orientation":"vertical","data-state":J9(_.open),"data-radix-menu-content":"",dir:w.dir,...S,...y,ref:N,style:{outline:"none",...y.style},onKeyDown:He(y.onKeyDown,Q=>{const ye=Q.target.closest("[data-radix-menu-content]")===Q.currentTarget,F=Q.ctrlKey||Q.altKey||Q.metaKey,X=Q.key.length===1;ye&&(Q.key==="Tab"&&Q.preventDefault(),!F&&X&&le(Q.key));const J=D.current;if(Q.target!==J||!nde.includes(Q.key))return;Q.preventDefault();const oe=k().filter(re=>!re.disabled).map(re=>re.ref.current);P9.includes(Q.key)&&oe.reverse(),Ede(oe)}),onBlur:He(t.onBlur,Q=>{Q.currentTarget.contains(Q.target)||(window.clearTimeout(P.current),j.current="")}),onPointerMove:He(t.onPointerMove,Eg(Q=>{const fe=Q.target,ye=W.current!==Q.clientX;if(Q.currentTarget.contains(fe)&&ye){const F=Q.clientX>W.current?"right":"left";M.current=F,W.current=Q.clientX}}))})})})})})})});O9.displayName=vo;var mde="MenuGroup",gT=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return v.jsx(kt.div,{role:"group",...r,ref:e})});gT.displayName=mde;var gde="MenuLabel",j9=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return v.jsx(kt.div,{...r,ref:e})});j9.displayName=gde;var Av="MenuItem",I3="menu.itemSelect",Q2=C.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=C.useRef(null),o=h0(Av,t.__scopeMenu),a=pT(Av,t.__scopeMenu),l=Sn(e,s),c=C.useRef(!1),u=()=>{const h=s.current;if(!n&&h){const p=new CustomEvent(I3,{bubbles:!0,cancelable:!0});h.addEventListener(I3,d=>r==null?void 0:r(d),{once:!0}),qS(h,p),p.defaultPrevented?c.current=!1:o.onClose()}};return v.jsx(F9,{...i,ref:l,disabled:n,onClick:He(t.onClick,u),onPointerDown:h=>{var p;(p=t.onPointerDown)==null||p.call(t,h),c.current=!0},onPointerUp:He(t.onPointerUp,h=>{var p;c.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:He(t.onKeyDown,h=>{const p=a.searchRef.current!=="";n||p&&h.key===" "||Cx.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Q2.displayName=Av;var F9=C.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=pT(Av,n),a=R9(n),l=C.useRef(null),c=Sn(e,l),[u,h]=C.useState(!1),[p,d]=C.useState("");return C.useEffect(()=>{const b=l.current;b&&d((b.textContent??"").trim())},[s.children]),v.jsx(Sg.ItemSlot,{scope:n,disabled:r,textValue:i??p,children:v.jsx(uF,{asChild:!0,...a,focusable:!r,children:v.jsx(kt.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:He(t.onPointerMove,Eg(b=>{r?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:He(t.onPointerLeave,Eg(b=>o.onItemLeave(b))),onFocus:He(t.onFocus,()=>h(!0)),onBlur:He(t.onBlur,()=>h(!1))})})})}),yde="MenuCheckboxItem",V9=C.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return v.jsx(q9,{scope:t.__scopeMenu,checked:n,children:v.jsx(Q2,{role:"menuitemcheckbox","aria-checked":Tv(n)?"mixed":n,...i,ref:e,"data-state":vT(n),onSelect:He(i.onSelect,()=>r==null?void 0:r(Tv(n)?!0:!n),{checkForDefaultPrevented:!1})})})});V9.displayName=yde;var U9="MenuRadioGroup",[vde,wde]=rd(U9,{value:void 0,onValueChange:()=>{}}),B9=C.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=Ki(r);return v.jsx(vde,{scope:t.__scopeMenu,value:n,onValueChange:s,children:v.jsx(gT,{...i,ref:e})})});B9.displayName=U9;var z9="MenuRadioItem",$9=C.forwardRef((t,e)=>{const{value:n,...r}=t,i=wde(z9,t.__scopeMenu),s=n===i.value;return v.jsx(q9,{scope:t.__scopeMenu,checked:s,children:v.jsx(Q2,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":vT(s),onSelect:He(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});$9.displayName=z9;var yT="MenuItemIndicator",[q9,_de]=rd(yT,{checked:!1}),H9=C.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=_de(yT,n);return v.jsx(xu,{present:r||Tv(s.checked)||s.checked===!0,children:v.jsx(kt.span,{...i,ref:e,"data-state":vT(s.checked)})})});H9.displayName=yT;var bde="MenuSeparator",W9=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return v.jsx(kt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});W9.displayName=bde;var xde="MenuArrow",G9=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=X2(n);return v.jsx(cE,{...i,...r,ref:e})});G9.displayName=xde;var Sde="MenuSub",[X0e,K9]=rd(Sde),am="MenuSubTrigger",Y9=C.forwardRef((t,e)=>{const n=id(am,t.__scopeMenu),r=h0(am,t.__scopeMenu),i=K9(am,t.__scopeMenu),s=pT(am,t.__scopeMenu),o=C.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:t.__scopeMenu},u=C.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return C.useEffect(()=>u,[u]),C.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),v.jsx(dT,{asChild:!0,...c,children:v.jsx(F9,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":J9(n.open),...t,ref:Xv(e,i.onTriggerChange),onClick:h=>{var p;(p=t.onClick)==null||p.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:He(t.onPointerMove,Eg(h=>{s.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:He(t.onPointerLeave,Eg(h=>{var d,b;u();const p=(d=n.content)==null?void 0:d.getBoundingClientRect();if(p){const y=(b=n.content)==null?void 0:b.dataset.side,_=y==="right",w=_?-5:5,S=p[_?"left":"right"],E=p[_?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+w,y:h.clientY},{x:S,y:p.top},{x:E,y:p.top},{x:E,y:p.bottom},{x:S,y:p.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:He(t.onKeyDown,h=>{var d;const p=s.searchRef.current!=="";t.disabled||p&&h.key===" "||rde[r.dir].includes(h.key)&&(n.onOpenChange(!0),(d=n.content)==null||d.focus(),h.preventDefault())})})})});Y9.displayName=am;var X9="MenuSubContent",Q9=C.forwardRef((t,e)=>{const n=D9(vo,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=id(vo,t.__scopeMenu),o=h0(vo,t.__scopeMenu),a=K9(X9,t.__scopeMenu),l=C.useRef(null),c=Sn(e,l);return v.jsx(Sg.Provider,{scope:t.__scopeMenu,children:v.jsx(xu,{present:r||s.open,children:v.jsx(Sg.Slot,{scope:t.__scopeMenu,children:v.jsx(mT,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:He(t.onFocusOutside,u=>{u.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:He(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:He(t.onKeyDown,u=>{var d;const h=u.currentTarget.contains(u.target),p=ide[o.dir].includes(u.key);h&&p&&(s.onOpenChange(!1),(d=a.trigger)==null||d.focus(),u.preventDefault())})})})})})});Q9.displayName=X9;function J9(t){return t?"open":"closed"}function Tv(t){return t==="indeterminate"}function vT(t){return Tv(t)?"indeterminate":t?"checked":"unchecked"}function Ede(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Ade(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Tde(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=Ade(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Ide(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,u=a.y,h=l.x,p=l.y;u>r!=p>r&&n<(h-c)*(r-u)/(p-u)+c&&(i=!i)}return i}function Cde(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Ide(n,e)}function Eg(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Nde=L9,Pde=dT,kde=M9,Rde=O9,Lde=gT,Dde=j9,Mde=Q2,Ode=V9,jde=B9,Fde=$9,Vde=H9,Ude=W9,Bde=G9,zde=Y9,$de=Q9,J2="DropdownMenu",[qde,Q0e]=ea(J2,[k9]),Qi=k9(),[Hde,Z9]=qde(J2),eV=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=Qi(e),c=C.useRef(null),[u,h]=Mf({prop:i,defaultProp:s??!1,onChange:o,caller:J2});return v.jsx(Hde,{scope:e,triggerId:Ph(),triggerRef:c,contentId:Ph(),open:u,onOpenChange:h,onOpenToggle:C.useCallback(()=>h(p=>!p),[h]),modal:a,children:v.jsx(Nde,{...l,open:u,onOpenChange:h,dir:r,modal:a,children:n})})};eV.displayName=J2;var tV="DropdownMenuTrigger",nV=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=Z9(tV,n),o=Qi(n);return v.jsx(Pde,{asChild:!0,...o,children:v.jsx(kt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Xv(e,s.triggerRef),onPointerDown:He(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:He(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});nV.displayName=tV;var Wde="DropdownMenuPortal",rV=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Qi(e);return v.jsx(kde,{...r,...n})};rV.displayName=Wde;var iV="DropdownMenuContent",sV=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Z9(iV,n),s=Qi(n),o=C.useRef(!1);return v.jsx(Rde,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:He(t.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:He(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sV.displayName=iV;var Gde="DropdownMenuGroup",Kde=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qi(n);return v.jsx(Lde,{...i,...r,ref:e})});Kde.displayName=Gde;var Yde="DropdownMenuLabel",oV=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qi(n);return v.jsx(Dde,{...i,...r,ref:e})});oV.displayName=Yde;var Xde="DropdownMenuItem",aV=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qi(n);return v.jsx(Mde,{...i,...r,ref:e})});aV.displayName=Xde;var Qde="DropdownMenuCheckboxItem",lV=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qi(n);return v.jsx(Ode,{...i,...r,ref:e})});lV.displayName=Qde;var Jde="DropdownMenuRadioGroup",Zde=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qi(n);return v.jsx(jde,{...i,...r,ref:e})});Zde.displayName=Jde;var efe="DropdownMenuRadioItem",cV=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qi(n);return v.jsx(Fde,{...i,...r,ref:e})});cV.displayName=efe;var tfe="DropdownMenuItemIndicator",uV=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qi(n);return v.jsx(Vde,{...i,...r,ref:e})});uV.displayName=tfe;var nfe="DropdownMenuSeparator",hV=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qi(n);return v.jsx(Ude,{...i,...r,ref:e})});hV.displayName=nfe;var rfe="DropdownMenuArrow",ife=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qi(n);return v.jsx(Bde,{...i,...r,ref:e})});ife.displayName=rfe;var sfe="DropdownMenuSubTrigger",dV=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qi(n);return v.jsx(zde,{...i,...r,ref:e})});dV.displayName=sfe;var ofe="DropdownMenuSubContent",fV=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Qi(n);return v.jsx($de,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});fV.displayName=ofe;var afe=eV,lfe=nV,cfe=rV,pV=sV,mV=oV,gV=aV,yV=lV,vV=cV,wV=uV,_V=hV,bV=dV,xV=fV;const C3=afe,N3=lfe,ufe=C.forwardRef(({className:t,inset:e,children:n,...r},i)=>v.jsxs(bV,{ref:i,className:$t("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...r,children:[n,v.jsx(Xq,{className:"ml-auto h-4 w-4"})]}));ufe.displayName=bV.displayName;const hfe=C.forwardRef(({className:t,...e},n)=>v.jsx(xV,{ref:n,className:$t("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));hfe.displayName=xV.displayName;const Nx=C.forwardRef(({className:t,sideOffset:e=4,...n},r)=>v.jsx(cfe,{children:v.jsx(pV,{ref:r,sideOffset:e,className:$t("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Nx.displayName=pV.displayName;const cy=C.forwardRef(({className:t,inset:e,...n},r)=>v.jsx(gV,{ref:r,className:$t("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...n}));cy.displayName=gV.displayName;const dfe=C.forwardRef(({className:t,children:e,checked:n,...r},i)=>v.jsxs(yV,{ref:i,className:$t("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:n,...r,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(wV,{children:v.jsx(ZL,{className:"h-4 w-4"})})}),e]}));dfe.displayName=yV.displayName;const ffe=C.forwardRef(({className:t,children:e,...n},r)=>v.jsxs(vV,{ref:r,className:$t("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(wV,{children:v.jsx(Zq,{className:"h-2 w-2 fill-current"})})}),e]}));ffe.displayName=vV.displayName;const Px=C.forwardRef(({className:t,inset:e,...n},r)=>v.jsx(mV,{ref:r,className:$t("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));Px.displayName=mV.displayName;const kx=C.forwardRef(({className:t,...e},n)=>v.jsx(_V,{ref:n,className:$t("-mx-1 my-1 h-px bg-muted",t),...e}));kx.displayName=_V.displayName;const wT=()=>{const{user:t}=Ga(),[e,n]=C.useState([]),[r,i]=C.useState(0);return C.useEffect(()=>{if(!t)return;const a=Oh(Wo(fr,"notifications"),mu("userId","==",t.uid)),l=i0(a,c=>{const u=c.docs.map(p=>({id:p.id,...p.data()}));u.sort((p,d)=>d.createdAt-p.createdAt),n(u),i(u.filter(p=>!p.read).length);const h=u.find(p=>!p.read);h&&e.length>0&&_l({title:h.title,description:h.message,variant:h.type==="error"?"destructive":"default"})});return()=>l()},[t]),{notifications:e,unreadCount:r,markAsRead:async a=>{if(!t)return;const l=xo(fr,"notifications",a),c=e.find(u=>u.id===a);c&&await cA(l,{...c,read:!0},{merge:!0})},createNotification:async(a,l,c,u="info")=>{await uA(Wo(fr,"notifications"),{userId:a,title:l,message:c,type:u,read:!1,createdAt:Date.now()})}}},zh=()=>{const{user:t,userRole:e,signOut:n}=Ga(),{notifications:r,unreadCount:i,markAsRead:s}=wT(),o=Su(),[a,l]=C.useState("");return C.useEffect(()=>{(async()=>{if(t){const u=await O2(xo(fr,"profiles",t.uid));u.exists()&&l(u.data().photoUrl||"")}})()},[t]),v.jsx("nav",{className:"border-b border-border bg-card/50 backdrop-blur-xl sticky top-0 z-50",children:v.jsx("div",{className:"container mx-auto px-6 py-4",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs(_m,{to:"/",className:"flex items-center gap-3 group",children:[v.jsx("div",{className:"w-10 h-10 rounded-xl gradient-primary flex items-center justify-center shadow-glow transition-transform group-hover:scale-110",children:v.jsx(iD,{className:"w-6 h-6 text-primary-foreground"})}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-primary via-accent to-secondary bg-clip-text text-transparent",children:"FDP Portal"}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"Faculty Development"})]})]}),t&&v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[v.jsx(_m,{to:"/dashboard",children:v.jsx(Cr,{variant:"ghost",size:"sm",children:"Dashboard"})}),(e==="hod"||e==="iqac")&&v.jsx(_m,{to:"/review",children:v.jsx(Cr,{variant:"ghost",size:"sm",children:"Review Queue"})})]}),v.jsxs(C3,{children:[v.jsx(N3,{asChild:!0,children:v.jsxs(Cr,{variant:"ghost",size:"icon",className:"relative",children:[v.jsx(Gq,{className:"w-5 h-5"}),i>0&&v.jsx(Ix,{className:"absolute -top-1 -right-1 h-5 w-5 p-0 flex items-center justify-center text-[10px] gradient-primary text-primary-foreground border-0",children:i})]})}),v.jsxs(Nx,{align:"end",className:"w-80 max-h-96 overflow-y-auto",children:[v.jsx(Px,{children:"Notifications"}),v.jsx(kx,{}),r.length===0?v.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No notifications"}):r.slice(0,10).map(c=>v.jsxs(cy,{className:"flex flex-col items-start p-3 cursor-pointer focus:bg-muted",onClick:()=>s(c.id),children:[v.jsxs("div",{className:"flex items-center gap-2 w-full mb-1",children:[v.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${c.read?"bg-muted-foreground/30":"bg-primary"}`}),v.jsx("span",{className:"font-medium text-sm",children:c.title})]}),v.jsx("p",{className:"text-xs text-muted-foreground ml-4 line-clamp-2",children:c.message})]},c.id))]})]}),v.jsxs(C3,{children:[v.jsx(N3,{asChild:!0,children:v.jsx(Cr,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:v.jsxs(cT,{children:[v.jsx(uT,{src:a,alt:"Profile"}),v.jsx(hT,{className:"gradient-primary text-primary-foreground",children:v.jsx(oD,{className:"h-4 w-4"})})]})})}),v.jsxs(Nx,{align:"end",className:"w-56",children:[v.jsx(Px,{children:v.jsxs("div",{className:"flex flex-col space-y-1",children:[v.jsx("p",{className:"text-sm font-medium",children:t.email}),v.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:e})]})}),v.jsx(kx,{}),v.jsxs(cy,{onClick:()=>o("/settings"),children:[v.jsx(oH,{className:"mr-2 h-4 w-4"}),"Profile Settings"]}),v.jsxs(cy,{onClick:()=>n(),children:[v.jsx(nH,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})]})]})]})})})};var _T="Progress",bT=100,[pfe,J0e]=ea(_T),[mfe,gfe]=pfe(_T),SV=C.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=yfe,...o}=t;(i||i===0)&&!P3(i)&&console.error(vfe(`${i}`,"Progress"));const a=P3(i)?i:bT;r!==null&&!k3(r,a)&&console.error(wfe(`${r}`,"Progress"));const l=k3(r,a)?r:null,c=Iv(l)?s(l,a):void 0;return v.jsx(mfe,{scope:n,value:l,max:a,children:v.jsx(kt.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Iv(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":TV(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});SV.displayName=_T;var EV="ProgressIndicator",AV=C.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=gfe(EV,n);return v.jsx(kt.div,{"data-state":TV(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});AV.displayName=EV;function yfe(t,e){return`${Math.round(t/e*100)}%`}function TV(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Iv(t){return typeof t=="number"}function P3(t){return Iv(t)&&!isNaN(t)&&t>0}function k3(t,e){return Iv(t)&&!isNaN(t)&&t<=e&&t>=0}function vfe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${bT}\`.`}function wfe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${bT} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var IV=SV,_fe=AV;const CV=C.forwardRef(({className:t,value:e,...n},r)=>v.jsx(IV,{ref:r,className:$t("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:v.jsx(_fe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));CV.displayName=IV.displayName;const bfe="modulepreload",xfe=function(t){return"/"+t},R3={},B_=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=xfe(l),l in R3)return;R3[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":bfe,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,d)=>{h.addEventListener("load",p),h.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function wn(t){"@babel/helpers - typeof";return wn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wn(t)}var Zo=Uint8Array,Fs=Uint16Array,xT=Int32Array,ST=new Zo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ET=new Zo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),L3=new Zo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),NV=function(t,e){for(var n=new Fs(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new xT(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},PV=NV(ST,2),Sfe=PV.b,Rx=PV.r;Sfe[28]=258,Rx[258]=28;var Efe=NV(ET,0),D3=Efe.r,Lx=new Fs(32768);for(var qn=0;qn<32768;++qn){var mc=(qn&43690)>>1|(qn&21845)<<1;mc=(mc&52428)>>2|(mc&13107)<<2,mc=(mc&61680)>>4|(mc&3855)<<4,Lx[qn]=((mc&65280)>>8|(mc&255)<<8)>>1}var Mm=function(t,e,n){for(var r=t.length,i=0,s=new Fs(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new Fs(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Fs(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],h=o[t[i]-1]++<<u,p=h|(1<<u)-1;h<=p;++h)a[Lx[h]>>l]=c}else for(a=new Fs(r),i=0;i<r;++i)t[i]&&(a[i]=Lx[o[t[i]-1]++]>>15-t[i]);return a},$h=new Zo(288);for(var qn=0;qn<144;++qn)$h[qn]=8;for(var qn=144;qn<256;++qn)$h[qn]=9;for(var qn=256;qn<280;++qn)$h[qn]=7;for(var qn=280;qn<288;++qn)$h[qn]=8;var Cv=new Zo(32);for(var qn=0;qn<32;++qn)Cv[qn]=5;var Afe=Mm($h,9,0),Tfe=Mm(Cv,5,0),kV=function(t){return(t+7)/8|0},Ife=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Zo(t.subarray(e,n))},dl=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Wp=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},z_=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:LV,l:0};if(i==1){var o=new Zo(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(B,G){return B.f-G.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,h=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[h].f?c++:h++],l=n[c!=u&&n[c].f<n[h].f?c++:h++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var p=s[0].s,r=1;r<i;++r)s[r].s>p&&(p=s[r].s);var d=new Fs(p+1),b=Dx(n[u-1],d,0);if(b>e){var r=0,y=0,_=b-e,w=1<<_;for(s.sort(function(G,D){return d[D.s]-d[G.s]||G.f-D.f});r<i;++r){var S=s[r].s;if(d[S]>e)y+=w-(1<<b-d[S]),d[S]=e;else break}for(y>>=_;y>0;){var E=s[r].s;d[E]<e?y-=1<<e-d[E]++-1:++r}for(;r>=0&&y;--r){var k=s[r].s;d[k]==e&&(--d[k],++y)}b=e}return{t:new Zo(d),l:b}},Dx=function(t,e,n){return t.s==-1?Math.max(Dx(t.l,e,n+1),Dx(t.r,e,n+1)):e[t.s]=n},M3=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Fs(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},Gp=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},RV=function(t,e,n){var r=n.length,i=kV(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},O3=function(t,e,n,r,i,s,o,a,l,c,u){dl(e,u++,n),++i[256];for(var h=z_(i,15),p=h.t,d=h.l,b=z_(s,15),y=b.t,_=b.l,w=M3(p),S=w.c,E=w.n,k=M3(y),B=k.c,G=k.n,D=new Fs(19),N=0;N<S.length;++N)++D[S[N]&31];for(var N=0;N<B.length;++N)++D[B[N]&31];for(var P=z_(D,7),j=P.t,I=P.l,L=19;L>4&&!j[L3[L-1]];--L);var M=c+5<<3,W=Gp(i,$h)+Gp(s,Cv)+o,ae=Gp(i,p)+Gp(s,y)+o+14+3*L+Gp(D,j)+2*D[16]+3*D[17]+7*D[18];if(l>=0&&M<=W&&M<=ae)return RV(e,u,t.subarray(l,l+c));var ce,le,Y,Q;if(dl(e,u,1+(ae<W)),u+=2,ae<W){ce=Mm(p,d,0),le=p,Y=Mm(y,_,0),Q=y;var fe=Mm(j,I,0);dl(e,u,E-257),dl(e,u+5,G-1),dl(e,u+10,L-4),u+=14;for(var N=0;N<L;++N)dl(e,u+3*N,j[L3[N]]);u+=3*L;for(var ye=[S,B],F=0;F<2;++F)for(var X=ye[F],N=0;N<X.length;++N){var J=X[N]&31;dl(e,u,fe[J]),u+=j[J],J>15&&(dl(e,u,X[N]>>5&127),u+=X[N]>>12)}}else ce=Afe,le=$h,Y=Tfe,Q=Cv;for(var N=0;N<a;++N){var ie=r[N];if(ie>255){var J=ie>>18&31;Wp(e,u,ce[J+257]),u+=le[J+257],J>7&&(dl(e,u,ie>>23&31),u+=ST[J]);var oe=ie&31;Wp(e,u,Y[oe]),u+=Q[oe],oe>3&&(Wp(e,u,ie>>5&8191),u+=ET[oe])}else Wp(e,u,ce[ie]),u+=le[ie]}return Wp(e,u,ce[256]),u+le[256]},Cfe=new xT([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),LV=new Zo(0),Nfe=function(t,e,n,r,i,s){var o=s.z||t.length,a=new Zo(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,u=(s.r||0)&7;if(e){u&&(l[0]=s.r>>3);for(var h=Cfe[e-1],p=h>>13,d=h&8191,b=(1<<n)-1,y=s.p||new Fs(32768),_=s.h||new Fs(b+1),w=Math.ceil(n/3),S=2*w,E=function(Se){return(t[Se]^t[Se+1]<<w^t[Se+2]<<S)&b},k=new xT(25e3),B=new Fs(288),G=new Fs(32),D=0,N=0,P=s.i||0,j=0,I=s.w||0,L=0;P+2<o;++P){var M=E(P),W=P&32767,ae=_[M];if(y[W]=ae,_[M]=W,I<=P){var ce=o-P;if((D>7e3||j>24576)&&(ce>423||!c)){u=O3(t,l,0,k,B,G,N,j,L,P-L,u),j=D=N=0,L=P;for(var le=0;le<286;++le)B[le]=0;for(var le=0;le<30;++le)G[le]=0}var Y=2,Q=0,fe=d,ye=W-ae&32767;if(ce>2&&M==E(P-ye))for(var F=Math.min(p,ce)-1,X=Math.min(32767,P),J=Math.min(258,ce);ye<=X&&--fe&&W!=ae;){if(t[P+Y]==t[P+Y-ye]){for(var ie=0;ie<J&&t[P+ie]==t[P+ie-ye];++ie);if(ie>Y){if(Y=ie,Q=ye,ie>F)break;for(var oe=Math.min(ye,ie-2),re=0,le=0;le<oe;++le){var ge=P-ye+le&32767,me=y[ge],xe=ge-me&32767;xe>re&&(re=xe,ae=ge)}}}W=ae,ae=y[W],ye+=W-ae&32767}if(Q){k[j++]=268435456|Rx[Y]<<18|D3[Q];var Ee=Rx[Y]&31,Le=D3[Q]&31;N+=ST[Ee]+ET[Le],++B[257+Ee],++G[Le],I=P+Y,++D}else k[j++]=t[P],++B[t[P]]}}for(P=Math.max(P,I);P<o;++P)k[j++]=t[P],++B[t[P]];u=O3(t,l,c,k,B,G,N,j,L,P-L,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=_,s.p=y,s.i=P,s.w=I)}else{for(var P=s.w||0;P<o+c;P+=65535){var Fe=P+65535;Fe>=o&&(l[u/8|0]=c,Fe=o),u=RV(l,u+1,t.subarray(P,Fe))}s.i=o}return Ife(a,0,r+kV(u)+i)},DV=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Pfe=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Zo(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return Nfe(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},MV=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},kfe=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=DV();i.p(e.dictionary),MV(t,2,i.d())}};function Mx(t,e){e||(e={});var n=DV();n.p(t);var r=Pfe(t,e,e.dictionary?6:2,4);return kfe(r,e),MV(r,r.length-4,n.d()),r}var Rfe=typeof TextDecoder<"u"&&new TextDecoder,Lfe=0;try{Rfe.decode(LV,{stream:!0}),Lfe=1}catch{}function Dfe(t){if(Array.isArray(t))return t}function Mfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function j3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ofe(t,e){if(t){if(typeof t=="string")return j3(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j3(t,e):void 0}}function jfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F3(t,e){return Dfe(t)||Mfe(t,e)||Ofe(t,e)||jfe()}function V3(t,e="utf8"){return new TextDecoder(e).decode(t)}const Ffe=new TextEncoder;function Vfe(t){return Ffe.encode(t)}const Ufe=1024*8,Bfe=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),$_={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class AT{constructor(e=Ufe,n={}){vn(this,"buffer");vn(this,"byteLength");vn(this,"byteOffset");vn(this,"length");vn(this,"offset");vn(this,"lastWrittenByte");vn(this,"littleEndian");vn(this,"_data");vn(this,"_mark");vn(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof AT)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=$_[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===Bfe&&n!=="uint8"&&n!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const l=new $_[n](a.buffer);return this.offset+=r,l.reverse(),l}const o=new $_[n](s);return this.offset+=r,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return V3(this.readBytes(e))}decodeText(e=1,n="utf8"){return V3(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(Vfe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const zfe=4,U3=0,B3=1,$fe=2;function fp(t){let e=t.length;for(;--e>=0;)t[e]=0}const qfe=0,OV=1,Hfe=2,Wfe=3,Gfe=258,TT=29,d0=256,Ag=d0+1+TT,pf=30,IT=19,jV=2*Ag+1,lh=15,q_=16,Kfe=7,CT=256,FV=16,VV=17,UV=18,Ox=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),uy=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Yfe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),BV=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Xfe=512,yl=new Array((Ag+2)*2);fp(yl);const Om=new Array(pf*2);fp(Om);const Tg=new Array(Xfe);fp(Tg);const Ig=new Array(Gfe-Wfe+1);fp(Ig);const NT=new Array(TT);fp(NT);const Nv=new Array(pf);fp(Nv);function H_(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}let zV,$V,qV;function W_(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const HV=t=>t<256?Tg[t]:Tg[256+(t>>>7)],Cg=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},fs=(t,e,n)=>{t.bi_valid>q_-n?(t.bi_buf|=e<<t.bi_valid&65535,Cg(t,t.bi_buf),t.bi_buf=e>>q_-t.bi_valid,t.bi_valid+=n-q_):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},Ia=(t,e,n)=>{fs(t,n[e*2],n[e*2+1])},WV=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},Qfe=t=>{t.bi_valid===16?(Cg(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},Jfe=(t,e)=>{const n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,l=e.stat_desc.max_length;let c,u,h,p,d,b,y=0;for(p=0;p<=lh;p++)t.bl_count[p]=0;for(n[t.heap[t.heap_max]*2+1]=0,c=t.heap_max+1;c<jV;c++)u=t.heap[c],p=n[n[u*2+1]*2+1]+1,p>l&&(p=l,y++),n[u*2+1]=p,!(u>r)&&(t.bl_count[p]++,d=0,u>=a&&(d=o[u-a]),b=n[u*2],t.opt_len+=b*(p+d),s&&(t.static_len+=b*(i[u*2+1]+d)));if(y!==0){do{for(p=l-1;t.bl_count[p]===0;)p--;t.bl_count[p]--,t.bl_count[p+1]+=2,t.bl_count[l]--,y-=2}while(y>0);for(p=l;p!==0;p--)for(u=t.bl_count[p];u!==0;)h=t.heap[--c],!(h>r)&&(n[h*2+1]!==p&&(t.opt_len+=(p-n[h*2+1])*n[h*2],n[h*2+1]=p),u--)}},GV=(t,e,n)=>{const r=new Array(lh+1);let i=0,s,o;for(s=1;s<=lh;s++)i=i+n[s-1]<<1,r[s]=i;for(o=0;o<=e;o++){let a=t[o*2+1];a!==0&&(t[o*2]=WV(r[a]++,a))}},Zfe=()=>{let t,e,n,r,i;const s=new Array(lh+1);for(n=0,r=0;r<TT-1;r++)for(NT[r]=n,t=0;t<1<<Ox[r];t++)Ig[n++]=r;for(Ig[n-1]=r,i=0,r=0;r<16;r++)for(Nv[r]=i,t=0;t<1<<uy[r];t++)Tg[i++]=r;for(i>>=7;r<pf;r++)for(Nv[r]=i<<7,t=0;t<1<<uy[r]-7;t++)Tg[256+i++]=r;for(e=0;e<=lh;e++)s[e]=0;for(t=0;t<=143;)yl[t*2+1]=8,t++,s[8]++;for(;t<=255;)yl[t*2+1]=9,t++,s[9]++;for(;t<=279;)yl[t*2+1]=7,t++,s[7]++;for(;t<=287;)yl[t*2+1]=8,t++,s[8]++;for(GV(yl,Ag+1,s),t=0;t<pf;t++)Om[t*2+1]=5,Om[t*2]=WV(t,5);zV=new H_(yl,Ox,d0+1,Ag,lh),$V=new H_(Om,uy,0,pf,lh),qV=new H_(new Array(0),Yfe,0,IT,Kfe)},KV=t=>{let e;for(e=0;e<Ag;e++)t.dyn_ltree[e*2]=0;for(e=0;e<pf;e++)t.dyn_dtree[e*2]=0;for(e=0;e<IT;e++)t.bl_tree[e*2]=0;t.dyn_ltree[CT*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},YV=t=>{t.bi_valid>8?Cg(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},z3=(t,e,n,r)=>{const i=e*2,s=n*2;return t[i]<t[s]||t[i]===t[s]&&r[e]<=r[n]},G_=(t,e,n)=>{const r=t.heap[n];let i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&z3(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!z3(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},$3=(t,e,n)=>{let r,i,s=0,o,a;if(t.sym_next!==0)do r=t.pending_buf[t.sym_buf+s++]&255,r+=(t.pending_buf[t.sym_buf+s++]&255)<<8,i=t.pending_buf[t.sym_buf+s++],r===0?Ia(t,i,e):(o=Ig[i],Ia(t,o+d0+1,e),a=Ox[o],a!==0&&(i-=NT[o],fs(t,i,a)),r--,o=HV(r),Ia(t,o,n),a=uy[o],a!==0&&(r-=Nv[o],fs(t,r,a)));while(s<t.sym_next);Ia(t,CT,e)},jx=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems;let o,a,l=-1,c;for(t.heap_len=0,t.heap_max=jV,o=0;o<s;o++)n[o*2]!==0?(t.heap[++t.heap_len]=l=o,t.depth[o]=0):n[o*2+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=l<2?++l:0,n[c*2]=1,t.depth[c]=0,t.opt_len--,i&&(t.static_len-=r[c*2+1]);for(e.max_code=l,o=t.heap_len>>1;o>=1;o--)G_(t,n,o);c=s;do o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],G_(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=a,n[c*2]=n[o*2]+n[a*2],t.depth[c]=(t.depth[o]>=t.depth[a]?t.depth[o]:t.depth[a])+1,n[o*2+1]=n[a*2+1]=c,t.heap[1]=c++,G_(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],Jfe(t,e),GV(n,l,t.bl_count)},q3=(t,e,n)=>{let r,i=-1,s,o=e[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)s=o,o=e[(r+1)*2+1],!(++a<l&&s===o)&&(a<c?t.bl_tree[s*2]+=a:s!==0?(s!==i&&t.bl_tree[s*2]++,t.bl_tree[FV*2]++):a<=10?t.bl_tree[VV*2]++:t.bl_tree[UV*2]++,a=0,i=s,o===0?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4))},H3=(t,e,n)=>{let r,i=-1,s,o=e[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),r=0;r<=n;r++)if(s=o,o=e[(r+1)*2+1],!(++a<l&&s===o)){if(a<c)do Ia(t,s,t.bl_tree);while(--a!==0);else s!==0?(s!==i&&(Ia(t,s,t.bl_tree),a--),Ia(t,FV,t.bl_tree),fs(t,a-3,2)):a<=10?(Ia(t,VV,t.bl_tree),fs(t,a-3,3)):(Ia(t,UV,t.bl_tree),fs(t,a-11,7));a=0,i=s,o===0?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4)}},epe=t=>{let e;for(q3(t,t.dyn_ltree,t.l_desc.max_code),q3(t,t.dyn_dtree,t.d_desc.max_code),jx(t,t.bl_desc),e=IT-1;e>=3&&t.bl_tree[BV[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},tpe=(t,e,n,r)=>{let i;for(fs(t,e-257,5),fs(t,n-1,5),fs(t,r-4,4),i=0;i<r;i++)fs(t,t.bl_tree[BV[i]*2+1],3);H3(t,t.dyn_ltree,e-1),H3(t,t.dyn_dtree,n-1)},npe=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return U3;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return B3;for(n=32;n<d0;n++)if(t.dyn_ltree[n*2]!==0)return B3;return U3};let W3=!1;const rpe=t=>{W3||(Zfe(),W3=!0),t.l_desc=new W_(t.dyn_ltree,zV),t.d_desc=new W_(t.dyn_dtree,$V),t.bl_desc=new W_(t.bl_tree,qV),t.bi_buf=0,t.bi_valid=0,KV(t)},XV=(t,e,n,r)=>{fs(t,(qfe<<1)+(r?1:0),3),YV(t),Cg(t,n),Cg(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},ipe=t=>{fs(t,OV<<1,3),Ia(t,CT,yl),Qfe(t)},spe=(t,e,n,r)=>{let i,s,o=0;t.level>0?(t.strm.data_type===$fe&&(t.strm.data_type=npe(t)),jx(t,t.l_desc),jx(t,t.d_desc),o=epe(t),i=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=i&&(i=s)):i=s=n+5,n+4<=i&&e!==-1?XV(t,e,n,r):t.strategy===zfe||s===i?(fs(t,(OV<<1)+(r?1:0),3),$3(t,yl,Om)):(fs(t,(Hfe<<1)+(r?1:0),3),tpe(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),$3(t,t.dyn_ltree,t.dyn_dtree)),KV(t),r&&YV(t)},ope=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(Ig[n]+d0+1)*2]++,t.dyn_dtree[HV(e)*2]++),t.sym_next===t.sym_end);var ape=rpe,lpe=XV,cpe=spe,upe=ope,hpe=ipe,dpe={_tr_init:ape,_tr_stored_block:lpe,_tr_flush_block:cpe,_tr_tally:upe,_tr_align:hpe};const fpe=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+e[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var Ng=fpe;const ppe=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},mpe=new Uint32Array(ppe()),gpe=(t,e,n,r)=>{const i=mpe,s=r+n;t^=-1;for(let o=r;o<s;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var Yr=gpe,Gf={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},f0={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:ype,_tr_stored_block:Fx,_tr_flush_block:vpe,_tr_tally:eu,_tr_align:wpe}=dpe,{Z_NO_FLUSH:tu,Z_PARTIAL_FLUSH:_pe,Z_FULL_FLUSH:bpe,Z_FINISH:ho,Z_BLOCK:G3,Z_OK:si,Z_STREAM_END:K3,Z_STREAM_ERROR:za,Z_DATA_ERROR:xpe,Z_BUF_ERROR:K_,Z_DEFAULT_COMPRESSION:Spe,Z_FILTERED:Epe,Z_HUFFMAN_ONLY:_1,Z_RLE:Ape,Z_FIXED:Tpe,Z_DEFAULT_STRATEGY:Ipe,Z_UNKNOWN:Cpe,Z_DEFLATED:Z2}=f0,Npe=9,Ppe=15,kpe=8,Rpe=29,Lpe=256,Vx=Lpe+1+Rpe,Dpe=30,Mpe=19,Ope=2*Vx+1,jpe=15,en=3,Vc=258,$a=Vc+en+1,Fpe=32,Kf=42,PT=57,Ux=69,Bx=73,zx=91,$x=103,ch=113,lm=666,Hi=1,pp=2,qh=3,mp=4,Vpe=3,uh=(t,e)=>(t.msg=Gf[e],e),Y3=t=>t*2-(t>4?9:0),Nc=t=>{let e=t.length;for(;--e>=0;)t[e]=0},Upe=t=>{let e,n,r,i=t.w_size;e=t.hash_size,r=e;do n=t.head[--r],t.head[r]=n>=i?n-i:0;while(--e);e=i,r=e;do n=t.prev[--r],t.prev[r]=n>=i?n-i:0;while(--e)};let Bpe=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,nu=Bpe;const ks=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},Vs=(t,e)=>{vpe(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,ks(t.strm)},hn=(t,e)=>{t.pending_buf[t.pending++]=e},Kp=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},qx=(t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),t.state.wrap===1?t.adler=Ng(t.adler,e,i,n):t.state.wrap===2&&(t.adler=Yr(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},QV=(t,e)=>{let n=t.max_chain_length,r=t.strstart,i,s,o=t.prev_length,a=t.nice_match;const l=t.strstart>t.w_size-$a?t.strstart-(t.w_size-$a):0,c=t.window,u=t.w_mask,h=t.prev,p=t.strstart+Vc;let d=c[r+o-1],b=c[r+o];t.prev_length>=t.good_match&&(n>>=2),a>t.lookahead&&(a=t.lookahead);do if(i=e,!(c[i+o]!==b||c[i+o-1]!==d||c[i]!==c[r]||c[++i]!==c[r+1])){r+=2,i++;do;while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<p);if(s=Vc-(p-r),r=p-Vc,s>o){if(t.match_start=e,o=s,s>=a)break;d=c[r+o-1],b=c[r+o]}}while((e=h[e&u])>l&&--n!==0);return o<=t.lookahead?o:t.lookahead},Yf=t=>{const e=t.w_size;let n,r,i;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-$a)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),Upe(t),r+=e),t.strm.avail_in===0)break;if(n=qx(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=en)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=nu(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=nu(t,t.ins_h,t.window[i+en-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<en)););}while(t.lookahead<$a&&t.strm.avail_in!==0)},JV=(t,e)=>{let n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r,i,s,o=0,a=t.strm.avail_in;do{if(r=65535,s=t.bi_valid+42>>3,t.strm.avail_out<s||(s=t.strm.avail_out-s,i=t.strstart-t.block_start,r>i+t.strm.avail_in&&(r=i+t.strm.avail_in),r>s&&(r=s),r<n&&(r===0&&e!==ho||e===tu||r!==i+t.strm.avail_in)))break;o=e===ho&&r===i+t.strm.avail_in?1:0,Fx(t,0,0,o),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,ks(t.strm),i&&(i>r&&(i=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,r-=i),r&&(qx(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(o===0);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?mp:e!==tu&&e!==ho&&t.strm.avail_in===0&&t.strstart===t.block_start?pp:(s=t.window_size-t.strstart,t.strm.avail_in>s&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,s+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),s>t.strm.avail_in&&(s=t.strm.avail_in),s&&(qx(t.strm,t.window,t.strstart,s),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.high_water<t.strstart&&(t.high_water=t.strstart),s=t.bi_valid+42>>3,s=t.pending_buf_size-s>65535?65535:t.pending_buf_size-s,n=s>t.w_size?t.w_size:s,i=t.strstart-t.block_start,(i>=n||(i||e===ho)&&e!==tu&&t.strm.avail_in===0&&i<=s)&&(r=i>s?s:i,o=e===ho&&t.strm.avail_in===0&&r===i?1:0,Fx(t,t.block_start,r,o),t.block_start+=r,ks(t.strm)),o?qh:Hi)},Y_=(t,e)=>{let n,r;for(;;){if(t.lookahead<$a){if(Yf(t),t.lookahead<$a&&e===tu)return Hi;if(t.lookahead===0)break}if(n=0,t.lookahead>=en&&(t.ins_h=nu(t,t.ins_h,t.window[t.strstart+en-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-$a&&(t.match_length=QV(t,n)),t.match_length>=en)if(r=eu(t,t.strstart-t.match_start,t.match_length-en),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=en){t.match_length--;do t.strstart++,t.ins_h=nu(t,t.ins_h,t.window[t.strstart+en-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=nu(t,t.ins_h,t.window[t.strstart+1]);else r=eu(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(Vs(t,!1),t.strm.avail_out===0))return Hi}return t.insert=t.strstart<en-1?t.strstart:en-1,e===ho?(Vs(t,!0),t.strm.avail_out===0?qh:mp):t.sym_next&&(Vs(t,!1),t.strm.avail_out===0)?Hi:pp},Sd=(t,e)=>{let n,r,i;for(;;){if(t.lookahead<$a){if(Yf(t),t.lookahead<$a&&e===tu)return Hi;if(t.lookahead===0)break}if(n=0,t.lookahead>=en&&(t.ins_h=nu(t,t.ins_h,t.window[t.strstart+en-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=en-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-$a&&(t.match_length=QV(t,n),t.match_length<=5&&(t.strategy===Epe||t.match_length===en&&t.strstart-t.match_start>4096)&&(t.match_length=en-1)),t.prev_length>=en&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-en,r=eu(t,t.strstart-1-t.prev_match,t.prev_length-en),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=nu(t,t.ins_h,t.window[t.strstart+en-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=en-1,t.strstart++,r&&(Vs(t,!1),t.strm.avail_out===0))return Hi}else if(t.match_available){if(r=eu(t,0,t.window[t.strstart-1]),r&&Vs(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Hi}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=eu(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<en-1?t.strstart:en-1,e===ho?(Vs(t,!0),t.strm.avail_out===0?qh:mp):t.sym_next&&(Vs(t,!1),t.strm.avail_out===0)?Hi:pp},zpe=(t,e)=>{let n,r,i,s;const o=t.window;for(;;){if(t.lookahead<=Vc){if(Yf(t),t.lookahead<=Vc&&e===tu)return Hi;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=en&&t.strstart>0&&(i=t.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){s=t.strstart+Vc;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<s);t.match_length=Vc-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=en?(n=eu(t,1,t.match_length-en),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=eu(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(Vs(t,!1),t.strm.avail_out===0))return Hi}return t.insert=0,e===ho?(Vs(t,!0),t.strm.avail_out===0?qh:mp):t.sym_next&&(Vs(t,!1),t.strm.avail_out===0)?Hi:pp},$pe=(t,e)=>{let n;for(;;){if(t.lookahead===0&&(Yf(t),t.lookahead===0)){if(e===tu)return Hi;break}if(t.match_length=0,n=eu(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(Vs(t,!1),t.strm.avail_out===0))return Hi}return t.insert=0,e===ho?(Vs(t,!0),t.strm.avail_out===0?qh:mp):t.sym_next&&(Vs(t,!1),t.strm.avail_out===0)?Hi:pp};function ya(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}const cm=[new ya(0,0,0,0,JV),new ya(4,4,8,4,Y_),new ya(4,5,16,8,Y_),new ya(4,6,32,32,Y_),new ya(4,4,16,16,Sd),new ya(8,16,32,32,Sd),new ya(8,16,128,128,Sd),new ya(8,32,128,256,Sd),new ya(32,128,258,1024,Sd),new ya(32,258,258,4096,Sd)],qpe=t=>{t.window_size=2*t.w_size,Nc(t.head),t.max_lazy_match=cm[t.level].max_lazy,t.good_match=cm[t.level].good_length,t.nice_match=cm[t.level].nice_length,t.max_chain_length=cm[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=en-1,t.match_available=0,t.ins_h=0};function Hpe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Ope*2),this.dyn_dtree=new Uint16Array((2*Dpe+1)*2),this.bl_tree=new Uint16Array((2*Mpe+1)*2),Nc(this.dyn_ltree),Nc(this.dyn_dtree),Nc(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(jpe+1),this.heap=new Uint16Array(2*Vx+1),Nc(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Vx+1),Nc(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const p0=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==Kf&&e.status!==PT&&e.status!==Ux&&e.status!==Bx&&e.status!==zx&&e.status!==$x&&e.status!==ch&&e.status!==lm?1:0},ZV=t=>{if(p0(t))return uh(t,za);t.total_in=t.total_out=0,t.data_type=Cpe;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?PT:e.wrap?Kf:ch,t.adler=e.wrap===2?0:1,e.last_flush=-2,ype(e),si},eU=t=>{const e=ZV(t);return e===si&&qpe(t.state),e},Wpe=(t,e)=>p0(t)||t.state.wrap!==2?za:(t.state.gzhead=e,si),tU=(t,e,n,r,i,s)=>{if(!t)return za;let o=1;if(e===Spe&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>Npe||n!==Z2||r<8||r>15||e<0||e>9||s<0||s>Tpe||r===8&&o!==1)return uh(t,za);r===8&&(r=9);const a=new Hpe;return t.state=a,a.strm=t,a.status=Kf,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+en-1)/en),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=s,a.method=n,eU(t)},Gpe=(t,e)=>tU(t,e,Z2,Ppe,kpe,Ipe),Kpe=(t,e)=>{if(p0(t)||e>G3||e<0)return t?uh(t,za):za;const n=t.state;if(!t.output||t.avail_in!==0&&!t.input||n.status===lm&&e!==ho)return uh(t,t.avail_out===0?K_:za);const r=n.last_flush;if(n.last_flush=e,n.pending!==0){if(ks(t),t.avail_out===0)return n.last_flush=-1,si}else if(t.avail_in===0&&Y3(e)<=Y3(r)&&e!==ho)return uh(t,K_);if(n.status===lm&&t.avail_in!==0)return uh(t,K_);if(n.status===Kf&&n.wrap===0&&(n.status=ch),n.status===Kf){let i=Z2+(n.w_bits-8<<4)<<8,s=-1;if(n.strategy>=_1||n.level<2?s=0:n.level<6?s=1:n.level===6?s=2:s=3,i|=s<<6,n.strstart!==0&&(i|=Fpe),i+=31-i%31,Kp(n,i),n.strstart!==0&&(Kp(n,t.adler>>>16),Kp(n,t.adler&65535)),t.adler=1,n.status=ch,ks(t),n.pending!==0)return n.last_flush=-1,si}if(n.status===PT){if(t.adler=0,hn(n,31),hn(n,139),hn(n,8),n.gzhead)hn(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),hn(n,n.gzhead.time&255),hn(n,n.gzhead.time>>8&255),hn(n,n.gzhead.time>>16&255),hn(n,n.gzhead.time>>24&255),hn(n,n.level===9?2:n.strategy>=_1||n.level<2?4:0),hn(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(hn(n,n.gzhead.extra.length&255),hn(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Yr(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=Ux;else if(hn(n,0),hn(n,0),hn(n,0),hn(n,0),hn(n,0),hn(n,n.level===9?2:n.strategy>=_1||n.level<2?4:0),hn(n,Vpe),n.status=ch,ks(t),n.pending!==0)return n.last_flush=-1,si}if(n.status===Ux){if(n.gzhead.extra){let i=n.pending,s=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+s>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(t.adler=Yr(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=a,ks(t),n.pending!==0)return n.last_flush=-1,si;i=0,s-=a}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending+=s,n.gzhead.hcrc&&n.pending>i&&(t.adler=Yr(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=Bx}if(n.status===Bx){if(n.gzhead.name){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=Yr(t.adler,n.pending_buf,n.pending-i,i)),ks(t),n.pending!==0)return n.last_flush=-1,si;i=0}n.gzindex<n.gzhead.name.length?s=n.gzhead.name.charCodeAt(n.gzindex++)&255:s=0,hn(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=Yr(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=zx}if(n.status===zx){if(n.gzhead.comment){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=Yr(t.adler,n.pending_buf,n.pending-i,i)),ks(t),n.pending!==0)return n.last_flush=-1,si;i=0}n.gzindex<n.gzhead.comment.length?s=n.gzhead.comment.charCodeAt(n.gzindex++)&255:s=0,hn(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=Yr(t.adler,n.pending_buf,n.pending-i,i))}n.status=$x}if(n.status===$x){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(ks(t),n.pending!==0))return n.last_flush=-1,si;hn(n,t.adler&255),hn(n,t.adler>>8&255),t.adler=0}if(n.status=ch,ks(t),n.pending!==0)return n.last_flush=-1,si}if(t.avail_in!==0||n.lookahead!==0||e!==tu&&n.status!==lm){let i=n.level===0?JV(n,e):n.strategy===_1?$pe(n,e):n.strategy===Ape?zpe(n,e):cm[n.level].func(n,e);if((i===qh||i===mp)&&(n.status=lm),i===Hi||i===qh)return t.avail_out===0&&(n.last_flush=-1),si;if(i===pp&&(e===_pe?wpe(n):e!==G3&&(Fx(n,0,0,!1),e===bpe&&(Nc(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),ks(t),t.avail_out===0))return n.last_flush=-1,si}return e!==ho?si:n.wrap<=0?K3:(n.wrap===2?(hn(n,t.adler&255),hn(n,t.adler>>8&255),hn(n,t.adler>>16&255),hn(n,t.adler>>24&255),hn(n,t.total_in&255),hn(n,t.total_in>>8&255),hn(n,t.total_in>>16&255),hn(n,t.total_in>>24&255)):(Kp(n,t.adler>>>16),Kp(n,t.adler&65535)),ks(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?si:K3)},Ype=t=>{if(p0(t))return za;const e=t.state.status;return t.state=null,e===ch?uh(t,xpe):si},Xpe=(t,e)=>{let n=e.length;if(p0(t))return za;const r=t.state,i=r.wrap;if(i===2||i===1&&r.status!==Kf||r.lookahead)return za;if(i===1&&(t.adler=Ng(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){i===0&&(Nc(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(e.subarray(n-r.w_size,n),0),e=l,n=r.w_size}const s=t.avail_in,o=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,Yf(r);r.lookahead>=en;){let l=r.strstart,c=r.lookahead-(en-1);do r.ins_h=nu(r,r.ins_h,r.window[l+en-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--c);r.strstart=l,r.lookahead=en-1,Yf(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=en-1,r.match_available=0,t.next_in=o,t.input=a,t.avail_in=s,r.wrap=i,si};var Qpe=Gpe,Jpe=tU,Zpe=eU,eme=ZV,tme=Wpe,nme=Kpe,rme=Ype,ime=Xpe,sme="pako deflate (from Nodeca project)",jm={deflateInit:Qpe,deflateInit2:Jpe,deflateReset:Zpe,deflateResetKeep:eme,deflateSetHeader:tme,deflate:nme,deflateEnd:rme,deflateSetDictionary:ime,deflateInfo:sme};const ome=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var ame=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)ome(n,r)&&(t[r]=n[r])}}return t},lme=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let o=t[r];n.set(o,i),i+=o.length}return n},ew={assign:ame,flattenChunks:lme};let nU=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{nU=!1}const Pg=new Uint8Array(256);for(let t=0;t<256;t++)Pg[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Pg[254]=Pg[254]=1;var cme=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,o=t.length,a=0;for(i=0;i<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const ume=(t,e)=>{if(e<65534&&t.subarray&&nU)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var hme=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let o=t[r++];if(o<128){s[i++]=o;continue}let a=Pg[o];if(a>4){s[i++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<n;)o=o<<6|t[r++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return ume(s,i)},dme=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Pg[t[n]]>e?n:e},kg={string2buf:cme,buf2string:hme,utf8border:dme};function fme(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var rU=fme;const iU=Object.prototype.toString,{Z_NO_FLUSH:pme,Z_SYNC_FLUSH:mme,Z_FULL_FLUSH:gme,Z_FINISH:yme,Z_OK:Pv,Z_STREAM_END:vme,Z_DEFAULT_COMPRESSION:wme,Z_DEFAULT_STRATEGY:_me,Z_DEFLATED:bme}=f0;function kT(t){this.options=ew.assign({level:wme,method:bme,chunkSize:16384,windowBits:15,memLevel:8,strategy:_me},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rU,this.strm.avail_out=0;let n=jm.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==Pv)throw new Error(Gf[n]);if(e.header&&jm.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=kg.string2buf(e.dictionary):iU.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=jm.deflateSetDictionary(this.strm,r),n!==Pv)throw new Error(Gf[n]);this._dict_set=!0}}kT.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?yme:pme,typeof t=="string"?n.input=kg.string2buf(t):iU.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===mme||s===gme)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=jm.deflate(n,s),i===vme)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=jm.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Pv;if(n.avail_out===0){this.onData(n.output);continue}if(s>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};kT.prototype.onData=function(t){this.chunks.push(t)};kT.prototype.onEnd=function(t){t===Pv&&(this.result=ew.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const b1=16209,xme=16191;var Sme=function(e,n){let r,i,s,o,a,l,c,u,h,p,d,b,y,_,w,S,E,k,B,G,D,N,P,j;const I=e.state;r=e.next_in,P=e.input,i=r+(e.avail_in-5),s=e.next_out,j=e.output,o=s-(n-e.avail_out),a=s+(e.avail_out-257),l=I.dmax,c=I.wsize,u=I.whave,h=I.wnext,p=I.window,d=I.hold,b=I.bits,y=I.lencode,_=I.distcode,w=(1<<I.lenbits)-1,S=(1<<I.distbits)-1;e:do{b<15&&(d+=P[r++]<<b,b+=8,d+=P[r++]<<b,b+=8),E=y[d&w];t:for(;;){if(k=E>>>24,d>>>=k,b-=k,k=E>>>16&255,k===0)j[s++]=E&65535;else if(k&16){B=E&65535,k&=15,k&&(b<k&&(d+=P[r++]<<b,b+=8),B+=d&(1<<k)-1,d>>>=k,b-=k),b<15&&(d+=P[r++]<<b,b+=8,d+=P[r++]<<b,b+=8),E=_[d&S];n:for(;;){if(k=E>>>24,d>>>=k,b-=k,k=E>>>16&255,k&16){if(G=E&65535,k&=15,b<k&&(d+=P[r++]<<b,b+=8,b<k&&(d+=P[r++]<<b,b+=8)),G+=d&(1<<k)-1,G>l){e.msg="invalid distance too far back",I.mode=b1;break e}if(d>>>=k,b-=k,k=s-o,G>k){if(k=G-k,k>u&&I.sane){e.msg="invalid distance too far back",I.mode=b1;break e}if(D=0,N=p,h===0){if(D+=c-k,k<B){B-=k;do j[s++]=p[D++];while(--k);D=s-G,N=j}}else if(h<k){if(D+=c+h-k,k-=h,k<B){B-=k;do j[s++]=p[D++];while(--k);if(D=0,h<B){k=h,B-=k;do j[s++]=p[D++];while(--k);D=s-G,N=j}}}else if(D+=h-k,k<B){B-=k;do j[s++]=p[D++];while(--k);D=s-G,N=j}for(;B>2;)j[s++]=N[D++],j[s++]=N[D++],j[s++]=N[D++],B-=3;B&&(j[s++]=N[D++],B>1&&(j[s++]=N[D++]))}else{D=s-G;do j[s++]=j[D++],j[s++]=j[D++],j[s++]=j[D++],B-=3;while(B>2);B&&(j[s++]=j[D++],B>1&&(j[s++]=j[D++]))}}else if(k&64){e.msg="invalid distance code",I.mode=b1;break e}else{E=_[(E&65535)+(d&(1<<k)-1)];continue n}break}}else if(k&64)if(k&32){I.mode=xme;break e}else{e.msg="invalid literal/length code",I.mode=b1;break e}else{E=y[(E&65535)+(d&(1<<k)-1)];continue t}break}}while(r<i&&s<a);B=b>>3,r-=B,b-=B<<3,d&=(1<<b)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<a?257+(a-s):257-(s-a),I.hold=d,I.bits=b};const Ed=15,X3=852,Q3=592,J3=0,X_=1,Z3=2,Eme=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Ame=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Tme=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ime=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Cme=(t,e,n,r,i,s,o,a)=>{const l=a.bits;let c=0,u=0,h=0,p=0,d=0,b=0,y=0,_=0,w=0,S=0,E,k,B,G,D,N=null,P;const j=new Uint16Array(Ed+1),I=new Uint16Array(Ed+1);let L=null,M,W,ae;for(c=0;c<=Ed;c++)j[c]=0;for(u=0;u<r;u++)j[e[n+u]]++;for(d=l,p=Ed;p>=1&&j[p]===0;p--);if(d>p&&(d=p),p===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(h=1;h<p&&j[h]===0;h++);for(d<h&&(d=h),_=1,c=1;c<=Ed;c++)if(_<<=1,_-=j[c],_<0)return-1;if(_>0&&(t===J3||p!==1))return-1;for(I[1]=0,c=1;c<Ed;c++)I[c+1]=I[c]+j[c];for(u=0;u<r;u++)e[n+u]!==0&&(o[I[e[n+u]]++]=u);if(t===J3?(N=L=o,P=20):t===X_?(N=Eme,L=Ame,P=257):(N=Tme,L=Ime,P=0),S=0,u=0,c=h,D=s,b=d,y=0,B=-1,w=1<<d,G=w-1,t===X_&&w>X3||t===Z3&&w>Q3)return 1;for(;;){M=c-y,o[u]+1<P?(W=0,ae=o[u]):o[u]>=P?(W=L[o[u]-P],ae=N[o[u]-P]):(W=96,ae=0),E=1<<c-y,k=1<<b,h=k;do k-=E,i[D+(S>>y)+k]=M<<24|W<<16|ae|0;while(k!==0);for(E=1<<c-1;S&E;)E>>=1;if(E!==0?(S&=E-1,S+=E):S=0,u++,--j[c]===0){if(c===p)break;c=e[n+o[u]]}if(c>d&&(S&G)!==B){for(y===0&&(y=d),D+=h,b=c-y,_=1<<b;b+y<p&&(_-=j[b+y],!(_<=0));)b++,_<<=1;if(w+=1<<b,t===X_&&w>X3||t===Z3&&w>Q3)return 1;B=S&G,i[B]=d<<24|b<<16|D-s|0}}return S!==0&&(i[D+S]=c-y<<24|64<<16|0),a.bits=d,0};var Fm=Cme;const Nme=0,sU=1,oU=2,{Z_FINISH:ek,Z_BLOCK:Pme,Z_TREES:x1,Z_OK:Hh,Z_STREAM_END:kme,Z_NEED_DICT:Rme,Z_STREAM_ERROR:So,Z_DATA_ERROR:aU,Z_MEM_ERROR:lU,Z_BUF_ERROR:Lme,Z_DEFLATED:tk}=f0,tw=16180,nk=16181,rk=16182,ik=16183,sk=16184,ok=16185,ak=16186,lk=16187,ck=16188,uk=16189,kv=16190,fl=16191,Q_=16192,hk=16193,J_=16194,dk=16195,fk=16196,pk=16197,mk=16198,S1=16199,E1=16200,gk=16201,yk=16202,vk=16203,wk=16204,_k=16205,Z_=16206,bk=16207,xk=16208,Xn=16209,cU=16210,uU=16211,Dme=852,Mme=592,Ome=15,jme=Ome,Sk=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Fme(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const sd=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<tw||e.mode>uU?1:0},hU=t=>{if(sd(t))return So;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=tw,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Dme),e.distcode=e.distdyn=new Int32Array(Mme),e.sane=1,e.back=-1,Hh},dU=t=>{if(sd(t))return So;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,hU(t)},fU=(t,e)=>{let n;if(sd(t))return So;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?So:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,dU(t))},pU=(t,e)=>{if(!t)return So;const n=new Fme;t.state=n,n.strm=t,n.window=null,n.mode=tw;const r=fU(t,e);return r!==Hh&&(t.state=null),r},Vme=t=>pU(t,jme);let Ek=!0,e5,t5;const Ume=t=>{if(Ek){e5=new Int32Array(512),t5=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Fm(sU,t.lens,0,288,e5,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Fm(oU,t.lens,0,32,t5,0,t.work,{bits:5}),Ek=!1}t.lencode=e5,t.lenbits=9,t.distcode=t5,t.distbits=5},mU=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},Bme=(t,e)=>{let n,r,i,s,o,a,l,c,u,h,p,d,b,y,_=0,w,S,E,k,B,G,D,N;const P=new Uint8Array(4);let j,I;const L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(sd(t)||!t.output||!t.input&&t.avail_in!==0)return So;n=t.state,n.mode===fl&&(n.mode=Q_),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,c=n.hold,u=n.bits,h=a,p=l,N=Hh;e:for(;;)switch(n.mode){case tw:if(n.wrap===0){n.mode=Q_;break}for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,P[0]=c&255,P[1]=c>>>8&255,n.check=Yr(n.check,P,2,0),c=0,u=0,n.mode=nk;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=Xn;break}if((c&15)!==tk){t.msg="unknown compression method",n.mode=Xn;break}if(c>>>=4,u-=4,D=(c&15)+8,n.wbits===0&&(n.wbits=D),D>15||D>n.wbits){t.msg="invalid window size",n.mode=Xn;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=c&512?uk:fl,c=0,u=0;break;case nk:for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==tk){t.msg="unknown compression method",n.mode=Xn;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Xn;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,n.check=Yr(n.check,P,2,0)),c=0,u=0,n.mode=rk;case rk:for(;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,P[2]=c>>>16&255,P[3]=c>>>24&255,n.check=Yr(n.check,P,4,0)),c=0,u=0,n.mode=ik;case ik:for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,n.check=Yr(n.check,P,2,0)),c=0,u=0,n.mode=sk;case sk:if(n.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,n.check=Yr(n.check,P,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=ok;case ok:if(n.flags&1024&&(d=n.length,d>a&&(d=a),d&&(n.head&&(D=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+d),D)),n.flags&512&&n.wrap&4&&(n.check=Yr(n.check,r,d,s)),a-=d,s+=d,n.length-=d),n.length))break e;n.length=0,n.mode=ak;case ak:if(n.flags&2048){if(a===0)break e;d=0;do D=r[s+d++],n.head&&D&&n.length<65536&&(n.head.name+=String.fromCharCode(D));while(D&&d<a);if(n.flags&512&&n.wrap&4&&(n.check=Yr(n.check,r,d,s)),a-=d,s+=d,D)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=lk;case lk:if(n.flags&4096){if(a===0)break e;d=0;do D=r[s+d++],n.head&&D&&n.length<65536&&(n.head.comment+=String.fromCharCode(D));while(D&&d<a);if(n.flags&512&&n.wrap&4&&(n.check=Yr(n.check,r,d,s)),a-=d,s+=d,D)break e}else n.head&&(n.head.comment=null);n.mode=ck;case ck:if(n.flags&512){for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.wrap&4&&c!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Xn;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=fl;break;case uk:for(;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}t.adler=n.check=Sk(c),c=0,u=0,n.mode=kv;case kv:if(n.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=c,n.bits=u,Rme;t.adler=n.check=1,n.mode=fl;case fl:if(e===Pme||e===x1)break e;case Q_:if(n.last){c>>>=u&7,u-=u&7,n.mode=Z_;break}for(;u<3;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=hk;break;case 1:if(Ume(n),n.mode=S1,e===x1){c>>>=2,u-=2;break e}break;case 2:n.mode=fk;break;case 3:t.msg="invalid block type",n.mode=Xn}c>>>=2,u-=2;break;case hk:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Xn;break}if(n.length=c&65535,c=0,u=0,n.mode=J_,e===x1)break e;case J_:n.mode=dk;case dk:if(d=n.length,d){if(d>a&&(d=a),d>l&&(d=l),d===0)break e;i.set(r.subarray(s,s+d),o),a-=d,s+=d,l-=d,o+=d,n.length-=d;break}n.mode=fl;break;case fk:for(;u<14;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Xn;break}n.have=0,n.mode=pk;case pk:for(;n.have<n.ncode;){for(;u<3;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.lens[L[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[L[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,j={bits:n.lenbits},N=Fm(Nme,n.lens,0,19,n.lencode,0,n.work,j),n.lenbits=j.bits,N){t.msg="invalid code lengths set",n.mode=Xn;break}n.have=0,n.mode=mk;case mk:for(;n.have<n.nlen+n.ndist;){for(;_=n.lencode[c&(1<<n.lenbits)-1],w=_>>>24,S=_>>>16&255,E=_&65535,!(w<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(E<16)c>>>=w,u-=w,n.lens[n.have++]=E;else{if(E===16){for(I=w+2;u<I;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(c>>>=w,u-=w,n.have===0){t.msg="invalid bit length repeat",n.mode=Xn;break}D=n.lens[n.have-1],d=3+(c&3),c>>>=2,u-=2}else if(E===17){for(I=w+3;u<I;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=w,u-=w,D=0,d=3+(c&7),c>>>=3,u-=3}else{for(I=w+7;u<I;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=w,u-=w,D=0,d=11+(c&127),c>>>=7,u-=7}if(n.have+d>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Xn;break}for(;d--;)n.lens[n.have++]=D}}if(n.mode===Xn)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Xn;break}if(n.lenbits=9,j={bits:n.lenbits},N=Fm(sU,n.lens,0,n.nlen,n.lencode,0,n.work,j),n.lenbits=j.bits,N){t.msg="invalid literal/lengths set",n.mode=Xn;break}if(n.distbits=6,n.distcode=n.distdyn,j={bits:n.distbits},N=Fm(oU,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,j),n.distbits=j.bits,N){t.msg="invalid distances set",n.mode=Xn;break}if(n.mode=S1,e===x1)break e;case S1:n.mode=E1;case E1:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=c,n.bits=u,Sme(t,p),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,c=n.hold,u=n.bits,n.mode===fl&&(n.back=-1);break}for(n.back=0;_=n.lencode[c&(1<<n.lenbits)-1],w=_>>>24,S=_>>>16&255,E=_&65535,!(w<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(S&&!(S&240)){for(k=w,B=S,G=E;_=n.lencode[G+((c&(1<<k+B)-1)>>k)],w=_>>>24,S=_>>>16&255,E=_&65535,!(k+w<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=k,u-=k,n.back+=k}if(c>>>=w,u-=w,n.back+=w,n.length=E,S===0){n.mode=_k;break}if(S&32){n.back=-1,n.mode=fl;break}if(S&64){t.msg="invalid literal/length code",n.mode=Xn;break}n.extra=S&15,n.mode=gk;case gk:if(n.extra){for(I=n.extra;u<I;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=yk;case yk:for(;_=n.distcode[c&(1<<n.distbits)-1],w=_>>>24,S=_>>>16&255,E=_&65535,!(w<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(!(S&240)){for(k=w,B=S,G=E;_=n.distcode[G+((c&(1<<k+B)-1)>>k)],w=_>>>24,S=_>>>16&255,E=_&65535,!(k+w<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=k,u-=k,n.back+=k}if(c>>>=w,u-=w,n.back+=w,S&64){t.msg="invalid distance code",n.mode=Xn;break}n.offset=E,n.extra=S&15,n.mode=vk;case vk:if(n.extra){for(I=n.extra;u<I;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Xn;break}n.mode=wk;case wk:if(l===0)break e;if(d=p-l,n.offset>d){if(d=n.offset-d,d>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Xn;break}d>n.wnext?(d-=n.wnext,b=n.wsize-d):b=n.wnext-d,d>n.length&&(d=n.length),y=n.window}else y=i,b=o-n.offset,d=n.length;d>l&&(d=l),l-=d,n.length-=d;do i[o++]=y[b++];while(--d);n.length===0&&(n.mode=E1);break;case _k:if(l===0)break e;i[o++]=n.length,l--,n.mode=E1;break;case Z_:if(n.wrap){for(;u<32;){if(a===0)break e;a--,c|=r[s++]<<u,u+=8}if(p-=l,t.total_out+=p,n.total+=p,n.wrap&4&&p&&(t.adler=n.check=n.flags?Yr(n.check,i,p,o-p):Ng(n.check,i,p,o-p)),p=l,n.wrap&4&&(n.flags?c:Sk(c))!==n.check){t.msg="incorrect data check",n.mode=Xn;break}c=0,u=0}n.mode=bk;case bk:if(n.wrap&&n.flags){for(;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.wrap&4&&c!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Xn;break}c=0,u=0}n.mode=xk;case xk:N=kme;break e;case Xn:N=aU;break e;case cU:return lU;case uU:default:return So}return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=c,n.bits=u,(n.wsize||p!==t.avail_out&&n.mode<Xn&&(n.mode<Z_||e!==ek))&&mU(t,t.output,t.next_out,p-t.avail_out),h-=t.avail_in,p-=t.avail_out,t.total_in+=h,t.total_out+=p,n.total+=p,n.wrap&4&&p&&(t.adler=n.check=n.flags?Yr(n.check,i,p,t.next_out-p):Ng(n.check,i,p,t.next_out-p)),t.data_type=n.bits+(n.last?64:0)+(n.mode===fl?128:0)+(n.mode===S1||n.mode===J_?256:0),(h===0&&p===0||e===ek)&&N===Hh&&(N=Lme),N},zme=t=>{if(sd(t))return So;let e=t.state;return e.window&&(e.window=null),t.state=null,Hh},$me=(t,e)=>{if(sd(t))return So;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,Hh):So},qme=(t,e)=>{const n=e.length;let r,i,s;return sd(t)||(r=t.state,r.wrap!==0&&r.mode!==kv)?So:r.mode===kv&&(i=1,i=Ng(i,e,n,0),i!==r.check)?aU:(s=mU(t,e,n,n),s?(r.mode=cU,lU):(r.havedict=1,Hh))};var Hme=dU,Wme=fU,Gme=hU,Kme=Vme,Yme=pU,Xme=Bme,Qme=zme,Jme=$me,Zme=qme,ege="pako inflate (from Nodeca project)",vl={inflateReset:Hme,inflateReset2:Wme,inflateResetKeep:Gme,inflateInit:Kme,inflateInit2:Yme,inflate:Xme,inflateEnd:Qme,inflateGetHeader:Jme,inflateSetDictionary:Zme,inflateInfo:ege};function tge(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var nge=tge;const gU=Object.prototype.toString,{Z_NO_FLUSH:rge,Z_FINISH:ige,Z_OK:Rg,Z_STREAM_END:n5,Z_NEED_DICT:r5,Z_STREAM_ERROR:sge,Z_DATA_ERROR:Ak,Z_MEM_ERROR:oge}=f0;function m0(t){this.options=ew.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rU,this.strm.avail_out=0;let n=vl.inflateInit2(this.strm,e.windowBits);if(n!==Rg)throw new Error(Gf[n]);if(this.header=new nge,vl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=kg.string2buf(e.dictionary):gU.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=vl.inflateSetDictionary(this.strm,e.dictionary),n!==Rg)))throw new Error(Gf[n])}m0.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?ige:rge,gU.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=vl.inflate(n,o),s===r5&&i&&(s=vl.inflateSetDictionary(n,i),s===Rg?s=vl.inflate(n,o):s===Ak&&(s=r5));n.avail_in>0&&s===n5&&n.state.wrap>0&&t[n.next_in]!==0;)vl.inflateReset(n),s=vl.inflate(n,o);switch(s){case sge:case Ak:case r5:case oge:return this.onEnd(s),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||s===n5))if(this.options.to==="string"){let l=kg.utf8border(n.output,n.next_out),c=n.next_out-l,u=kg.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===Rg&&a===0)){if(s===n5)return s=vl.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};m0.prototype.onData=function(t){this.chunks.push(t)};m0.prototype.onEnd=function(t){t===Rg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ew.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function RT(t,e){const n=new m0(e);if(n.push(t),n.err)throw n.msg||Gf[n.err];return n.result}function age(t,e){return e=e||{},e.raw=!0,RT(t,e)}var lge=m0,cge=RT,uge=age,hge=RT,dge=f0,fge={Inflate:lge,inflate:cge,inflateRaw:uge,ungzip:hge,constants:dge};const{Inflate:pge,inflate:mge,inflateRaw:Z0e,ungzip:e1e}=fge;var Tk=pge,gge=mge;const yU=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;yU[t]=e}const Ik=4294967295;function yge(t,e,n){let r=t;for(let i=0;i<n;i++)r=yU[(r^e[i])&255]^r>>>8;return r}function vge(t,e){return(yge(Ik,t,e)^Ik)>>>0}function Ck(t,e,n){const r=t.readUint32(),i=vge(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function vU(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function wU(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function _U(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function bU(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function xU(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+wge(e[s-i],n[s],n[s-i])&255}}function wge(t,e,n){const r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),o=Math.abs(r-n);return i<=s&&i<=o?t:s<=o?e:n}function _ge(t,e,n,r,i,s){switch(t){case 0:vU(e,n,i);break;case 1:wU(e,n,i,s);break;case 2:_U(e,n,r,i);break;case 3:bU(e,n,r,i,s);break;case 4:xU(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const bge=new Uint16Array([255]),xge=new Uint8Array(bge.buffer),Sge=xge[0]===255;function Ege(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*i,l=new Uint8Array(r*n*a);let c=0;for(let u=0;u<7;u++){const h=o[u],p=Math.ceil((n-h.x)/h.xStep),d=Math.ceil((r-h.y)/h.yStep);if(p<=0||d<=0)continue;const b=p*a,y=new Uint8Array(b);for(let _=0;_<d;_++){const w=e[c++],S=e.subarray(c,c+b);c+=b;const E=new Uint8Array(b);_ge(w,S,E,y,b,a),y.set(E);for(let k=0;k<p;k++){const B=h.x+k*h.xStep,G=h.y+_*h.yStep;if(!(B>=n||G>=r))for(let D=0;D<a;D++)l[(G*n+B)*a+D]=E[k*a+D]}}}if(s===16){const u=new Uint16Array(l.buffer);if(Sge)for(let h=0;h<u.length;h++)u[h]=Age(u[h]);return u}else return l}function Age(t){return(t&255)<<8|t>>8&255}const Tge=new Uint16Array([255]),Ige=new Uint8Array(Tge.buffer),Cge=Ige[0]===255,Nge=new Uint8Array(0);function Nk(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=Math.ceil(s/8)*i,a=Math.ceil(s/8*i*n),l=new Uint8Array(r*a);let c=Nge,u=0,h,p;for(let d=0;d<r;d++){switch(h=e.subarray(u+1,u+1+a),p=l.subarray(d*a,(d+1)*a),e[u]){case 0:vU(h,p,a);break;case 1:wU(h,p,a,o);break;case 2:_U(h,p,c,a);break;case 3:bU(h,p,c,a,o);break;case 4:xU(h,p,c,a,o);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=p,u+=a+1}if(s===16){const d=new Uint16Array(l.buffer);if(Cge)for(let b=0;b<d.length;b++)d[b]=Pge(d[b]);return d}else return l}function Pge(t){return(t&255)<<8|t>>8&255}const hy=Uint8Array.of(137,80,78,71,13,10,26,10);function Pk(t){if(!kge(t.readBytes(hy.length)))throw new Error("wrong PNG signature")}function kge(t){if(t.length<hy.length)return!1;for(let e=0;e<hy.length;e++)if(t[e]!==hy[e])return!1;return!0}const Rge="tEXt",Lge=0,SU=new TextDecoder("latin1");function Dge(t){if(Oge(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const Mge=/^[\u0000-\u00FF]*$/;function Oge(t){if(!Mge.test(t))throw new Error("invalid latin1 text")}function jge(t,e,n){const r=EU(e);t[r]=Fge(e,n-r.length-1)}function EU(t){for(t.mark();t.readByte()!==Lge;);const e=t.offset;t.reset();const n=SU.decode(t.readBytes(e-t.offset-1));return t.skip(1),Dge(n),n}function Fge(t,e){return SU.decode(t.readBytes(e))}const Ps={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},i5={UNKNOWN:-1,DEFLATE:0},kk={UNKNOWN:-1,ADAPTIVE:0},s5={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},A1={NONE:0,BACKGROUND:1,PREVIOUS:2},o5={SOURCE:0,OVER:1};class Vge extends AT{constructor(n,r={}){super(n);vn(this,"_checkCrc");vn(this,"_inflator");vn(this,"_png");vn(this,"_apng");vn(this,"_end");vn(this,"_hasPalette");vn(this,"_palette");vn(this,"_hasTransparency");vn(this,"_transparency");vn(this,"_compressionMethod");vn(this,"_filterMethod");vn(this,"_interlaceMethod");vn(this,"_colorType");vn(this,"_isAnimated");vn(this,"_numberOfFrames");vn(this,"_numberOfPlays");vn(this,"_frames");vn(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new Tk,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=i5.UNKNOWN,this._filterMethod=kk.UNKNOWN,this._interlaceMethod=s5.UNKNOWN,this._colorType=Ps.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Pk(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(Pk(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case Rge:jge(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Ck(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Ck(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=Uge(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Ps.GREYSCALE:i=1;break;case Ps.TRUECOLOUR:i=3;break;case Ps.INDEXED_COLOUR:i=1;break;case Ps.GREYSCALE_ALPHA:i=2;break;case Ps.TRUECOLOUR_ALPHA:i=4;break;case Ps.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==i5.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Ps.GREYSCALE:case Ps.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Ps.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Ps.UNKNOWN:case Ps.GREYSCALE_ALPHA:case Ps.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=EU(this),i=this.readUint8();if(i!==i5.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:gge(s)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=Nk({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case A1.NONE:break;case A1.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const a=(s*n.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[a+l]=0}break;case A1.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,s=(o,a)=>{const l=((o+r.yOffset)*this._png.width+r.xOffset+a)*this._png.channels,c=(o*r.width+a)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case o5.SOURCE:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:c}=s(o,a);for(let u=0;u<this._png.channels;u++)n.data[l+u]=r.data[c+u]}break;case o5.OVER:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:c}=s(o,a);for(let u=0;u<this._png.channels;u++){const h=r.data[c+this._png.channels-1]/i,p=u%(this._png.channels-1)===0?1:r.data[c+u],d=Math.floor(h*p+(1-h)*n.data[l+u]);n.data[l+u]+=d}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==kk.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===s5.NO_INTERLACE)this._png.data=Nk({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===s5.ADAM7)this._png.data=Ege({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:A1.NONE,blendOp:o5.SOURCE,data:n}),this._inflator=new Tk,this._writingDataChunks=!1}}function Uge(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Rk;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Rk||(Rk={}));function Bge(t,e){return new Vge(t,e).decode()}var Pt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function a5(){Pt.console&&typeof Pt.console.log=="function"&&Pt.console.log.apply(Pt.console,arguments)}var Pn={log:a5,warn:function(t){Pt.console&&(typeof Pt.console.warn=="function"?Pt.console.warn.apply(Pt.console,arguments):a5.call(null,arguments))},error:function(t){Pt.console&&(typeof Pt.console.error=="function"?Pt.console.error.apply(Pt.console,arguments):a5(t))}};function l5(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Zu(r.response,e,n)},r.onerror=function(){Pn.error("could not download file")},r.send()}function Lk(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function T1(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Zu=Pt.saveAs||((typeof window>"u"?"undefined":wn(window))!=="object"||window!==Pt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Pt.URL||Pt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Lk(i.href)?l5(t,e,n):T1(i,i.target="_blank"):T1(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){T1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Lk(t))l5(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){T1(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:wn(s)!=="object"&&(Pn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return l5(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(Pt.HTMLElement)||Pt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":wn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(t)}else{var l=Pt.URL||Pt.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function AU(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}var dy=Pt.atob.bind(Pt),Dk=Pt.btoa.bind(Pt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function c5(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=bi(n,r,i,s,e[0],7,-680876936),s=bi(s,n,r,i,e[1],12,-389564586),i=bi(i,s,n,r,e[2],17,606105819),r=bi(r,i,s,n,e[3],22,-1044525330),n=bi(n,r,i,s,e[4],7,-176418897),s=bi(s,n,r,i,e[5],12,1200080426),i=bi(i,s,n,r,e[6],17,-1473231341),r=bi(r,i,s,n,e[7],22,-45705983),n=bi(n,r,i,s,e[8],7,1770035416),s=bi(s,n,r,i,e[9],12,-1958414417),i=bi(i,s,n,r,e[10],17,-42063),r=bi(r,i,s,n,e[11],22,-1990404162),n=bi(n,r,i,s,e[12],7,1804603682),s=bi(s,n,r,i,e[13],12,-40341101),i=bi(i,s,n,r,e[14],17,-1502002290),n=xi(n,r=bi(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=xi(s,n,r,i,e[6],9,-1069501632),i=xi(i,s,n,r,e[11],14,643717713),r=xi(r,i,s,n,e[0],20,-373897302),n=xi(n,r,i,s,e[5],5,-701558691),s=xi(s,n,r,i,e[10],9,38016083),i=xi(i,s,n,r,e[15],14,-660478335),r=xi(r,i,s,n,e[4],20,-405537848),n=xi(n,r,i,s,e[9],5,568446438),s=xi(s,n,r,i,e[14],9,-1019803690),i=xi(i,s,n,r,e[3],14,-187363961),r=xi(r,i,s,n,e[8],20,1163531501),n=xi(n,r,i,s,e[13],5,-1444681467),s=xi(s,n,r,i,e[2],9,-51403784),i=xi(i,s,n,r,e[7],14,1735328473),n=Si(n,r=xi(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Si(s,n,r,i,e[8],11,-2022574463),i=Si(i,s,n,r,e[11],16,1839030562),r=Si(r,i,s,n,e[14],23,-35309556),n=Si(n,r,i,s,e[1],4,-1530992060),s=Si(s,n,r,i,e[4],11,1272893353),i=Si(i,s,n,r,e[7],16,-155497632),r=Si(r,i,s,n,e[10],23,-1094730640),n=Si(n,r,i,s,e[13],4,681279174),s=Si(s,n,r,i,e[0],11,-358537222),i=Si(i,s,n,r,e[3],16,-722521979),r=Si(r,i,s,n,e[6],23,76029189),n=Si(n,r,i,s,e[9],4,-640364487),s=Si(s,n,r,i,e[12],11,-421815835),i=Si(i,s,n,r,e[15],16,530742520),n=Ei(n,r=Si(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Ei(s,n,r,i,e[7],10,1126891415),i=Ei(i,s,n,r,e[14],15,-1416354905),r=Ei(r,i,s,n,e[5],21,-57434055),n=Ei(n,r,i,s,e[12],6,1700485571),s=Ei(s,n,r,i,e[3],10,-1894986606),i=Ei(i,s,n,r,e[10],15,-1051523),r=Ei(r,i,s,n,e[1],21,-2054922799),n=Ei(n,r,i,s,e[8],6,1873313359),s=Ei(s,n,r,i,e[15],10,-30611744),i=Ei(i,s,n,r,e[6],15,-1560198380),r=Ei(r,i,s,n,e[13],21,1309151649),n=Ei(n,r,i,s,e[4],6,-145523070),s=Ei(s,n,r,i,e[11],10,-1120210379),i=Ei(i,s,n,r,e[2],15,718787259),r=Ei(r,i,s,n,e[9],21,-343485551),t[0]=Uc(n,t[0]),t[1]=Uc(r,t[1]),t[2]=Uc(i,t[2]),t[3]=Uc(s,t[3])}function nw(t,e,n,r,i,s){return e=Uc(Uc(e,t),Uc(r,s)),Uc(e<<i|e>>>32-i,n)}function bi(t,e,n,r,i,s,o){return nw(e&n|~e&r,t,e,i,s,o)}function xi(t,e,n,r,i,s,o){return nw(e&r|n&~r,t,e,i,s,o)}function Si(t,e,n,r,i,s,o){return nw(e^n^r,t,e,i,s,o)}function Ei(t,e,n,r,i,s,o){return nw(n^(e|~r),t,e,i,s,o)}function TU(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)c5(r,zge(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(c5(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,c5(r,i),r}function zge(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var Mk="0123456789abcdef".split("");function $ge(t){for(var e="",n=0;n<4;n++)e+=Mk[t>>8*n+4&15]+Mk[t>>8*n&15];return e}function qge(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Hx(t){return TU(t).map(qge).join("")}var Hge=function(t){for(var e=0;e<t.length;e++)t[e]=$ge(t[e]);return t.join("")}(TU("hello"))!="5d41402abc4b2a76b9719d911017c592";function Uc(t,e){if(Hge){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Wx(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}n=t,r=a}else a=r;var h=e.length,p=0,d=0,b="";for(l=0;l<h;l++)d=(d+(u=a[p=(p+1)%256]))%256,a[p]=a[d],a[d]=u,o=a[(a[p]+a[d])%256],b+=String.fromCharCode(e.charCodeAt(l)^o);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Ok={print:4,modify:8,copy:16,"annot-forms":32};function kd(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(Ok.perm!==void 0)throw new Error("Invalid permission: "+a);i+=Ok[a]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=Hx(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Wx(this.encryptionKey,this.padding)}function Rd(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function jk(t){if(wn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){Pt.console&&Pn.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Rv(t){if(!(this instanceof Rv))return new Rv(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function IU(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function eh(t,e,n,r,i){if(!(this instanceof eh))return new eh(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,IU.call(this,r,i)}function Qd(t,e,n,r,i){if(!(this instanceof Qd))return new Qd(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,IU.call(this,r,i)}function ht(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;wn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,p={},d={internal:{},__private__:{}};d.__private__.PubSub=jk;var b="1.3",y=d.__private__.getPdfVersion=function(){return b};d.__private__.setPdfVersion=function(x){b=x};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return _};var w=d.__private__.getPageFormat=function(x){return _[x]};i=i||"a4";var S="compat",E="advanced",k=S;function B(){this.saveGraphicsState(),ne(new Je(mt,0,0,-mt,0,Io()*mt).toString()+" cm"),this.setFontSize(this.getFontSize()/mt),c="n",k=E}function G(){this.restoreGraphicsState(),c="S",k=S}var D=d.__private__.combineFontStyleAndFontWeight=function(x,V){if(x=="bold"&&V=="normal"||x=="bold"&&V==400||x=="normal"&&V=="italic"||x=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(x=V==400||V==="normal"?x==="italic"?"italic":"normal":V!=700&&V!=="bold"||x!=="normal"?(V==700?"bold":V)+""+x:"bold"),x};d.advancedAPI=function(x){var V=k===S;return V&&B.call(this),typeof x!="function"||(x(this),V&&G.call(this)),this},d.compatAPI=function(x){var V=k===E;return V&&G.call(this),typeof x!="function"||(x(this),V&&B.call(this)),this},d.isAdvancedAPI=function(){return k===E};var N,P=function(x){if(k!==E)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},j=d.roundToPrecision=d.__private__.roundToPrecision=function(x,V){var Z=e||V;if(isNaN(x)||isNaN(Z))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(Z).replace(/0+$/,"")};N=d.hpf=d.__private__.hpf=typeof l=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return j(x,l)}:l==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return j(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return j(x,16)};var I=d.f2=d.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return j(x,2)},L=d.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return j(x,3)},M=d.scale=d.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return k===S?x*mt:k===E?x:void 0},W=function(x){return M(function(V){return k===S?Io()-V:k===E?V:void 0}(x))};d.__private__.setPrecision=d.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(e=parseInt(x,10))};var ae,ce="00000000000000000000000000000000",le=d.__private__.getFileId=function(){return ce},Y=d.__private__.setFileId=function(x){return ce=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():ce.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(An=new kd(u.userPermissions,u.userPassword,u.ownerPassword,ce)),ce};d.setFileId=function(x){return Y(x),this},d.getFileId=function(){return le()};var Q=d.__private__.convertDateToPDFDate=function(x){var V=x.getTimezoneOffset(),Z=V<0?"+":"-",se=Math.floor(Math.abs(V/60)),de=Math.abs(V%60),Te=[Z,J(se),"'",J(de),"'"].join("");return["D:",x.getFullYear(),J(x.getMonth()+1),J(x.getDate()),J(x.getHours()),J(x.getMinutes()),J(x.getSeconds()),Te].join("")},fe=d.__private__.convertPDFDateToDate=function(x){var V=parseInt(x.substr(2,4),10),Z=parseInt(x.substr(6,2),10)-1,se=parseInt(x.substr(8,2),10),de=parseInt(x.substr(10,2),10),Te=parseInt(x.substr(12,2),10),De=parseInt(x.substr(14,2),10);return new Date(V,Z,se,de,Te,De,0)},ye=d.__private__.setCreationDate=function(x){var V;if(x===void 0&&(x=new Date),x instanceof Date)V=Q(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=x}return ae=V},F=d.__private__.getCreationDate=function(x){var V=ae;return x==="jsDate"&&(V=fe(ae)),V};d.setCreationDate=function(x){return ye(x),this},d.getCreationDate=function(x){return F(x)};var X,J=d.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},ie=d.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},oe=0,re=[],ge=[],me=0,xe=[],Ee=[],Le=!1,Fe=ge;d.__private__.setCustomOutputDestination=function(x){Le=!0,Fe=x};var Se=function(x){Le||(Fe=x)};d.__private__.resetCustomOutputDestination=function(){Le=!1,Fe=ge};var ne=d.__private__.out=function(x){return x=x.toString(),me+=x.length+1,Fe.push(x),Fe},wt=d.__private__.write=function(x){return ne(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},pt=d.__private__.getArrayBuffer=function(x){for(var V=x.length,Z=new ArrayBuffer(V),se=new Uint8Array(Z);V--;)se[V]=x.charCodeAt(V);return Z},tt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return tt};var Ne=t.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(x){return Ne=k===E?x/mt:x,this};var $e,Ue=d.__private__.getFontSize=d.getFontSize=function(){return k===S?Ne:Ne*mt},At=t.R2L||!1;d.__private__.setR2L=d.setR2L=function(x){return At=x,this},d.__private__.getR2L=d.getR2L=function(){return At};var Xe,Jt=d.__private__.setZoomMode=function(x){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))$e=x;else if(isNaN(x)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');$e=x}else $e=parseInt(x,10)};d.__private__.getZoomMode=function(){return $e};var gt,st=d.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');Xe=x};d.__private__.getPageMode=function(){return Xe};var qt=d.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');gt=x};d.__private__.getLayoutMode=function(){return gt},d.__private__.setDisplayMode=d.setDisplayMode=function(x,V,Z){return Jt(x),qt(V),st(Z),this};var St={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(x){if(Object.keys(St).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return St[x]},d.__private__.getDocumentProperties=function(){return St},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(x){for(var V in St)St.hasOwnProperty(V)&&x[V]&&(St[V]=x[V]);return this},d.__private__.setDocumentProperty=function(x,V){if(Object.keys(St).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return St[x]=V};var ot,mt,it,ln,Vt,We={},vt={},jt=[],dt={},Ft={},_t={},dn={},Gn=null,Tt=0,ct=[],Ht=new jk(d),ut=t.hotfixes||[],It={},Gt={},mn=[],Je=function x(V,Z,se,de,Te,De){if(!(this instanceof x))return new x(V,Z,se,de,Te,De);isNaN(V)&&(V=1),isNaN(Z)&&(Z=0),isNaN(se)&&(se=0),isNaN(de)&&(de=1),isNaN(Te)&&(Te=0),isNaN(De)&&(De=0),this._matrix=[V,Z,se,de,Te,De]};Object.defineProperty(Je.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(Je.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(Je.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(Je.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(Je.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(Je.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(Je.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(Je.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(Je.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(Je.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(Je.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(Je.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(Je.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Je.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Je.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Je.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Je.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(x)},Je.prototype.multiply=function(x){var V=x.sx*this.sx+x.shy*this.shx,Z=x.sx*this.shy+x.shy*this.sy,se=x.shx*this.sx+x.sy*this.shx,de=x.shx*this.shy+x.sy*this.sy,Te=x.tx*this.sx+x.ty*this.shx+this.tx,De=x.tx*this.shy+x.ty*this.sy+this.ty;return new Je(V,Z,se,de,Te,De)},Je.prototype.decompose=function(){var x=this.sx,V=this.shy,Z=this.shx,se=this.sy,de=this.tx,Te=this.ty,De=Math.sqrt(x*x+V*V),Ke=(x/=De)*Z+(V/=De)*se;Z-=x*Ke,se-=V*Ke;var et=Math.sqrt(Z*Z+se*se);return Ke/=et,x*(se/=et)<V*(Z/=et)&&(x=-x,V=-V,Ke=-Ke,De=-De),{scale:new Je(De,0,0,et,0,0),translate:new Je(1,0,0,1,de,Te),rotate:new Je(x,V,-V,x,0,0),skew:new Je(1,0,Ke,1,0,0)}},Je.prototype.toString=function(x){return this.join(" ")},Je.prototype.inversed=function(){var x=this.sx,V=this.shy,Z=this.shx,se=this.sy,de=this.tx,Te=this.ty,De=1/(x*se-V*Z),Ke=se*De,et=-V*De,yt=-Z*De,at=x*De;return new Je(Ke,et,yt,at,-Ke*de-yt*Te,-et*de-at*Te)},Je.prototype.applyToPoint=function(x){var V=x.x*this.sx+x.y*this.shx+this.tx,Z=x.x*this.shy+x.y*this.sy+this.ty;return new bs(V,Z)},Je.prototype.applyToRectangle=function(x){var V=this.applyToPoint(x),Z=this.applyToPoint(new bs(x.x+x.w,x.y+x.h));return new Xl(V.x,V.y,Z.x-V.x,Z.y-V.y)},Je.prototype.clone=function(){var x=this.sx,V=this.shy,Z=this.shx,se=this.sy,de=this.tx,Te=this.ty;return new Je(x,V,Z,se,de,Te)},d.Matrix=Je;var Nr=d.matrixMult=function(x,V){return V.multiply(x)},ir=new Je(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=ir;var En=function(x,V){if(!Ft[x]){var Z=(V instanceof eh?"Sh":"P")+(Object.keys(dt).length+1).toString(10);V.id=Z,Ft[x]=Z,dt[Z]=V,Ht.publish("addPattern",V)}};d.ShadingPattern=eh,d.TilingPattern=Qd,d.addShadingPattern=function(x,V){return P("addShadingPattern()"),En(x,V),this},d.beginTilingPattern=function(x){P("beginTilingPattern()"),ha(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},d.endTilingPattern=function(x,V){P("endTilingPattern()"),V.stream=Ee[X].join(`
`),En(x,V),Ht.publish("endTilingPattern",V),mn.pop().restore()};var Kn,kn=d.__private__.newObject=function(){var x=Yn();return Vr(x,!0),x},Yn=d.__private__.newObjectDeferred=function(){return oe++,re[oe]=function(){return me},oe},Vr=function(x,V){return V=typeof V=="boolean"&&V,re[x]=me,V&&ne(x+" 0 obj"),x},di=d.__private__.newAdditionalObject=function(){var x={objId:Yn(),content:""};return xe.push(x),x},Ao=Yn(),Ji=Yn(),Zi=d.__private__.decodeColorString=function(x){var V=x.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length!==5||V[4]!=="k"&&V[4]!=="K"||(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var Z=parseFloat(V[0]);V=[Z,Z,Z,"r"]}for(var se="#",de=0;de<3;de++)se+=("0"+Math.floor(255*parseFloat(V[de])).toString(16)).slice(-2);return se},Ri=d.__private__.encodeColorString=function(x){var V;typeof x=="string"&&(x={ch1:x});var Z=x.ch1,se=x.ch2,de=x.ch3,Te=x.ch4,De=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Z=="string"&&Z.charAt(0)!=="#"){var Ke=new AU(Z);if(Ke.ok)Z=Ke.toHex();else if(!/^\d*\.?\d*$/.test(Z))throw new Error('Invalid color "'+Z+'" passed to jsPDF.encodeColorString.')}if(typeof Z=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Z)&&(Z="#"+Z[1]+Z[1]+Z[2]+Z[2]+Z[3]+Z[3]),typeof Z=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Z)){var et=parseInt(Z.substr(1),16);Z=et>>16&255,se=et>>8&255,de=255&et}if(se===void 0||Te===void 0&&Z===se&&se===de)V=typeof Z=="string"?Z+" "+De[0]:x.precision===2?I(Z/255)+" "+De[0]:L(Z/255)+" "+De[0];else if(Te===void 0||wn(Te)==="object"){if(Te&&!isNaN(Te.a)&&Te.a===0)return["1.","1.","1.",De[1]].join(" ");V=typeof Z=="string"?[Z,se,de,De[1]].join(" "):x.precision===2?[I(Z/255),I(se/255),I(de/255),De[1]].join(" "):[L(Z/255),L(se/255),L(de/255),De[1]].join(" ")}else V=typeof Z=="string"?[Z,se,de,Te,De[2]].join(" "):x.precision===2?[I(Z),I(se),I(de),I(Te),De[2]].join(" "):[L(Z),L(se),L(de),L(Te),De[2]].join(" ");return V},es=d.__private__.getFilters=function(){return o},ts=d.__private__.putStream=function(x){var V=(x=x||{}).data||"",Z=x.filters||es(),se=x.alreadyAppliedFilters||[],de=x.addLength1||!1,Te=V.length,De=x.objectId,Ke=function(T){return T};if(u!==null&&De===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Ke=An.encryptor(De,0));var et={};Z===!0&&(Z=["FlateEncode"]);var yt=x.additionalKeyValues||[],at=(et=ht.API.processDataByFilters!==void 0?ht.API.processDataByFilters(V,Z):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(se)?se.join(" "):se.toString());if(et.data.length!==0&&(yt.push({key:"Length",value:et.data.length}),de===!0&&yt.push({key:"Length1",value:Te})),at.length!=0)if(at.split("/").length-1==1)yt.push({key:"Filter",value:at});else{yt.push({key:"Filter",value:"["+at+"]"});for(var tn=0;tn<yt.length;tn+=1)if(yt[tn].key==="DecodeParms"){for(var Ln=[],Tn=0;Tn<et.reverseChain.split("/").length-1;Tn+=1)Ln.push("null");Ln.push(yt[tn].value),yt[tn].value="["+Ln.join(" ")+"]"}}ne("<<");for(var m=0;m<yt.length;m++)ne("/"+yt[m].key+" "+yt[m].value);ne(">>"),et.data.length!==0&&(ne("stream"),ne(Ke(et.data)),ne("endstream"))},ra=d.__private__.putPage=function(x){var V=x.number,Z=x.data,se=x.objId,de=x.contentsObjId;Vr(se,!0),ne("<</Type /Page"),ne("/Parent "+x.rootDictionaryObjId+" 0 R"),ne("/Resources "+x.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(N(x.mediaBox.bottomLeftX))+" "+parseFloat(N(x.mediaBox.bottomLeftY))+" "+N(x.mediaBox.topRightX)+" "+N(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&ne("/CropBox ["+N(x.cropBox.bottomLeftX)+" "+N(x.cropBox.bottomLeftY)+" "+N(x.cropBox.topRightX)+" "+N(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&ne("/BleedBox ["+N(x.bleedBox.bottomLeftX)+" "+N(x.bleedBox.bottomLeftY)+" "+N(x.bleedBox.topRightX)+" "+N(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&ne("/TrimBox ["+N(x.trimBox.bottomLeftX)+" "+N(x.trimBox.bottomLeftY)+" "+N(x.trimBox.topRightX)+" "+N(x.trimBox.topRightY)+"]"),x.artBox!==null&&ne("/ArtBox ["+N(x.artBox.bottomLeftX)+" "+N(x.artBox.bottomLeftY)+" "+N(x.artBox.topRightX)+" "+N(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&ne("/UserUnit "+x.userUnit),Ht.publish("putPage",{objId:se,pageContext:ct[V],pageNumber:V,page:Z}),ne("/Contents "+de+" 0 R"),ne(">>"),ne("endobj");var Te=Z.join(`
`);return k===E&&(Te+=`
Q`),Vr(de,!0),ts({data:Te,filters:es(),objectId:de}),ne("endobj"),se},Gs=d.__private__.putPages=function(){var x,V,Z=[];for(x=1;x<=Tt;x++)ct[x].objId=Yn(),ct[x].contentsObjId=Yn();for(x=1;x<=Tt;x++)Z.push(ra({number:x,data:Ee[x],objId:ct[x].objId,contentsObjId:ct[x].contentsObjId,mediaBox:ct[x].mediaBox,cropBox:ct[x].cropBox,bleedBox:ct[x].bleedBox,trimBox:ct[x].trimBox,artBox:ct[x].artBox,userUnit:ct[x].userUnit,rootDictionaryObjId:Ao,resourceDictionaryObjId:Ji}));Vr(Ao,!0),ne("<</Type /Pages");var se="/Kids [";for(V=0;V<Tt;V++)se+=Z[V]+" 0 R ";ne(se+"]"),ne("/Count "+Tt),ne(">>"),ne("endobj"),Ht.publish("postPutPages")},Ks=function(x){Ht.publish("putFont",{font:x,out:ne,newObject:kn,putStream:ts}),x.isAlreadyPutted!==!0&&(x.objectNumber=kn(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+Rd(x.postScriptName)),ne("/Subtype /Type1"),typeof x.encoding=="string"&&ne("/Encoding /"+x.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},Ya=function(x){x.objectNumber=kn();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[N(x.x),N(x.y),N(x.x+x.width),N(x.y+x.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var Z=x.pages[1].join(`
`);ts({data:Z,additionalKeyValues:V,objectId:x.objectNumber}),ne("endobj")},ia=function(x,V){V||(V=21);var Z=kn(),se=function(De,Ke){var et,yt=[],at=1/(Ke-1);for(et=0;et<1;et+=at)yt.push(et);if(yt.push(1),De[0].offset!=0){var tn={offset:0,color:De[0].color};De.unshift(tn)}if(De[De.length-1].offset!=1){var Ln={offset:1,color:De[De.length-1].color};De.push(Ln)}for(var Tn="",m=0,T=0;T<yt.length;T++){for(et=yt[T];et>De[m+1].offset;)m++;var O=De[m].offset,H=(et-O)/(De[m+1].offset-O),pe=De[m].color,be=De[m+1].color;Tn+=ie(Math.round((1-H)*pe[0]+H*be[0]).toString(16))+ie(Math.round((1-H)*pe[1]+H*be[1]).toString(16))+ie(Math.round((1-H)*pe[2]+H*be[2]).toString(16))}return Tn.trim()}(x.colors,V),de=[];de.push({key:"FunctionType",value:"0"}),de.push({key:"Domain",value:"[0.0 1.0]"}),de.push({key:"Size",value:"["+V+"]"}),de.push({key:"BitsPerSample",value:"8"}),de.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),de.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ts({data:se,additionalKeyValues:de,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Z}),ne("endobj"),x.objectNumber=kn(),ne("<< /ShadingType "+x.type),ne("/ColorSpace /DeviceRGB");var Te="/Coords ["+N(parseFloat(x.coords[0]))+" "+N(parseFloat(x.coords[1]))+" ";x.type===2?Te+=N(parseFloat(x.coords[2]))+" "+N(parseFloat(x.coords[3])):Te+=N(parseFloat(x.coords[2]))+" "+N(parseFloat(x.coords[3]))+" "+N(parseFloat(x.coords[4]))+" "+N(parseFloat(x.coords[5])),ne(Te+="]"),x.matrix&&ne("/Matrix ["+x.matrix.toString()+"]"),ne("/Function "+Z+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},Ys=function(x,V){var Z=Yn(),se=kn();V.push({resourcesOid:Z,objectOid:se}),x.objectNumber=se;var de=[];de.push({key:"Type",value:"/Pattern"}),de.push({key:"PatternType",value:"1"}),de.push({key:"PaintType",value:"1"}),de.push({key:"TilingType",value:"1"}),de.push({key:"BBox",value:"["+x.boundingBox.map(N).join(" ")+"]"}),de.push({key:"XStep",value:N(x.xStep)}),de.push({key:"YStep",value:N(x.yStep)}),de.push({key:"Resources",value:Z+" 0 R"}),x.matrix&&de.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),ts({data:x.stream,additionalKeyValues:de,objectId:x.objectNumber}),ne("endobj")},To=function(x){for(var V in x.objectNumber=kn(),ne("<<"),x)switch(V){case"opacity":ne("/ca "+I(x[V]));break;case"stroke-opacity":ne("/CA "+I(x[V]))}ne(">>"),ne("endobj")},Xa=function(x){Vr(x.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var V in ne("/Font <<"),We)We.hasOwnProperty(V)&&(h===!1||h===!0&&p.hasOwnProperty(V))&&ne("/"+V+" "+We[V].objectNumber+" 0 R");ne(">>")}(),function(){if(Object.keys(dt).length>0){for(var V in ne("/Shading <<"),dt)dt.hasOwnProperty(V)&&dt[V]instanceof eh&&dt[V].objectNumber>=0&&ne("/"+V+" "+dt[V].objectNumber+" 0 R");Ht.publish("putShadingPatternDict"),ne(">>")}}(),function(V){if(Object.keys(dt).length>0){for(var Z in ne("/Pattern <<"),dt)dt.hasOwnProperty(Z)&&dt[Z]instanceof d.TilingPattern&&dt[Z].objectNumber>=0&&dt[Z].objectNumber<V&&ne("/"+Z+" "+dt[Z].objectNumber+" 0 R");Ht.publish("putTilingPatternDict"),ne(">>")}}(x.objectOid),function(){if(Object.keys(_t).length>0){var V;for(V in ne("/ExtGState <<"),_t)_t.hasOwnProperty(V)&&_t[V].objectNumber>=0&&ne("/"+V+" "+_t[V].objectNumber+" 0 R");Ht.publish("putGStateDict"),ne(">>")}}(),function(){for(var V in ne("/XObject <<"),It)It.hasOwnProperty(V)&&It[V].objectNumber>=0&&ne("/"+V+" "+It[V].objectNumber+" 0 R");Ht.publish("putXobjectDict"),ne(">>")}(),ne(">>"),ne("endobj")},ad=function(x){vt[x.fontName]=vt[x.fontName]||{},vt[x.fontName][x.fontStyle]=x.id},Lu=function(x,V,Z,se,de){var Te={id:"F"+(Object.keys(We).length+1).toString(10),postScriptName:x,fontName:V,fontStyle:Z,encoding:se,isStandardFont:de||!1,metadata:{}};return Ht.publish("addFont",{font:Te,instance:this}),We[Te.id]=Te,ad(Te),Te.id},Li=d.__private__.pdfEscape=d.pdfEscape=function(x,V){return function(Z,se){var de,Te,De,Ke,et,yt,at,tn,Ln;if(De=(se=se||{}).sourceEncoding||"Unicode",et=se.outputEncoding,(se.autoencode||et)&&We[ot].metadata&&We[ot].metadata[De]&&We[ot].metadata[De].encoding&&(Ke=We[ot].metadata[De].encoding,!et&&We[ot].encoding&&(et=We[ot].encoding),!et&&Ke.codePages&&(et=Ke.codePages[0]),typeof et=="string"&&(et=Ke[et]),et)){for(at=!1,yt=[],de=0,Te=Z.length;de<Te;de++)(tn=et[Z.charCodeAt(de)])?yt.push(String.fromCharCode(tn)):yt.push(Z[de]),yt[de].charCodeAt(0)>>8&&(at=!0);Z=yt.join("")}for(de=Z.length;at===void 0&&de!==0;)Z.charCodeAt(de-1)>>8&&(at=!0),de--;if(!at)return Z;for(yt=se.noBOM?[]:[254,255],de=0,Te=Z.length;de<Te;de++){if((Ln=(tn=Z.charCodeAt(de))>>8)>>8)throw new Error("Character at position "+de+" of string '"+Z+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");yt.push(Ln),yt.push(tn-(Ln<<8))}return String.fromCharCode.apply(void 0,yt)}(x,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Bl=d.__private__.beginPage=function(x){Ee[++Tt]=[],ct[Tt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},Du(Tt),Se(Ee[X])},zl=function(x,V){var Z,se,de;switch(n=V||n,typeof x=="string"&&(Z=w(x.toLowerCase()),Array.isArray(Z)&&(se=Z[0],de=Z[1])),Array.isArray(x)&&(se=x[0]*mt,de=x[1]*mt),isNaN(se)&&(se=i[0],de=i[1]),(se>14400||de>14400)&&(Pn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),se=Math.min(14400,se),de=Math.min(14400,de)),i=[se,de],n.substr(0,1)){case"l":de>se&&(i=[de,se]);break;case"p":se>de&&(i=[de,se])}Bl(i),Fu(rs),ne(Gl),is!==0&&ne(is+" J"),Yl!==0&&ne(Yl+" j"),Ht.publish("addPage",{pageNumber:Tt})},Qa=function(x){x>0&&x<=Tt&&(Ee.splice(x,1),ct.splice(x,1),Tt--,X>Tt&&(X=Tt),this.setPage(X))},Du=function(x){x>0&&x<=Tt&&(X=x)},Mu=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return Ee.length-1},Ou=function(x,V,Z){var se,de=void 0;return Z=Z||{},x=x!==void 0?x:We[ot].fontName,V=V!==void 0?V:We[ot].fontStyle,se=x.toLowerCase(),vt[se]!==void 0&&vt[se][V]!==void 0?de=vt[se][V]:vt[x]!==void 0&&vt[x][V]!==void 0?de=vt[x][V]:Z.disableWarning===!1&&Pn.warn("Unable to look up font label for font '"+x+"', '"+V+"'. Refer to getFontList() for available fonts."),de||Z.noFallback||(de=vt.times[V])==null&&(de=vt.times.normal),de},$l=d.__private__.putInfo=function(){var x=kn(),V=function(se){return se};for(var Z in u!==null&&(V=An.encryptor(x,0)),ne("<<"),ne("/Producer ("+Li(V("jsPDF "+ht.version))+")"),St)St.hasOwnProperty(Z)&&St[Z]&&ne("/"+Z.substr(0,1).toUpperCase()+Z.substr(1)+" ("+Li(V(St[Z]))+")");ne("/CreationDate ("+Li(V(ae))+")"),ne(">>"),ne("endobj")},Xs=d.__private__.putCatalog=function(x){var V=(x=x||{}).rootDictionaryObjId||Ao;switch(kn(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+V+" 0 R"),$e||($e="fullwidth"),$e){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Z=""+$e;Z.substr(Z.length-1)==="%"&&($e=parseInt($e)/100),typeof $e=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+I($e)+"]")}switch(gt||(gt="continuous"),gt){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}Xe&&ne("/PageMode /"+Xe),Ht.publish("putCatalog"),ne(">>"),ne("endobj")},un=d.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(oe+1)),ne("/Root "+oe+" 0 R"),ne("/Info "+(oe-1)+" 0 R"),u!==null&&ne("/Encrypt "+An.oid+" 0 R"),ne("/ID [ <"+ce+"> <"+ce+"> ]"),ne(">>")},sa=d.__private__.putHeader=function(){ne("%PDF-"+b),ne("%ºß¬à")},oa=d.__private__.putXRef=function(){var x="0000000000";ne("xref"),ne("0 "+(oe+1)),ne("0000000000 65535 f ");for(var V=1;V<=oe;V++)typeof re[V]=="function"?ne((x+re[V]()).slice(-10)+" 00000 n "):re[V]!==void 0?ne((x+re[V]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},ws=d.__private__.buildDocument=function(){var x;oe=0,me=0,ge=[],re=[],xe=[],Ao=Yn(),Ji=Yn(),Se(ge),Ht.publish("buildDocument"),sa(),Gs(),function(){Ht.publish("putAdditionalObjects");for(var Z=0;Z<xe.length;Z++){var se=xe[Z];Vr(se.objId,!0),ne(se.content),ne("endobj")}Ht.publish("postPutAdditionalObjects")}(),x=[],function(){for(var Z in We)We.hasOwnProperty(Z)&&(h===!1||h===!0&&p.hasOwnProperty(Z))&&Ks(We[Z])}(),function(){var Z;for(Z in _t)_t.hasOwnProperty(Z)&&To(_t[Z])}(),function(){for(var Z in It)It.hasOwnProperty(Z)&&Ya(It[Z])}(),function(Z){var se;for(se in dt)dt.hasOwnProperty(se)&&(dt[se]instanceof eh?ia(dt[se]):dt[se]instanceof Qd&&Ys(dt[se],Z))}(x),Ht.publish("putResources"),x.forEach(Xa),Xa({resourcesOid:Ji,objectOid:Number.MAX_SAFE_INTEGER}),Ht.publish("postPutResources"),u!==null&&(An.oid=kn(),ne("<<"),ne("/Filter /Standard"),ne("/V "+An.v),ne("/R "+An.r),ne("/U <"+An.toHexString(An.U)+">"),ne("/O <"+An.toHexString(An.O)+">"),ne("/P "+An.P),ne(">>"),ne("endobj")),$l(),Xs();var V=me;return oa(),un(),ne("startxref"),ne(""+V),ne("%%EOF"),Se(Ee[X]),ge.join(`
`)},sn=d.__private__.getBlob=function(x){return new Blob([pt(x)],{type:"application/pdf"})},fi=d.output=d.__private__.output=(Kn=function(x,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",x){case void 0:return ws();case"save":d.save(V.filename);break;case"arraybuffer":return pt(ws());case"blob":return sn(ws());case"bloburi":case"bloburl":if(Pt.URL!==void 0&&typeof Pt.URL.createObjectURL=="function")return Pt.URL&&Pt.URL.createObjectURL(sn(ws()))||void 0;Pn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Z="",se=ws();try{Z=Dk(se)}catch{Z=Dk(unescape(encodeURIComponent(se)))}return"data:application/pdf;filename="+V.filename+";base64,"+Z;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Pt)==="[object Window]"){var de="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Te=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(de=V.pdfObjectUrl,Te="");var De='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+de+'"'+Te+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",Ke=Pt.open();return Ke!==null&&Ke.document.write(De),Ke}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Pt)==="[object Window]"){var et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',yt=Pt.open();if(yt!==null){yt.document.write(et);var at=this;yt.document.documentElement.querySelector("#pdfViewer").onload=function(){yt.document.title=V.filename,yt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(at.output("bloburl"))}}return yt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Pt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var tn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',Ln=Pt.open();if(Ln!==null&&(Ln.document.write(tn),Ln.document.title=V.filename),Ln||typeof safari>"u")return Ln;break;case"datauri":case"dataurl":return Pt.document.location.href=this.output("datauristring",V);default:return null}},Kn.foo=function(){try{return Kn.apply(this,arguments)}catch(Z){var x=Z.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var V="Error in function "+x.split(`
`)[0].split("<")[0]+": "+Z.message;if(!Pt.console)throw new Error(V);Pt.console.error(V,Z),Pt.alert&&alert(V)}},Kn.foo.bar=Kn,Kn.foo),_s=function(x){return Array.isArray(ut)===!0&&ut.indexOf(x)>-1};switch(r){case"pt":mt=1;break;case"mm":mt=72/25.4;break;case"cm":mt=72/2.54;break;case"in":mt=72;break;case"px":mt=_s("px_scaling")==1?.75:96/72;break;case"pc":case"em":mt=12;break;case"ex":mt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);mt=r}var An=null;ye(),Y();var ju=d.__private__.getPageInfo=d.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ct[x].objId,pageNumber:x,pageContext:ct[x]}},ld=d.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in ct)if(ct[V].objId===x)break;return ju(V)},gp=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:ct[X].objId,pageNumber:X,pageContext:ct[X]}};d.addPage=function(){return zl.apply(this,arguments),this},d.setPage=function(){return Du.apply(this,arguments),Se.call(this,Ee[X]),this},d.insertPage=function(x){return this.addPage(),this.movePage(X,x),this},d.movePage=function(x,V){var Z,se;if(x>V){Z=Ee[x],se=ct[x];for(var de=x;de>V;de--)Ee[de]=Ee[de-1],ct[de]=ct[de-1];Ee[V]=Z,ct[V]=se,this.setPage(V)}else if(x<V){Z=Ee[x],se=ct[x];for(var Te=x;Te<V;Te++)Ee[Te]=Ee[Te+1],ct[Te]=ct[Te+1];Ee[V]=Z,ct[V]=se,this.setPage(V)}return this},d.deletePage=function(){return Qa.apply(this,arguments),this},d.__private__.text=d.text=function(x,V,Z,se,de){var Te,De,Ke,et,yt,at,tn,Ln,Tn,m=(se=se||{}).scope||this;if(typeof x=="number"&&typeof V=="number"&&(typeof Z=="string"||Array.isArray(Z))){var T=Z;Z=V,V=x,x=T}if(arguments[3]instanceof Je==0?(Ke=arguments[4],et=arguments[5],wn(tn=arguments[3])==="object"&&tn!==null||(typeof Ke=="string"&&(et=Ke,Ke=null),typeof tn=="string"&&(et=tn,tn=null),typeof tn=="number"&&(Ke=tn,tn=null),se={flags:tn,angle:Ke,align:et})):(P("The transform parameter of text() with a Matrix value"),Tn=de),isNaN(V)||isNaN(Z)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return m;var O,H="",pe=typeof se.lineHeightFactor=="number"?se.lineHeightFactor:Ja,be=m.internal.scaleFactor;function Ve(fn){return fn=fn.split("	").join(Array(se.TabLen||9).join(" ")),Li(fn,tn)}function Nt(fn){for(var Cn,yr=fn.concat(),Ur=[],al=yr.length;al--;)typeof(Cn=yr.shift())=="string"?Ur.push(Cn):Array.isArray(fn)&&(Cn.length===1||Cn[1]===void 0&&Cn[2]===void 0)?Ur.push(Cn[0]):Ur.push([Cn[0],Cn[1],Cn[2]]);return Ur}function In(fn,Cn){var yr;if(typeof fn=="string")yr=Cn(fn)[0];else if(Array.isArray(fn)){for(var Ur,al,Ip=fn.concat(),yd=[],v0=Ip.length;v0--;)typeof(Ur=Ip.shift())=="string"?yd.push(Cn(Ur)[0]):Array.isArray(Ur)&&typeof Ur[0]=="string"&&(al=Cn(Ur[0],Ur[1],Ur[2]),yd.push([al[0],al[1],al[2]]));yr=yd}return yr}var Kt=!1,Dn=!0;if(typeof x=="string")Kt=!0;else if(Array.isArray(x)){var Kr=x.concat();De=[];for(var Oi,Fn=Kr.length;Fn--;)(typeof(Oi=Kr.shift())!="string"||Array.isArray(Oi)&&typeof Oi[0]!="string")&&(Dn=!1);Kt=Dn}if(Kt===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var mi=Ne/m.internal.scaleFactor,eo=mi*(pe-1);switch(se.baseline){case"bottom":Z-=eo;break;case"top":Z+=mi-eo;break;case"hanging":Z+=mi-2*eo;break;case"middle":Z+=mi/2-eo}if((at=se.maxWidth||0)>0&&(typeof x=="string"?x=m.splitTextToSize(x,at):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(fn,Cn){return fn.concat(m.splitTextToSize(Cn,at))},[]))),Te={text:x,x:V,y:Z,options:se,mutex:{pdfEscape:Li,activeFontKey:ot,fonts:We,activeFontSize:Ne}},Ht.publish("preProcessText",Te),x=Te.text,Ke=(se=Te.options).angle,Tn instanceof Je==0&&Ke&&typeof Ke=="number"){Ke*=Math.PI/180,se.rotationDirection===0&&(Ke=-Ke),k===E&&(Ke=-Ke);var il=Math.cos(Ke),wp=Math.sin(Ke);Tn=new Je(il,wp,-wp,il,0,0)}else Ke&&Ke instanceof Je&&(Tn=Ke);k!==E||Tn||(Tn=ir),(yt=se.charSpace||tl)!==void 0&&(H+=N(M(yt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ln=se.horizontalScale)!==void 0&&(H+=N(100*Ln)+` Tz
`),se.lang;var sr=-1,sl=se.renderingMode!==void 0?se.renderingMode:se.stroke,md=m.internal.getCurrentPageInfo().pageContext;switch(sl){case 0:case!1:case"fill":sr=0;break;case 1:case!0:case"stroke":sr=1;break;case 2:case"fillThenStroke":sr=2;break;case 3:case"invisible":sr=3;break;case 4:case"fillAndAddForClipping":sr=4;break;case 5:case"strokeAndAddPathForClipping":sr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":sr=6;break;case 7:case"addToPathForClipping":sr=7}var g0=md.usedRenderingMode!==void 0?md.usedRenderingMode:-1;sr!==-1?H+=sr+` Tr
`:g0!==-1&&(H+=`0 Tr
`),sr!==-1&&(md.usedRenderingMode=sr),et=se.align||"left";var to,$u=Ne*pe,_p=m.internal.pageSize.getWidth(),bp=We[ot];yt=se.charSpace||tl,at=se.maxWidth||0,tn=Object.assign({autoencode:!0,noBOM:!0},se.flags);var Jl=[],qu=function(fn){return m.getStringUnitWidth(fn,{font:bp,charSpace:yt,fontSize:Ne,doKerning:!1})*Ne/be};if(Object.prototype.toString.call(x)==="[object Array]"){var xs;De=Nt(x),et!=="left"&&(to=De.map(qu));var Ss,Zl=0;if(et==="right"){V-=to[0],x=[],Fn=De.length;for(var ol=0;ol<Fn;ol++)ol===0?(Ss=Di(V),xs=Js(Z)):(Ss=M(Zl-to[ol]),xs=-$u),x.push([De[ol],Ss,xs]),Zl=to[ol]}else if(et==="center"){V-=to[0]/2,x=[],Fn=De.length;for(var ec=0;ec<Fn;ec++)ec===0?(Ss=Di(V),xs=Js(Z)):(Ss=M((Zl-to[ec])/2),xs=-$u),x.push([De[ec],Ss,xs]),Zl=to[ec]}else if(et==="left"){x=[],Fn=De.length;for(var xp=0;xp<Fn;xp++)x.push(De[xp])}else if(et==="justify"&&bp.encoding==="Identity-H"){x=[],Fn=De.length,at=at!==0?at:_p;for(var gd=0,gr=0;gr<Fn;gr++)if(xs=gr===0?Js(Z):-$u,Ss=gr===0?Di(V):gd,gr<Fn-1){var y0=M((at-to[gr])/(De[gr].split(" ").length-1)),fa=De[gr].split(" ");x.push([fa[0]+" ",Ss,xs]),gd=0;for(var pa=1;pa<fa.length;pa++){var Sp=(qu(fa[pa-1]+" "+fa[pa])-qu(fa[pa]))*be+y0;pa==fa.length-1?x.push([fa[pa],Sp,0]):x.push([fa[pa]+" ",Sp,0]),gd-=Sp}}else x.push([De[gr],Ss,xs]);x.push(["",gd,0])}else{if(et!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],Fn=De.length,at=at!==0?at:_p,gr=0;gr<Fn;gr++){xs=gr===0?Js(Z):-$u,Ss=gr===0?Di(V):0;var Ep=De[gr].split(" ").length-1,Ap=Ep>0?(at-to[gr])/Ep:0;gr<Fn-1?Jl.push(N(M(Ap))):Jl.push(0),x.push([De[gr],Ss,xs])}}}(typeof se.R2L=="boolean"?se.R2L:At)===!0&&(x=In(x,function(fn,Cn,yr){return[fn.split("").reverse().join(""),Cn,yr]})),Te={text:x,x:V,y:Z,options:se,mutex:{pdfEscape:Li,activeFontKey:ot,fonts:We,activeFontSize:Ne}},Ht.publish("postProcessText",Te),x=Te.text,O=Te.mutex.isHex||!1;var Tp=We[ot].encoding;Tp!=="WinAnsiEncoding"&&Tp!=="StandardEncoding"||(x=In(x,function(fn,Cn,yr){return[Ve(fn),Cn,yr]})),De=Nt(x),x=[];for(var tc,nc,rc,Hu=Array.isArray(De[0])?1:0,ic="",Wu=function(fn,Cn,yr){var Ur="";return yr instanceof Je?(yr=typeof se.angle=="number"?Nr(yr,new Je(1,0,0,1,fn,Cn)):Nr(new Je(1,0,0,1,fn,Cn),yr),k===E&&(yr=Nr(new Je(1,0,0,-1,0,0),yr)),Ur=yr.join(" ")+` Tm
`):Ur=N(fn)+" "+N(Cn)+` Td
`,Ur},no=0;no<De.length;no++){switch(ic="",Hu){case 1:rc=(O?"<":"(")+De[no][0]+(O?">":")"),tc=parseFloat(De[no][1]),nc=parseFloat(De[no][2]);break;case 0:rc=(O?"<":"(")+De[no]+(O?">":")"),tc=Di(V),nc=Js(Z)}Jl!==void 0&&Jl[no]!==void 0&&(ic=Jl[no]+` Tw
`),no===0?x.push(ic+Wu(tc,nc,Tn)+rc):Hu===0?x.push(ic+rc):Hu===1&&x.push(ic+Wu(tc,nc,Tn)+rc)}x=Hu===0?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var ma=`BT
/`;return ma+=ot+" "+Ne+` Tf
`,ma+=N(Ne*pe)+` TL
`,ma+=ca+`
`,ma+=H,ma+=x,ne(ma+="ET"),p[ot]=!0,m};var yp=d.__private__.clip=d.clip=function(x){return ne(x==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return yp("evenodd")},d.__private__.discardPath=d.discardPath=function(){return ne("n"),this};var Qs=d.__private__.isValidStyle=function(x){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(V=!0),V};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(x){return Qs(x)&&(c=x),this};var cd=d.__private__.getStyle=d.getStyle=function(x){var V=c;switch(x){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=x}return V},aa=d.close=function(){return ne("h"),this};d.stroke=function(){return ne("S"),this},d.fill=function(x){return pi("f",x),this},d.fillEvenOdd=function(x){return pi("f*",x),this},d.fillStroke=function(x){return pi("B",x),this},d.fillStrokeEvenOdd=function(x){return pi("B*",x),this};var pi=function(x,V){wn(V)==="object"?hd(V,x):ne(x)},ql=function(x){x===null||k===E&&x===void 0||(x=cd(x),ne(x))};function ud(x,V,Z,se,de){var Te=new Qd(V||this.boundingBox,Z||this.xStep,se||this.yStep,this.gState,de||this.matrix);Te.stream=this.stream;var De=x+"$$"+this.cloneIndex+++"$$";return En(De,Te),Te}var hd=function(x,V){var Z=Ft[x.key],se=dt[Z];if(se instanceof eh)ne("q"),ne(dd(V)),se.gState&&d.setGState(se.gState),ne(x.matrix.toString()+" cm"),ne("/"+Z+" sh"),ne("Q");else if(se instanceof Qd){var de=new Je(1,0,0,-1,0,Io());x.matrix&&(de=de.multiply(x.matrix||ir),Z=ud.call(se,x.key,x.boundingBox,x.xStep,x.yStep,de).id),ne("q"),ne("/Pattern cs"),ne("/"+Z+" scn"),se.gState&&d.setGState(se.gState),ne(V),ne("Q")}},dd=function(x){switch(x){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Hl=d.moveTo=function(x,V){return ne(N(M(x))+" "+N(W(V))+" m"),this},ns=d.lineTo=function(x,V){return ne(N(M(x))+" "+N(W(V))+" l"),this},la=d.curveTo=function(x,V,Z,se,de,Te){return ne([N(M(x)),N(W(V)),N(M(Z)),N(W(se)),N(M(de)),N(W(Te)),"c"].join(" ")),this};d.__private__.line=d.line=function(x,V,Z,se,de){if(isNaN(x)||isNaN(V)||isNaN(Z)||isNaN(se)||!Qs(de))throw new Error("Invalid arguments passed to jsPDF.line");return k===S?this.lines([[Z-x,se-V]],x,V,[1,1],de||"S"):this.lines([[Z-x,se-V]],x,V,[1,1]).stroke()},d.__private__.lines=d.lines=function(x,V,Z,se,de,Te){var De,Ke,et,yt,at,tn,Ln,Tn,m,T,O,H;if(typeof x=="number"&&(H=Z,Z=V,V=x,x=H),se=se||[1,1],Te=Te||!1,isNaN(V)||isNaN(Z)||!Array.isArray(x)||!Array.isArray(se)||!Qs(de)||typeof Te!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Hl(V,Z),De=se[0],Ke=se[1],yt=x.length,T=V,O=Z,et=0;et<yt;et++)(at=x[et]).length===2?(T=at[0]*De+T,O=at[1]*Ke+O,ns(T,O)):(tn=at[0]*De+T,Ln=at[1]*Ke+O,Tn=at[2]*De+T,m=at[3]*Ke+O,T=at[4]*De+T,O=at[5]*Ke+O,la(tn,Ln,Tn,m,T,O));return Te&&aa(),ql(de),this},d.path=function(x){for(var V=0;V<x.length;V++){var Z=x[V],se=Z.c;switch(Z.op){case"m":Hl(se[0],se[1]);break;case"l":ns(se[0],se[1]);break;case"c":la.apply(this,se);break;case"h":aa()}}return this},d.__private__.rect=d.rect=function(x,V,Z,se,de){if(isNaN(x)||isNaN(V)||isNaN(Z)||isNaN(se)||!Qs(de))throw new Error("Invalid arguments passed to jsPDF.rect");return k===S&&(se=-se),ne([N(M(x)),N(W(V)),N(M(Z)),N(M(se)),"re"].join(" ")),ql(de),this},d.__private__.triangle=d.triangle=function(x,V,Z,se,de,Te,De){if(isNaN(x)||isNaN(V)||isNaN(Z)||isNaN(se)||isNaN(de)||isNaN(Te)||!Qs(De))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Z-x,se-V],[de-Z,Te-se],[x-de,V-Te]],x,V,[1,1],De,!0),this},d.__private__.roundedRect=d.roundedRect=function(x,V,Z,se,de,Te,De){if(isNaN(x)||isNaN(V)||isNaN(Z)||isNaN(se)||isNaN(de)||isNaN(Te)||!Qs(De))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ke=4/3*(Math.SQRT2-1);return de=Math.min(de,.5*Z),Te=Math.min(Te,.5*se),this.lines([[Z-2*de,0],[de*Ke,0,de,Te-Te*Ke,de,Te],[0,se-2*Te],[0,Te*Ke,-de*Ke,Te,-de,Te],[2*de-Z,0],[-de*Ke,0,-de,-Te*Ke,-de,-Te],[0,2*Te-se],[0,-Te*Ke,de*Ke,-Te,de,-Te]],x+de,V,[1,1],De,!0),this},d.__private__.ellipse=d.ellipse=function(x,V,Z,se,de){if(isNaN(x)||isNaN(V)||isNaN(Z)||isNaN(se)||!Qs(de))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Te=4/3*(Math.SQRT2-1)*Z,De=4/3*(Math.SQRT2-1)*se;return Hl(x+Z,V),la(x+Z,V-De,x+Te,V-se,x,V-se),la(x-Te,V-se,x-Z,V-De,x-Z,V),la(x-Z,V+De,x-Te,V+se,x,V+se),la(x+Te,V+se,x+Z,V+De,x+Z,V),ql(de),this},d.__private__.circle=d.circle=function(x,V,Z,se){if(isNaN(x)||isNaN(V)||isNaN(Z)||!Qs(se))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,V,Z,Z,se)},d.setFont=function(x,V,Z){return Z&&(V=D(V,Z)),ot=Ou(x,V,{disableWarning:!1}),this};var vp=d.__private__.getFont=d.getFont=function(){return We[Ou.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var x,V,Z={};for(x in vt)if(vt.hasOwnProperty(x))for(V in Z[x]=[],vt[x])vt[x].hasOwnProperty(V)&&Z[x].push(V);return Z},d.addFont=function(x,V,Z,se,de){var Te=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Te.indexOf(arguments[3])!==-1?de=arguments[3]:arguments[3]&&Te.indexOf(arguments[3])==-1&&(Z=D(Z,se)),Lu.call(this,x,V,Z,de=de||"Identity-H")};var Ja,rs=t.lineWidth||.200025,Ct=d.__private__.getLineWidth=d.getLineWidth=function(){return rs},Fu=d.__private__.setLineWidth=d.setLineWidth=function(x){return rs=x,ne(N(M(x))+" w"),this};d.__private__.setLineDash=ht.API.setLineDash=ht.API.setLineDashPattern=function(x,V){if(x=x||[],V=V||0,isNaN(V)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(Z){return N(M(Z))}).join(" "),V=N(M(V)),ne("["+x+"] "+V+" d"),this};var Wl=d.__private__.getLineHeight=d.getLineHeight=function(){return Ne*Ja};d.__private__.getLineHeight=d.getLineHeight=function(){return Ne*Ja};var fd=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(Ja=x),this},Za=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return Ja};fd(t.lineHeight);var Di=d.__private__.getHorizontalCoordinate=function(x){return M(x)},Js=d.__private__.getVerticalCoordinate=function(x){return k===E?x:ct[X].mediaBox.topRightY-ct[X].mediaBox.bottomLeftY-M(x)},Vu=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(x){return N(Di(x))},Rn=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(x){return N(Js(x))},Gl=t.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return Zi(Gl)},d.__private__.setStrokeColor=d.setDrawColor=function(x,V,Z,se){return Gl=Ri({ch1:x,ch2:V,ch3:Z,ch4:se,pdfColorType:"draw",precision:2}),ne(Gl),this};var Uu=t.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return Zi(Uu)},d.__private__.setFillColor=d.setFillColor=function(x,V,Z,se){return Uu=Ri({ch1:x,ch2:V,ch3:Z,ch4:se,pdfColorType:"fill",precision:2}),ne(Uu),this};var ca=t.textColor||"0 g",el=d.__private__.getTextColor=d.getTextColor=function(){return Zi(ca)};d.__private__.setTextColor=d.setTextColor=function(x,V,Z,se){return ca=Ri({ch1:x,ch2:V,ch3:Z,ch4:se,pdfColorType:"text",precision:3}),this};var tl=t.charSpace,Kl=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(tl||0)};d.__private__.setCharSpace=d.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return tl=x,this};var is=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(x){var V=d.CapJoinStyles[x];if(V===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return is=V,ne(V+" J"),this};var Yl=0;d.__private__.setLineJoin=d.setLineJoin=function(x){var V=d.CapJoinStyles[x];if(V===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yl=V,ne(V+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(N(M(x))+" M"),this},d.GState=Rv,d.setGState=function(x){(x=typeof x=="string"?_t[dn[x]]:nl(null,x)).equals(Gn)||(ne("/"+x.id+" gs"),Gn=x)};var nl=function(x,V){if(!x||!dn[x]){var Z=!1;for(var se in _t)if(_t.hasOwnProperty(se)&&_t[se].equals(V)){Z=!0;break}if(Z)V=_t[se];else{var de="GS"+(Object.keys(_t).length+1).toString(10);_t[de]=V,V.id=de}return x&&(dn[x]=V.id),Ht.publish("addGState",V),V}};d.addGState=function(x,V){return nl(x,V),this},d.saveGraphicsState=function(){return ne("q"),jt.push({key:ot,size:Ne,color:ca}),this},d.restoreGraphicsState=function(){ne("Q");var x=jt.pop();return ot=x.key,Ne=x.size,ca=x.color,Gn=null,this},d.setCurrentTransformationMatrix=function(x){return ne(x.toString()+" cm"),this},d.comment=function(x){return ne("#"+x),this};var bs=function(x,V){var Z=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Z},set:function(Te){isNaN(Te)||(Z=parseFloat(Te))}});var se=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return se},set:function(Te){isNaN(Te)||(se=parseFloat(Te))}});var de="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return de},set:function(Te){de=Te.toString()}}),this},Xl=function(x,V,Z,se){bs.call(this,x,V),this.type="rect";var de=Z||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return de},set:function(De){isNaN(De)||(de=parseFloat(De))}});var Te=se||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Te},set:function(De){isNaN(De)||(Te=parseFloat(De))}}),this},ua=function(){this.page=Tt,this.currentPage=X,this.pages=Ee.slice(0),this.pagesContext=ct.slice(0),this.x=it,this.y=ln,this.matrix=Vt,this.width=rl(X),this.height=Zs(X),this.outputDestination=Fe,this.id="",this.objectNumber=-1};ua.prototype.restore=function(){Tt=this.page,X=this.currentPage,ct=this.pagesContext,Ee=this.pages,it=this.x,ln=this.y,Vt=this.matrix,pd(X,this.width),Mi(X,this.height),Fe=this.outputDestination};var ha=function(x,V,Z,se,de){mn.push(new ua),Tt=X=0,Ee=[],it=x,ln=V,Vt=de,Bl([Z,se])};for(var da in d.beginFormObject=function(x,V,Z,se,de){return ha(x,V,Z,se,de),this},d.endFormObject=function(x){return function(V){if(Gt[V])mn.pop().restore();else{var Z=new ua,se="Xo"+(Object.keys(It).length+1).toString(10);Z.id=se,Gt[V]=se,It[se]=Z,Ht.publish("addFormObject",Z),mn.pop().restore()}}(x),this},d.doFormObject=function(x,V){var Z=It[Gt[x]];return ne("q"),ne(V.toString()+" cm"),ne("/"+Z.id+" Do"),ne("Q"),this},d.getFormObject=function(x){var V=It[Gt[x]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},d.save=function(x,V){return x=x||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(Zu(sn(ws()),x),typeof Zu.unload=="function"&&Pt.setTimeout&&setTimeout(Zu.unload,911),this):new Promise(function(Z,se){try{var de=Zu(sn(ws()),x);typeof Zu.unload=="function"&&Pt.setTimeout&&setTimeout(Zu.unload,911),Z(de)}catch(Te){se(Te.message)}})},ht.API)ht.API.hasOwnProperty(da)&&(da==="events"&&ht.API.events.length?function(x,V){var Z,se,de;for(de=V.length-1;de!==-1;de--)Z=V[de][0],se=V[de][1],x.subscribe.apply(x,[Z].concat(typeof se=="function"?[se]:se))}(Ht,ht.API.events):d[da]=ht.API[da]);function rl(x){return ct[x].mediaBox.topRightX-ct[x].mediaBox.bottomLeftX}function pd(x,V){ct[x].mediaBox.topRightX=V+ct[x].mediaBox.bottomLeftX}function Zs(x){return ct[x].mediaBox.topRightY-ct[x].mediaBox.bottomLeftY}function Mi(x,V){ct[x].mediaBox.topRightY=V+ct[x].mediaBox.bottomLeftY}var Bu=d.getPageWidth=function(x){return rl(x=x||X)/mt},zu=d.setPageWidth=function(x,V){pd(x,V*mt)},Io=d.getPageHeight=function(x){return Zs(x=x||X)/mt},Ql=d.setPageHeight=function(x,V){Mi(x,V*mt)};return d.internal={pdfEscape:Li,getStyle:cd,getFont:vp,getFontSize:Ue,getCharSpace:Kl,getTextColor:el,getLineHeight:Wl,getLineHeightFactor:Za,getLineWidth:Ct,write:wt,getHorizontalCoordinate:Di,getVerticalCoordinate:Js,getCoordinateString:Vu,getVerticalCoordinateString:Rn,collections:{},newObject:kn,newAdditionalObject:di,newObjectDeferred:Yn,newObjectDeferredBegin:Vr,getFilters:es,putStream:ts,events:Ht,scaleFactor:mt,pageSize:{getWidth:function(){return Bu(X)},setWidth:function(x){zu(X,x)},getHeight:function(){return Io(X)},setHeight:function(x){Ql(X,x)}},encryptionOptions:u,encryption:An,getEncryptor:function(x){return u!==null?An.encryptor(x,0):function(V){return V}},output:fi,getNumberOfPages:Mu,pages:Ee,out:ne,f2:I,f3:L,getPageInfo:ju,getPageInfoByObjId:ld,getCurrentPageInfo:gp,getPDFVersion:y,Point:bs,Rectangle:Xl,Matrix:Je,hasHotfix:_s},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return Bu(X)},set:function(x){zu(X,x)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return Io(X)},set:function(x){Ql(X,x)},enumerable:!0,configurable:!0}),(function(x){for(var V=0,Z=tt.length;V<Z;V++){var se=Lu.call(this,x[V][0],x[V][1],x[V][2],tt[V][3],!0);h===!1&&(p[se]=!0);var de=x[V][0].split("-");ad({id:se,fontName:de[0],fontStyle:de[1]||""})}Ht.publish("addFonts",{fonts:We,dictionary:vt})}).call(d,tt),ot="F1",zl(i,n),Ht.publish("initialized"),d}kd.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},kd.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},kd.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},kd.prototype.processOwnerPassword=function(t,e){return Wx(Hx(e).substr(0,5),t)},kd.prototype.encryptor=function(t,e){var n=Hx(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Wx(n,r)}},Rv.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||wn(t)!==wn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ht.API={events:[]},ht.version="3.0.3";var cr=ht.API,LT=1,od=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ad=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Lt=function(t){return t.toFixed(2)},gc=function(t){return t.toFixed(5)};cr.__acroform__={};var vs=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Fk=function(t){return t*LT},wa=function(t){var e=new NU,n=Ze.internal.getHeight(t)||0,r=Ze.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Lt(r)),Number(Lt(n))],e},Wge=cr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Gge=cr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Kge=cr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Ar=cr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Kge(t,e-1)},Tr=cr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Wge(t,e-1)},Ir=cr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Gge(t,e-1)},Yge=cr.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(Lt(l.lowerLeft_X)),Number(Lt(l.lowerLeft_Y)),Number(Lt(l.upperRight_X)),Number(Lt(l.upperRight_Y))]},Xge=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=Gx(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Lt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=wa(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},Gx=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(I){return I.split(`
`)}):i.map(function(I){return[I]});var s=n,o=Ze.internal.getHeight(t)||0;o=o<0?-o:o;var a=Ze.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(I,L,M){if(I+1<i.length){var W=L+" "+i[I+1][0];return I1(W,t,M).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var c,u,h=I1("3",t,s).height,p=t.multiline?o-s:(o-h)/2,d=p+=2,b=0,y=0,_=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+I1(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var w="",S=0,E=0;E<i.length;E++)if(i.hasOwnProperty(E)){var k=!1;if(i[E].length!==1&&_!==i[E].length-1){if((h+2)*(S+2)+2>o)continue e;w+=i[E][_],k=!0,y=E,E--}else{w=(w+=i[E][_]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var B=parseInt(E),G=l(B,w,s),D=E>=i.length-1;if(G&&!D){w+=" ",_=0;continue}if(G||D){if(D)y=B;else if(t.multiline&&(h+2)*(S+2)+2>o)continue e}else{if(!t.multiline||(h+2)*(S+2)+2>o)continue e;y=B}}for(var N="",P=b;P<=y;P++){var j=i[P];if(t.multiline){if(P===y){N+=j[_]+" ",_=(_+1)%j.length;continue}if(P===b){N+=j[j.length-1]+" ";continue}}N+=j[0]+" "}switch(N=N.substr(N.length-1)==" "?N.substr(0,N.length-1):N,u=I1(N,t,s).width,t.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}e+=Lt(c)+" "+Lt(d)+` Td
`,e+="("+od(N)+`) Tj
`,e+=-Lt(c)+` 0 Td
`,d=-(s+2),u=0,b=k?y:y+1,S++,w=""}break}return r.text=e,r.fontSize=s,r},I1=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Qge={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Jge=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Zge=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ta.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Qge)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");LT=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new PU,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&Jge(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=Yge(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ze.createDefaultAppearanceStream(a),wn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=Xge(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var h="";for(var p in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(p)){var d=a.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var o in d)if(d.hasOwnProperty(o)){var b=d[o];typeof b=="function"&&(b=b.call(i,a)),h+="/"+o+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=d)=="function"&&(b=b.call(i,a)),h+="/"+o+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&function(y,_){for(var w in y)if(y.hasOwnProperty(w)){var S=w,E=y[w];_.internal.newObjectDeferredBegin(E.objId,!0),wn(E)==="object"&&typeof E.putStream=="function"&&E.putStream(),delete y[S]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},CU=cr.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),wn(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+od(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},u5=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+od(r(t))+")"},Pa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Pa.prototype.toString=function(){return this.objId+" 0 R"},Pa.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Pa.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:CU(i,this.objId,this.scope)}):i instanceof Pa?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var NU=function(){Pa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};vs(NU,Pa);var PU=function(){Pa.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+od(n(t))+")"}},set:function(n){t=n}})};vs(PU,Pa);var ta=function t(){Pa.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ar(e,3)},set:function(w){w?this.F=Tr(e,3):this.F=Ir(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');n=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Lv)return;s="FieldObject"+t.FieldNum++}var w=function(S){return S};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+od(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/LT:c},set:function(w){c=w}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(w){u=w}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof Lv||this instanceof Eh))return u5(h,this.objId,this.scope)},set:function(w){w=w.toString(),h=w}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Jr==0?u5(p,this.objId,this.scope):p},set:function(w){w=w.toString(),p=this instanceof Jr==0?w.substr(0,1)==="("?Ad(w.substr(1,w.length-2)):Ad(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Jr==1?Ad(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof Jr==1?"/"+w:w}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Jr==0?u5(d,this.objId,this.scope):d},set:function(w){w=w.toString(),d=this instanceof Jr==0?w.substr(0,1)==="("?Ad(w.substr(1,w.length-2)):Ad(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Jr==1?Ad(d.substr(1,d.length-1)):d},set:function(w){w=w.toString(),d=this instanceof Jr==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(w){w=!!w,y=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(w){b=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,1)},set:function(w){w?this.Ff=Tr(this.Ff,1):this.Ff=Ir(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,2)},set:function(w){w?this.Ff=Tr(this.Ff,2):this.Ff=Ir(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,3)},set:function(w){w?this.Ff=Tr(this.Ff,3):this.Ff=Ir(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');_=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(_){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:_=2;break;case"center":case 1:_=1;break;default:_=0}}})};vs(ta,Pa);var mf=function(){ta.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return CU(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,18)},set:function(n){n?this.Ff=Tr(this.Ff,18):this.Ff=Ir(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Tr(this.Ff,19):this.Ff=Ir(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,20)},set:function(n){n?(this.Ff=Tr(this.Ff,20),e.sort()):this.Ff=Ir(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,22)},set:function(n){n?this.Ff=Tr(this.Ff,22):this.Ff=Ir(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,23)},set:function(n){n?this.Ff=Tr(this.Ff,23):this.Ff=Ir(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,27)},set:function(n){n?this.Ff=Tr(this.Ff,27):this.Ff=Ir(this.Ff,27)}}),this.hasAppearanceStream=!1};vs(mf,ta);var gf=function(){mf.call(this),this.fontName="helvetica",this.combo=!1};vs(gf,mf);var yf=function(){gf.call(this),this.combo=!0};vs(yf,gf);var fy=function(){yf.call(this),this.edit=!0};vs(fy,yf);var Jr=function(){ta.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,15)},set:function(n){n?this.Ff=Tr(this.Ff,15):this.Ff=Ir(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,16)},set:function(n){n?this.Ff=Tr(this.Ff,16):this.Ff=Ir(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,17)},set:function(n){n?this.Ff=Tr(this.Ff,17):this.Ff=Ir(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,26)},set:function(n){n?this.Ff=Tr(this.Ff,26):this.Ff=Ir(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+od(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){wn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};vs(Jr,ta);var py=function(){Jr.call(this),this.pushButton=!0};vs(py,Jr);var vf=function(){Jr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};vs(vf,Jr);var Lv=function(){var t,e;ta.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+od(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){wn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ze.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};vs(Lv,ta),vf.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},vf.prototype.createOption=function(t){var e=new Lv;return e.Parent=this,e.optionName=t,this.Kids.push(e),e0e.call(this.scope,e),e};var my=function(){Jr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ze.CheckBox.createAppearanceStream()};vs(my,Jr);var Eh=function(){ta.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,13)},set:function(e){e?this.Ff=Tr(this.Ff,13):this.Ff=Ir(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,21)},set:function(e){e?this.Ff=Tr(this.Ff,21):this.Ff=Ir(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,23)},set:function(e){e?this.Ff=Tr(this.Ff,23):this.Ff=Ir(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,24)},set:function(e){e?this.Ff=Tr(this.Ff,24):this.Ff=Ir(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,25)},set:function(e){e?this.Ff=Tr(this.Ff,25):this.Ff=Ir(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,26)},set:function(e){e?this.Ff=Tr(this.Ff,26):this.Ff=Ir(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};vs(Eh,ta);var gy=function(){Eh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ar(this.Ff,14)},set:function(t){t?this.Ff=Tr(this.Ff,14):this.Ff=Ir(this.Ff,14)}}),this.password=!0};vs(gy,Eh);var Ze={CheckBox:{createAppearanceStream:function(){return{N:{On:Ze.CheckBox.YesNormal},D:{On:Ze.CheckBox.YesPushDown,Off:Ze.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=wa(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=Gx(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Lt(Ze.internal.getWidth(t))+" "+Lt(Ze.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Lt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=wa(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Ze.internal.getHeight(t),o=Ze.internal.getWidth(t),a=Gx(t,t.caption);return i.push("1 g"),i.push("0 0 "+Lt(o)+" "+Lt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Lt(o-1)+" "+Lt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Lt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=wa(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Lt(Ze.internal.getWidth(t))+" "+Lt(Ze.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ze.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ze.RadioButton.Circle.YesNormal,e.D[t]=Ze.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=wa(t);e.scope=t.scope;var n=[],r=Ze.internal.getWidth(t)<=Ze.internal.getHeight(t)?Ze.internal.getWidth(t)/4:Ze.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Ze.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+gc(Ze.internal.getWidth(t)/2)+" "+gc(Ze.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=wa(t);e.scope=t.scope;var n=[],r=Ze.internal.getWidth(t)<=Ze.internal.getHeight(t)?Ze.internal.getWidth(t)/4:Ze.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ze.internal.Bezier_C).toFixed(5)),o=Number((r*Ze.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+gc(Ze.internal.getWidth(t)/2)+" "+gc(Ze.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+gc(Ze.internal.getWidth(t)/2)+" "+gc(Ze.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=wa(t);e.scope=t.scope;var n=[],r=Ze.internal.getWidth(t)<=Ze.internal.getHeight(t)?Ze.internal.getWidth(t)/4:Ze.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ze.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+gc(Ze.internal.getWidth(t)/2)+" "+gc(Ze.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ze.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ze.RadioButton.Cross.YesNormal,e.D[t]=Ze.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=wa(t);e.scope=t.scope;var n=[],r=Ze.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Lt(Ze.internal.getWidth(t)-2)+" "+Lt(Ze.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Lt(r.x1.x)+" "+Lt(r.x1.y)+" m"),n.push(Lt(r.x2.x)+" "+Lt(r.x2.y)+" l"),n.push(Lt(r.x4.x)+" "+Lt(r.x4.y)+" m"),n.push(Lt(r.x3.x)+" "+Lt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=wa(t);e.scope=t.scope;var n=Ze.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Lt(Ze.internal.getWidth(t))+" "+Lt(Ze.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Lt(Ze.internal.getWidth(t)-2)+" "+Lt(Ze.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Lt(n.x1.x)+" "+Lt(n.x1.y)+" m"),r.push(Lt(n.x2.x)+" "+Lt(n.x2.y)+" l"),r.push(Lt(n.x4.x)+" "+Lt(n.x4.y)+" m"),r.push(Lt(n.x3.x)+" "+Lt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=wa(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Lt(Ze.internal.getWidth(t))+" "+Lt(Ze.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Ze.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ze.internal.getWidth(t),n=Ze.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Ze.internal.getWidth=function(t){var e=0;return wn(t)==="object"&&(e=Fk(t.Rect[2])),e},Ze.internal.getHeight=function(t){var e=0;return wn(t)==="object"&&(e=Fk(t.Rect[3])),e};var e0e=cr.addField=function(t){if(Zge(this,t),!(t instanceof ta))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};cr.AcroFormChoiceField=mf,cr.AcroFormListBox=gf,cr.AcroFormComboBox=yf,cr.AcroFormEditBox=fy,cr.AcroFormButton=Jr,cr.AcroFormPushButton=py,cr.AcroFormRadioButton=vf,cr.AcroFormCheckBox=my,cr.AcroFormTextField=Eh,cr.AcroFormPasswordField=gy,cr.AcroFormAppearance=Ze,cr.AcroForm={ChoiceField:mf,ListBox:gf,ComboBox:yf,EditBox:fy,Button:Jr,PushButton:py,RadioButton:vf,CheckBox:my,TextField:Eh,PasswordField:gy,Appearance:Ze},ht.AcroForm={ChoiceField:mf,ListBox:gf,ComboBox:yf,EditBox:fy,Button:Jr,PushButton:py,RadioButton:vf,CheckBox:my,TextField:Eh,PasswordField:gy,Appearance:Ze};function kU(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(I,L){var M,W,ae,ce,le,Y=n;if((L=L||n)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(G(I))for(le in r)for(ae=r[le],M=0;M<ae.length;M+=1){for(ce=!0,W=0;W<ae[M].length;W+=1)if(ae[M][W]!==void 0&&ae[M][W]!==I[W]){ce=!1;break}if(ce===!0){Y=le;break}}else for(le in r)for(ae=r[le],M=0;M<ae.length;M+=1){for(ce=!0,W=0;W<ae[M].length;W+=1)if(ae[M][W]!==void 0&&ae[M][W]!==I.charCodeAt(W)){ce=!1;break}if(ce===!0){Y=le;break}}return Y===n&&L!==n&&(Y=L),Y},s=function I(L){for(var M=this.internal.write,W=this.internal.putStream,ae=(0,this.internal.getFilters)();ae.indexOf("FlateEncode")!==-1;)ae.splice(ae.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var ce=[];if(ce.push({key:"Type",value:"/XObject"}),ce.push({key:"Subtype",value:"/Image"}),ce.push({key:"Width",value:L.width}),ce.push({key:"Height",value:L.height}),L.colorSpace===w.INDEXED?ce.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(ce.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===w.DEVICE_CMYK&&ce.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ce.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&ce.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)&&L.transparency.length>0){for(var le="",Y=0,Q=L.transparency.length;Y<Q;Y++)le+=L.transparency[Y]+" "+L.transparency[Y]+" ";ce.push({key:"Mask",value:"["+le+"]"})}L.sMask!==void 0&&ce.push({key:"SMask",value:L.objectId+1+" 0 R"});var fe=L.filter!==void 0?["/"+L.filter]:void 0;if(W({data:L.data,additionalKeyValues:ce,alreadyAppliedFilters:fe,objectId:L.objectId}),M("endobj"),"sMask"in L&&L.sMask!==void 0){var ye,F=(ye=L.sMaskBitsPerComponent)!==null&&ye!==void 0?ye:L.bitsPerComponent,X={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:F,data:L.sMask};"filter"in L&&(X.decodeParameters="/Predictor ".concat(L.predictor," /Colors 1 /BitsPerComponent ").concat(F," /Columns ").concat(L.width),X.filter=L.filter),I.call(this,X)}if(L.colorSpace===w.INDEXED){var J=this.internal.newObject();W({data:N(new Uint8Array(L.palette)),objectId:J}),M("endobj")}},o=function(){var I=this.internal.collections[e+"images"];for(var L in I)s.call(this,I[L])},a=function(){var I,L=this.internal.collections[e+"images"],M=this.internal.write;for(var W in L)M("/I"+(I=L[W]).index,I.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var I=this.internal.collections[e+"images"];return l.call(this),I},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},h=function(I){return typeof t["process"+I.toUpperCase()]=="function"},p=function(I){return wn(I)==="object"&&I.nodeType===1},d=function(I,L){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var M=""+I.getAttribute("src");if(M.indexOf("data:image/")===0)return dy(unescape(M).split("base64,").pop());var W=t.loadFile(M,!0);if(W!==void 0)return W}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var ae;switch(L){case"PNG":ae="image/png";break;case"WEBP":ae="image/webp";break;default:ae="image/jpeg"}return dy(I.toDataURL(ae,1).split("base64,").pop())}},b=function(I){var L=this.internal.collections[e+"images"];if(L){for(var M in L)if(I===L[M].alias)return L[M]}},y=function(I,L,M){return I||L||(I=-96,L=-96),I<0&&(I=-1*M.width*72/I/this.internal.scaleFactor),L<0&&(L=-1*M.height*72/L/this.internal.scaleFactor),I===0&&(I=L*M.width/M.height),L===0&&(L=I*M.height/M.width),[I,L]},_=function(I,L,M,W,ae,ce){var le=y.call(this,M,W,ae),Y=this.internal.getCoordinateString,Q=this.internal.getVerticalCoordinateString,fe=c.call(this);if(M=le[0],W=le[1],fe[ae.index]=ae,ce){ce*=Math.PI/180;var ye=Math.cos(ce),F=Math.sin(ce),X=function(ie){return ie.toFixed(4)},J=[X(ye),X(F),X(-1*F),X(ye),0,0,"cm"]}this.internal.write("q"),ce?(this.internal.write([1,"0","0",1,Y(I),Q(L+W),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([Y(M),"0","0",Y(W),"0","0","cm"].join(" "))):this.internal.write([Y(M),"0","0",Y(W),Y(I),Q(L+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ae.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=t.__addimage__.sHashCode=function(I){var L,M,W=0;if(typeof I=="string")for(M=I.length,L=0;L<M;L++)W=(W<<5)-W+I.charCodeAt(L),W|=0;else if(G(I))for(M=I.byteLength/2,L=0;L<M;L++)W=(W<<5)-W+I[L],W|=0;return W},k=t.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var L=!0;return I.length===0&&(L=!1),I.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(L=!1),L},B=t.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var L=I.indexOf(",");return L<0?null:I.substring(0,L).trim().endsWith("base64")?I.substring(L+1):null};t.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var G=t.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},D=t.__addimage__.binaryStringToUint8Array=function(I){for(var L=I.length,M=new Uint8Array(L),W=0;W<L;W++)M[W]=I.charCodeAt(W);return M},N=t.__addimage__.arrayBufferToBinaryString=function(I){for(var L="",M=G(I)?I:new Uint8Array(I),W=0;W<M.length;W+=8192)L+=String.fromCharCode.apply(null,M.subarray(W,W+8192));return L};t.addImage=function(){var I,L,M,W,ae,ce,le,Y,Q;if(typeof arguments[1]=="number"?(L=n,M=arguments[1],W=arguments[2],ae=arguments[3],ce=arguments[4],le=arguments[5],Y=arguments[6],Q=arguments[7]):(L=arguments[1],M=arguments[2],W=arguments[3],ae=arguments[4],ce=arguments[5],le=arguments[6],Y=arguments[7],Q=arguments[8]),wn(I=arguments[0])==="object"&&!p(I)&&"imageData"in I){var fe=I;I=fe.imageData,L=fe.format||L||n,M=fe.x||M||0,W=fe.y||W||0,ae=fe.w||fe.width||ae,ce=fe.h||fe.height||ce,le=fe.alias||le,Y=fe.compression||Y,Q=fe.rotation||fe.angle||Q}var ye=this.internal.getFilters();if(Y===void 0&&ye.indexOf("FlateEncode")!==-1&&(Y="SLOW"),isNaN(M)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var F=P.call(this,I,L,le,Y);return _.call(this,M,W,ae,ce,F,Q),this};var P=function(I,L,M,W){var ae,ce,le;if(typeof I=="string"&&i(I)===n){I=unescape(I);var Y=j(I,!1);(Y!==""||(Y=t.loadFile(I,!0))!==void 0)&&(I=Y)}if(p(I)&&(I=d(I,L)),L=i(I,L),!h(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((le=M)==null||le.length===0)&&(M=function(Q){return typeof Q=="string"||G(Q)?E(Q):G(Q.data)?E(Q.data):null}(I)),(ae=b.call(this,M))||(I instanceof Uint8Array||L==="RGBA"||(ce=I,I=D(I)),ae=this["process"+L.toUpperCase()](I,u.call(this),M,function(Q){return Q&&typeof Q=="string"&&(Q=Q.toUpperCase()),Q in t.image_compression?Q:S.NONE}(W),ce)),!ae)throw new Error("An unknown error occurred whilst processing the image.");return ae},j=t.__addimage__.convertBase64ToBinaryString=function(I,L){L=typeof L!="boolean"||L;var M,W="";if(typeof I=="string"){var ae;M=(ae=B(I))!==null&&ae!==void 0?ae:I;try{W=dy(M)}catch(ce){if(L)throw k(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ce.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return W};t.getImageProperties=function(I){var L,M,W="";if(p(I)&&(I=d(I)),typeof I=="string"&&i(I)===n&&((W=j(I,!1))===""&&(W=t.loadFile(I)||""),I=W),M=i(I),!h(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(I instanceof Uint8Array||(I=D(I)),!(L=this["process"+M.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=M,L}})(ht.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ht.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,h=0;h<c.length&&!u;h++)switch((r=c[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){r=c[p];var d=this.internal.pdfEscape,b=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(y.objId),S=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+d(w(r.contents))+")",s+=" /Popup "+_.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+d(w(S))+") >>",y.content=s;var E=y.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+E,r.open&&(s+=" /Open true"),s+=" >>",_.content=s,this.internal.write(y.objId,"0 R",_.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var k=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+d(b(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var B=this.annotations._nameMap[r.options.name];r.options.pageNumber=B.page,r.options.top=B.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+d(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var G=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+G+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var u=this.splitTextToSize(n,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(n,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ht.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(y){return e[y.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},a=t.__arabicParser__.isArabicEndLetter=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(y){return o(y)&&i.indexOf(y.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(y){var _=0,w=n,S="",E=0;for(_=0;_<y.length;_+=1)w[y.charCodeAt(_)]!==void 0?(E++,typeof(w=w[y.charCodeAt(_)])=="number"&&(S+=String.fromCharCode(w),w=n,E=0),_===y.length-1&&(w=n,S+=y.charAt(_-(E-1)),_-=E-1,E=0)):(w=n,S+=y.charAt(_-E),_-=E,E=0);return S};t.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(y,_,w){return o(y)?s(y)===!1?-1:!c(y)||!o(_)&&!o(w)||!o(w)&&a(_)||a(y)&&!o(_)||a(y)&&l(_)||a(y)&&a(_)?0:u(y)&&o(_)&&!a(_)&&o(w)&&c(w)?3:a(y)||!o(w)?1:2:-1},d=function(y){var _=0,w=0,S=0,E="",k="",B="",G=(y=y||"").split("\\s+"),D=[];for(_=0;_<G.length;_+=1){for(D.push(""),w=0;w<G[_].length;w+=1)E=G[_][w],k=G[_][w-1],B=G[_][w+1],o(E)?(S=p(E,k,B),D[_]+=S!==-1?String.fromCharCode(e[E.charCodeAt(0)][S]):E):D[_]+=E;D[_]=h(D[_])}return D.join(" ")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var y,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(_)){var S=0;for(w=[],S=0;S<_.length;S+=1)Array.isArray(_[S])?w.push([d(_[S][0]),_[S][1],_[S][2]]):w.push([d(_[S])]);y=w}else y=d(_);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};t.events.push(["preProcessText",b])}(ht.API),ht.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ht.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(y){l=y}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(y){b=y}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,d=0,b=0,y=0,_=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=c.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(E,k){return E.concat(_.splitTextToSize(k,w))},[])):l=Array.isArray(l)?l:[l];for(var S=0;S<l.length;S++)d<(y=this.getStringUnitWidth(l[S],{font:h})*u)&&(d=y);return d!==0&&(b=l.length),{w:d/=p,h:Math.max((b*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,d&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,h,p){if(r.call(this),!u)throw new Error("No data for PDF table.");var d,b,y,_,w=[],S=[],E=[],k={},B={},G=[],D=[],N=(p=p||{}).autoSize||!1,P=p.printHeaders!==!1,j=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,I=p.margins||Object.assign({width:this.getPageWidth()},e),L=typeof p.padding=="number"?p.padding:3,M=p.headerBackgroundColor||"#c8c8c8",W=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=j,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=W,this.setFontSize(j),h==null)S=w=Object.keys(u[0]),E=w.map(function(){return"left"});else if(Array.isArray(h)&&wn(h[0])==="object")for(w=h.map(function(fe){return fe.name}),S=h.map(function(fe){return fe.prompt||fe.name||""}),E=h.map(function(fe){return fe.align||"left"}),d=0;d<h.length;d+=1)B[h[d].name]=.7499990551181103*h[d].width;else Array.isArray(h)&&typeof h[0]=="string"&&(S=w=h,E=w.map(function(){return"left"}));if(N||Array.isArray(h)&&typeof h[0]=="string")for(d=0;d<w.length;d+=1){for(k[_=w[d]]=u.map(function(fe){return fe[_]}),this.setFont(void 0,"bold"),G.push(this.getTextDimensions(S[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=k[_],this.setFont(void 0,"normal"),y=0;y<b.length;y+=1)G.push(this.getTextDimensions(b[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);B[_]=Math.max.apply(null,G)+L+L,G=[]}if(P){var ae={};for(d=0;d<w.length;d+=1)ae[w[d]]={},ae[w[d]].text=S[d],ae[w[d]].align=E[d];var ce=a.call(this,ae,B);D=w.map(function(fe){return new s(l,c,B[fe],ce,ae[fe].text,void 0,ae[fe].align)}),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var le=h.reduce(function(fe,ye){return fe[ye.name]=ye.align,fe},{});for(d=0;d<u.length;d+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:d,data:u[d]},this);var Y=a.call(this,u[d],B);for(y=0;y<w.length;y+=1){var Q=u[d][w[y]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:d,col:y,data:Q},this),o.call(this,new s(l,c,B[w[y]],Y,Q,d+2,le[w[y]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(d){var b=l[d];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,c[d]-u-u)},this).map(function(d){return this.getLineHeightFactor()*d.length*h/p+u+u},this).reduce(function(d,b){return Math.max(d,b)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){u=this.internal.__cell__.tableHeaderRow[d].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(b)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}}(ht.API);var RU={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},LU=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Kx=kU(LU),DU=[100,200,300,400,500,600,700,800,900],t0e=kU(DU);function h5(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return RU[s=s||"normal"]?s:"normal"}(t.style),r=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof Kx[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function Vk(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var n0e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Uk={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Bk(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function zk(t){return t.trimLeft()}function r0e(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function i0e(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var C1,$k,qk,Td,N1,Hk,Wk,Gk,d5=["times"];function Kk(t,e,n,r,i){var s=4,o=Xk;switch(i){case ht.API.image_compression.FAST:s=1,o=Yk;break;case ht.API.image_compression.MEDIUM:s=6,o=Qk;break;case ht.API.image_compression.SLOW:s=9,o=Jk}t=function(l,c,u,h){for(var p,d=l.length/c,b=new Uint8Array(l.length+d),y=[s0e,Yk,Xk,Qk,Jk],_=0;_<d;_+=1){var w=_*c,S=l.subarray(w,w+c);if(h)b.set(h(S,u,p),w+_);else{for(var E=y.length,k=[],B=0;B<E;B+=1)k[B]=y[B](S,u,p);var G=a0e(k.concat());b.set(k[G],w+_)}p=S}return b}(t,e,Math.ceil(n*r/8),o);var a=Mx(t,{level:s});return ht.API.__addimage__.arrayBufferToBinaryString(a)}function s0e(t){var e=Array.apply([],t);return e.unshift(0),e}function Yk(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function Xk(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var o=n&&n[s]||0;i[s+1]=t[s]-o+256&255}return i}function Qk(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var o=t[s-e]||0,a=n&&n[s]||0;i[s+1]=t[s]+256-(o+a>>>1)&255}return i}function Jk(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var o=o0e(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-o+256&255}return i}function o0e(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function a0e(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function f5(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),o=(1<<n)-1;return MU(t,i)>>s&o}function Zk(t,e,n,r){var i=n*r,s=Math.floor(i/8),o=16-(i-8*s+r),a=(1<<r)-1,l=(e&a)<<o;(function(c,u,h){if(u+1<c.byteLength)c.setUint16(u,h,!1);else{var p=h>>8&255;c.setUint8(u,p)}})(t,s,MU(t,s)&~(a<<o)&65535|l)}function MU(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function l0e(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<1+(7&i);t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var c=!0,u=[],h=0,p=null,d=0,b=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,b=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var y=t[e++];h=t[e++]|t[e++]<<8,p=t[e++],1&y||(p=null),d=y>>2&7,e++;break;case 254:for(;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var _=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,k=t[e++],B=k>>6&1,G=1<<1+(7&k),D=a,N=l,P=!1;k>>7&&(P=!0,D=e,N=G,e+=3*G);var j=e;for(e++;;){var I;if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}u.push({x:_,y:w,width:S,height:E,has_local_palette:P,palette_offset:D,palette_size:N,data_offset:j,data_length:e-j,transparent_index:p,interlaced:!!B,delay:h,disposal:d});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return b},this.frameInfo=function(L){if(L<0||L>=u.length)throw new Error("Frame index out of range.");return u[L]},this.decodeAndBlitFrameBGRA=function(L,M){var W=this.frameInfo(L),ae=W.width*W.height,ce=new Uint8Array(ae);eR(t,W.data_offset,ce,ae);var le=W.palette_offset,Y=W.transparent_index;Y===null&&(Y=256);var Q=W.width,fe=n-Q,ye=Q,F=4*(W.y*n+W.x),X=4*((W.y+W.height)*n+W.x),J=F,ie=4*fe;W.interlaced===!0&&(ie+=4*n*7);for(var oe=8,re=0,ge=ce.length;re<ge;++re){var me=ce[re];if(ye===0&&(ye=Q,(J+=ie)>=X&&(ie=4*fe+4*n*(oe-1),J=F+(Q+fe)*(oe<<1),oe>>=1)),me===Y)J+=4;else{var xe=t[le+3*me],Ee=t[le+3*me+1],Le=t[le+3*me+2];M[J++]=Le,M[J++]=Ee,M[J++]=xe,M[J++]=255}--ye}},this.decodeAndBlitFrameRGBA=function(L,M){var W=this.frameInfo(L),ae=W.width*W.height,ce=new Uint8Array(ae);eR(t,W.data_offset,ce,ae);var le=W.palette_offset,Y=W.transparent_index;Y===null&&(Y=256);var Q=W.width,fe=n-Q,ye=Q,F=4*(W.y*n+W.x),X=4*((W.y+W.height)*n+W.x),J=F,ie=4*fe;W.interlaced===!0&&(ie+=4*n*7);for(var oe=8,re=0,ge=ce.length;re<ge;++re){var me=ce[re];if(ye===0&&(ye=Q,(J+=ie)>=X&&(ie=4*fe+4*n*(oe-1),J=F+(Q+fe)*(oe<<1),oe>>=1)),me===Y)J+=4;else{var xe=t[le+3*me],Ee=t[le+3*me+1],Le=t[le+3*me+2];M[J++]=xe,M[J++]=Ee,M[J++]=Le,M[J++]=255}--ye}}}function eR(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,u=0,h=0,p=0,d=t[e++],b=new Int32Array(4096),y=null;;){for(;u<16&&d!==0;)h|=t[e++]<<u,u+=8,d===1?d=t[e++]:--d;if(u<l)break;var _=h&c;if(h>>=l,u-=l,_!==s){if(_===o)break;for(var w=_<a?_:y,S=0,E=w;E>s;)E=b[E]>>8,++S;var k=E;if(p+S+(w!==_?1:0)>r)return void Pn.log("Warning, gif stream longer than expected.");n[p++]=k;var B=p+=S;for(w!==_&&(n[p++]=k),E=w;S--;)E=b[E],n[--B]=255&E,E>>=8;y!==null&&a<4096&&(b[a++]=y<<8|k,a>=c+1&&l<12&&(++l,c=c<<1|1)),y=_}else a=o+1,c=(1<<(l=i+1))-1,y=null}return p!==r&&Pn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function p5(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),p=new Array(65535),d=new Array(64),b=new Array(64),y=[],_=0,w=7,S=new Array(64),E=new Array(64),k=new Array(64),B=new Array(256),G=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ce(F,X){for(var J=0,ie=0,oe=new Array,re=1;re<=16;re++){for(var ge=1;ge<=F[re];ge++)oe[X[ie]]=[],oe[X[ie]][0]=J,oe[X[ie]][1]=re,ie++,J++;J*=2}return oe}function le(F){for(var X=F[0],J=F[1]-1;J>=0;)X&1<<J&&(_|=1<<w),J--,--w<0&&(_==255?(Y(255),Y(0)):Y(_),w=7,_=0)}function Y(F){y.push(F)}function Q(F){Y(F>>8&255),Y(255&F)}function fe(F,X,J,ie,oe){for(var re,ge=oe[0],me=oe[240],xe=function(Ne,$e){var Ue,At,Xe,Jt,gt,st,qt,St,ot,mt,it=0;for(ot=0;ot<8;++ot){Ue=Ne[it],At=Ne[it+1],Xe=Ne[it+2],Jt=Ne[it+3],gt=Ne[it+4],st=Ne[it+5],qt=Ne[it+6];var ln=Ue+(St=Ne[it+7]),Vt=Ue-St,We=At+qt,vt=At-qt,jt=Xe+st,dt=Xe-st,Ft=Jt+gt,_t=Jt-gt,dn=ln+Ft,Gn=ln-Ft,Tt=We+jt,ct=We-jt;Ne[it]=dn+Tt,Ne[it+4]=dn-Tt;var Ht=.707106781*(ct+Gn);Ne[it+2]=Gn+Ht,Ne[it+6]=Gn-Ht;var ut=.382683433*((dn=_t+dt)-(ct=vt+Vt)),It=.5411961*dn+ut,Gt=1.306562965*ct+ut,mn=.707106781*(Tt=dt+vt),Je=Vt+mn,Nr=Vt-mn;Ne[it+5]=Nr+It,Ne[it+3]=Nr-It,Ne[it+1]=Je+Gt,Ne[it+7]=Je-Gt,it+=8}for(it=0,ot=0;ot<8;++ot){Ue=Ne[it],At=Ne[it+8],Xe=Ne[it+16],Jt=Ne[it+24],gt=Ne[it+32],st=Ne[it+40],qt=Ne[it+48];var ir=Ue+(St=Ne[it+56]),En=Ue-St,Kn=At+qt,kn=At-qt,Yn=Xe+st,Vr=Xe-st,di=Jt+gt,Ao=Jt-gt,Ji=ir+di,Zi=ir-di,Ri=Kn+Yn,es=Kn-Yn;Ne[it]=Ji+Ri,Ne[it+32]=Ji-Ri;var ts=.707106781*(es+Zi);Ne[it+16]=Zi+ts,Ne[it+48]=Zi-ts;var ra=.382683433*((Ji=Ao+Vr)-(es=kn+En)),Gs=.5411961*Ji+ra,Ks=1.306562965*es+ra,Ya=.707106781*(Ri=Vr+kn),ia=En+Ya,Ys=En-Ya;Ne[it+40]=Ys+Gs,Ne[it+24]=Ys-Gs,Ne[it+8]=ia+Ks,Ne[it+56]=ia-Ks,it++}for(ot=0;ot<64;++ot)mt=Ne[ot]*$e[ot],d[ot]=mt>0?mt+.5|0:mt-.5|0;return d}(F,X),Ee=0;Ee<64;++Ee)b[D[Ee]]=xe[Ee];var Le=b[0]-J;J=b[0],Le==0?le(ie[0]):(le(ie[p[re=32767+Le]]),le(h[re]));for(var Fe=63;Fe>0&&b[Fe]==0;)Fe--;if(Fe==0)return le(ge),J;for(var Se,ne=1;ne<=Fe;){for(var wt=ne;b[ne]==0&&ne<=Fe;)++ne;var pt=ne-wt;if(pt>=16){Se=pt>>4;for(var tt=1;tt<=Se;++tt)le(me);pt&=15}re=32767+b[ne],le(oe[(pt<<4)+p[re]]),le(h[re]),ne++}return Fe!=63&&le(ge),J}function ye(F){F=Math.min(Math.max(F,1),100),s!=F&&(function(X){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var oe=o((J[ie]*X+50)/100);oe=Math.min(Math.max(oe,1),255),a[D[ie]]=oe}for(var re=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var me=o((re[ge]*X+50)/100);me=Math.min(Math.max(me,1),255),l[D[ge]]=me}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ee=0,Le=0;Le<8;Le++)for(var Fe=0;Fe<8;Fe++)c[Ee]=1/(a[D[Ee]]*xe[Le]*xe[Fe]*8),u[Ee]=1/(l[D[Ee]]*xe[Le]*xe[Fe]*8),Ee++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),s=F)}this.encode=function(F,X){X&&ye(X),y=new Array,_=0,w=7,Q(65496),Q(65504),Q(16),Y(74),Y(70),Y(73),Y(70),Y(0),Y(1),Y(1),Y(0),Q(1),Q(1),Y(0),Y(0),function(){Q(65499),Q(132),Y(0);for(var At=0;At<64;At++)Y(a[At]);Y(1);for(var Xe=0;Xe<64;Xe++)Y(l[Xe])}(),function(At,Xe){Q(65472),Q(17),Y(8),Q(Xe),Q(At),Y(3),Y(1),Y(17),Y(0),Y(2),Y(17),Y(1),Y(3),Y(17),Y(1)}(F.width,F.height),function(){Q(65476),Q(418),Y(0);for(var At=0;At<16;At++)Y(N[At+1]);for(var Xe=0;Xe<=11;Xe++)Y(P[Xe]);Y(16);for(var Jt=0;Jt<16;Jt++)Y(j[Jt+1]);for(var gt=0;gt<=161;gt++)Y(I[gt]);Y(1);for(var st=0;st<16;st++)Y(L[st+1]);for(var qt=0;qt<=11;qt++)Y(M[qt]);Y(17);for(var St=0;St<16;St++)Y(W[St+1]);for(var ot=0;ot<=161;ot++)Y(ae[ot])}(),Q(65498),Q(12),Y(3),Y(1),Y(0),Y(2),Y(17),Y(3),Y(17),Y(0),Y(63),Y(0);var J=0,ie=0,oe=0;_=0,w=7,this.encode.displayName="_encode_";for(var re,ge,me,xe,Ee,Le,Fe,Se,ne,wt=F.data,pt=F.width,tt=F.height,Ne=4*pt,$e=0;$e<tt;){for(re=0;re<Ne;){for(Ee=Ne*$e+re,Fe=-1,Se=0,ne=0;ne<64;ne++)Le=Ee+(Se=ne>>3)*Ne+(Fe=4*(7&ne)),$e+Se>=tt&&(Le-=Ne*($e+1+Se-tt)),re+Fe>=Ne&&(Le-=re+Fe-Ne+4),ge=wt[Le++],me=wt[Le++],xe=wt[Le++],S[ne]=(G[ge]+G[me+256|0]+G[xe+512|0]>>16)-128,E[ne]=(G[ge+768|0]+G[me+1024|0]+G[xe+1280|0]>>16)-128,k[ne]=(G[ge+1280|0]+G[me+1536|0]+G[xe+1792|0]>>16)-128;J=fe(S,c,J,e,r),ie=fe(E,u,ie,n,i),oe=fe(k,u,oe,n,i),re+=32}$e+=8}if(w>=0){var Ue=[];Ue[1]=w+1,Ue[0]=(1<<w+1)-1,le(Ue)}return Q(65497),new Uint8Array(y)},t=t||50,function(){for(var F=String.fromCharCode,X=0;X<256;X++)B[X]=F(X)}(),e=ce(N,P),n=ce(L,M),r=ce(j,I),i=ce(W,ae),function(){for(var F=1,X=2,J=1;J<=15;J++){for(var ie=F;ie<X;ie++)p[32767+ie]=J,h[32767+ie]=[],h[32767+ie][1]=J,h[32767+ie][0]=ie;for(var oe=-(X-1);oe<=-F;oe++)p[32767+oe]=J,h[32767+oe]=[],h[32767+oe][1]=J,h[32767+oe][0]=X-1+oe;F<<=1,X<<=1}}(),function(){for(var F=0;F<256;F++)G[F]=19595*F,G[F+256|0]=38470*F,G[F+512|0]=7471*F+32768,G[F+768|0]=-11059*F,G[F+1024|0]=-21709*F,G[F+1280|0]=32768*F+8421375,G[F+1536|0]=-27439*F,G[F+1792|0]=-5329*F}(),ye(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Lo(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function tR(t){function e(P){if(!P)throw Error("assert :P")}function n(P,j,I){for(var L=0;4>L;L++)if(P[j+L]!=I.charCodeAt(L))return!0;return!1}function r(P,j,I,L,M){for(var W=0;W<M;W++)P[j+W]=I[L+W]}function i(P,j,I,L){for(var M=0;M<L;M++)P[j+M]=I}function s(P){return new Int32Array(P)}function o(P,j){for(var I=[],L=0;L<P;L++)I.push(new j);return I}function a(P,j){var I=[];return function L(M,W,ae){for(var ce=ae[W],le=0;le<ce&&(M.push(ae.length>W+1?[]:new j),!(ae.length<W+1));le++)L(M[le],W+1,ae)}(I,0,P),I}var l=function(){var P=this;function j(f,g){for(var A=1<<g-1>>>0;f&A;)A>>>=1;return A?(f&A-1)+A:f}function I(f,g,A,R,U){e(!(R%A));do f[g+(R-=A)]=U;while(0<R)}function L(f,g,A,R,U){if(e(2328>=U),512>=U)var z=s(512);else if((z=s(U))==null)return 0;return function($,q,K,ee,ue,_e){var te,he,ve=q,Ae=1<<K,we=s(16),Ie=s(16);for(e(ue!=0),e(ee!=null),e($!=null),e(0<K),he=0;he<ue;++he){if(15<ee[he])return 0;++we[ee[he]]}if(we[0]==ue)return 0;for(Ie[1]=0,te=1;15>te;++te){if(we[te]>1<<te)return 0;Ie[te+1]=Ie[te]+we[te]}for(he=0;he<ue;++he)te=ee[he],0<ee[he]&&(_e[Ie[te]++]=he);if(Ie[15]==1)return(ee=new M).g=0,ee.value=_e[0],I($,ve,1,Ae,ee),Ae;var Ce,Oe=-1,Me=Ae-1,lt=0,Qe=1,Ut=1,nt=1<<K;for(he=0,te=1,ue=2;te<=K;++te,ue<<=1){if(Qe+=Ut<<=1,0>(Ut-=we[te]))return 0;for(;0<we[te];--we[te])(ee=new M).g=te,ee.value=_e[he++],I($,ve+lt,ue,nt,ee),lt=j(lt,te)}for(te=K+1,ue=2;15>=te;++te,ue<<=1){if(Qe+=Ut<<=1,0>(Ut-=we[te]))return 0;for(;0<we[te];--we[te]){if(ee=new M,(lt&Me)!=Oe){for(ve+=nt,Ce=1<<(Oe=te)-K;15>Oe&&!(0>=(Ce-=we[Oe]));)++Oe,Ce<<=1;Ae+=nt=1<<(Ce=Oe-K),$[q+(Oe=lt&Me)].g=Ce+K,$[q+Oe].value=ve-q-Oe}ee.g=te-K,ee.value=_e[he++],I($,ve+(lt>>K),ue,nt,ee),lt=j(lt,te)}}return Qe!=2*Ie[15]-1?0:Ae}(f,g,A,R,U,z)}function M(){this.value=this.g=0}function W(){this.value=this.g=0}function ae(){this.G=o(5,M),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(qu,W)}function ce(f,g,A,R){e(f!=null),e(g!=null),e(2147483648>R),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=g,f.pa=A,f.Jd=g,f.Yc=A+R,f.Zc=4<=R?A+R-4+1:A,ge(f)}function le(f,g){for(var A=0;0<g--;)A|=xe(f,128)<<g;return A}function Y(f,g){var A=le(f,g);return me(f)?-A:A}function Q(f,g,A,R){var U,z=0;for(e(f!=null),e(g!=null),e(4294967288>R),f.Sb=R,f.Ra=0,f.u=0,f.h=0,4<R&&(R=4),U=0;U<R;++U)z+=g[A+U]<<8*U;f.Ra=z,f.bb=R,f.oa=g,f.pa=A}function fe(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<Zl-8>>>0,++f.bb,f.u-=8;ie(f)&&(f.h=1,f.u=0)}function ye(f,g){if(e(0<=g),!f.h&&g<=Ss){var A=J(f)&xs[g];return f.u+=g,fe(f),A}return f.h=1,f.u=0}function F(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function X(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(f){return f.Ra>>>(f.u&Zl-1)>>>0}function ie(f){return e(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>Zl}function oe(f,g){f.u=g,f.h=ie(f)}function re(f){f.u>=ol&&(e(f.u>=ol),fe(f))}function ge(f){e(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(e(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function me(f){return le(f,1)}function xe(f,g){var A=f.Ca;0>f.b&&ge(f);var R=f.b,U=A*g>>>8,z=(f.I>>>R>U)+0;for(z?(A-=U,f.I-=U+1<<R>>>0):A=U+1,R=A,U=0;256<=R;)U+=8,R>>=8;return R=7^U+ec[R],f.b-=R,f.Ca=(A<<R)-1,z}function Ee(f,g,A){f[g+0]=A>>24&255,f[g+1]=A>>16&255,f[g+2]=A>>8&255,f[g+3]=255&A}function Le(f,g){return f[g+0]|f[g+1]<<8}function Fe(f,g){return Le(f,g)|f[g+2]<<16}function Se(f,g){return Le(f,g)|Le(f,g+2)<<16}function ne(f,g){var A=1<<g;return e(f!=null),e(0<g),f.X=s(A),f.X==null?0:(f.Mb=32-g,f.Xa=g,1)}function wt(f,g){e(f!=null),e(g!=null),e(f.Xa==g.Xa),r(g.X,0,f.X,0,1<<g.Xa)}function pt(){this.X=[],this.Xa=this.Mb=0}function tt(f,g,A,R){e(A!=null),e(R!=null);var U=A[0],z=R[0];return U==0&&(U=(f*z+g/2)/g),z==0&&(z=(g*U+f/2)/f),0>=U||0>=z?0:(A[0]=U,R[0]=z,1)}function Ne(f,g){return f+(1<<g)-1>>>g}function $e(f,g){return((4278255360&f)+(4278255360&g)>>>0&4278255360)+((16711935&f)+(16711935&g)>>>0&16711935)>>>0}function Ue(f,g){P[g]=function(A,R,U,z,$,q,K){var ee;for(ee=0;ee<$;++ee){var ue=P[f](q[K+ee-1],U,z+ee);q[K+ee]=$e(A[R+ee],ue)}}}function At(){this.ud=this.hd=this.jd=0}function Xe(f,g){return((4278124286&(f^g))>>>1)+(f&g)>>>0}function Jt(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function gt(f,g){return Jt(f+(f-g+.5>>1))}function st(f,g,A){return Math.abs(g-A)-Math.abs(f-A)}function qt(f,g,A,R,U,z,$){for(R=z[$-1],A=0;A<U;++A)z[$+A]=R=$e(f[g+A],R)}function St(f,g,A,R,U){var z;for(z=0;z<A;++z){var $=f[g+z],q=$>>8&255,K=16711935&(K=(K=16711935&$)+((q<<16)+q));R[U+z]=(4278255360&$)+K>>>0}}function ot(f,g){g.jd=255&f,g.hd=f>>8&255,g.ud=f>>16&255}function mt(f,g,A,R,U,z){var $;for($=0;$<R;++$){var q=g[A+$],K=q>>>8,ee=q,ue=255&(ue=(ue=q>>>16)+((f.jd<<24>>24)*(K<<24>>24)>>>5));ee=255&(ee=(ee+=(f.hd<<24>>24)*(K<<24>>24)>>>5)+((f.ud<<24>>24)*(ue<<24>>24)>>>5)),U[z+$]=(4278255360&q)+(ue<<16)+ee}}function it(f,g,A,R,U){P[g]=function(z,$,q,K,ee,ue,_e,te,he){for(K=_e;K<te;++K)for(_e=0;_e<he;++_e)ee[ue++]=U(q[R(z[$++])])},P[f]=function(z,$,q,K,ee,ue,_e){var te=8>>z.b,he=z.Ea,ve=z.K[0],Ae=z.w;if(8>te)for(z=(1<<z.b)-1,Ae=(1<<te)-1;$<q;++$){var we,Ie=0;for(we=0;we<he;++we)we&z||(Ie=R(K[ee++])),ue[_e++]=U(ve[Ie&Ae]),Ie>>=te}else P["VP8LMapColor"+A](K,ee,ve,Ae,ue,_e,$,q,he)}}function ln(f,g,A,R,U){for(A=g+A;g<A;){var z=f[g++];R[U++]=z>>16&255,R[U++]=z>>8&255,R[U++]=255&z}}function Vt(f,g,A,R,U){for(A=g+A;g<A;){var z=f[g++];R[U++]=z>>16&255,R[U++]=z>>8&255,R[U++]=255&z,R[U++]=z>>24&255}}function We(f,g,A,R,U){for(A=g+A;g<A;){var z=($=f[g++])>>16&240|$>>12&15,$=240&$|$>>28&15;R[U++]=z,R[U++]=$}}function vt(f,g,A,R,U){for(A=g+A;g<A;){var z=($=f[g++])>>16&248|$>>13&7,$=$>>5&224|$>>3&31;R[U++]=z,R[U++]=$}}function jt(f,g,A,R,U){for(A=g+A;g<A;){var z=f[g++];R[U++]=255&z,R[U++]=z>>8&255,R[U++]=z>>16&255}}function dt(f,g,A,R,U,z){if(z==0)for(A=g+A;g<A;)Ee(R,((z=f[g++])[0]>>24|z[1]>>8&65280|z[2]<<8&16711680|z[3]<<24)>>>0),U+=32;else r(R,U,f,g,A)}function Ft(f,g){P[g][0]=P[f+"0"],P[g][1]=P[f+"1"],P[g][2]=P[f+"2"],P[g][3]=P[f+"3"],P[g][4]=P[f+"4"],P[g][5]=P[f+"5"],P[g][6]=P[f+"6"],P[g][7]=P[f+"7"],P[g][8]=P[f+"8"],P[g][9]=P[f+"9"],P[g][10]=P[f+"10"],P[g][11]=P[f+"11"],P[g][12]=P[f+"12"],P[g][13]=P[f+"13"],P[g][14]=P[f+"0"],P[g][15]=P[f+"0"]}function _t(f){return f==sw||f==ow||f==E0||f==aw}function dn(){this.eb=[],this.size=this.A=this.fb=0}function Gn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Tt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new dn,this.f.kb=new Gn,this.sd=null}function ct(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ht(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ut(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function It(f,g){var A=f.T,R=g.ba.f.RGBA,U=R.eb,z=R.fb+f.ka*R.A,$=io[g.ba.S],q=f.y,K=f.O,ee=f.f,ue=f.N,_e=f.ea,te=f.W,he=g.cc,ve=g.dc,Ae=g.Mc,we=g.Nc,Ie=f.ka,Ce=f.ka+f.T,Oe=f.U,Me=Oe+1>>1;for(Ie==0?$(q,K,null,null,ee,ue,_e,te,ee,ue,_e,te,U,z,null,null,Oe):($(g.ec,g.fc,q,K,he,ve,Ae,we,ee,ue,_e,te,U,z-R.A,U,z,Oe),++A);Ie+2<Ce;Ie+=2)he=ee,ve=ue,Ae=_e,we=te,ue+=f.Rc,te+=f.Rc,z+=2*R.A,$(q,(K+=2*f.fa)-f.fa,q,K,he,ve,Ae,we,ee,ue,_e,te,U,z-R.A,U,z,Oe);return K+=f.fa,f.j+Ce<f.o?(r(g.ec,g.fc,q,K,Oe),r(g.cc,g.dc,ee,ue,Me),r(g.Mc,g.Nc,_e,te,Me),A--):1&Ce||$(q,K,null,null,ee,ue,_e,te,ee,ue,_e,te,U,z+R.A,null,null,Oe),A}function Gt(f,g,A){var R=f.F,U=[f.J];if(R!=null){var z=f.U,$=g.ba.S,q=$==S0||$==E0;g=g.ba.f.RGBA;var K=[0],ee=f.ka;K[0]=f.T,f.Kb&&(ee==0?--K[0]:(--ee,U[0]-=f.width),f.j+f.ka+f.T==f.o&&(K[0]=f.o-f.j-ee));var ue=g.eb;ee=g.fb+ee*g.A,f=zT(R,U[0],f.width,z,K,ue,ee+(q?0:3),g.A),e(A==K),f&&_t($)&&Cp(ue,ee,q,z,K,g.A)}return 0}function mn(f){var g=f.ma,A=g.ba.S,R=11>A,U=A==b0||A==x0||A==S0||A==iw||A==12||_t(A);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!_p(g.Oa,f,U?11:12))return 0;if(U&&_t(A)&&Ve(),f.da)alert("todo:use_scaling");else{if(R){if(g.Ib=ut,f.Kb){if(A=f.U+1>>1,g.memory=s(f.U+2*A),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+f.U,g.Mc=g.cc,g.Nc=g.dc+A,g.Ib=It,Ve()}}else alert("todo:EmitYUV");U&&(g.Jb=Gt,R&&pe())}if(R&&!sI){for(f=0;256>f;++f)nB[f]=89858*(f-128)+T0>>A0,sB[f]=-22014*(f-128)+T0,iB[f]=-45773*(f-128),rB[f]=113618*(f-128)+T0>>A0;for(f=Pp;f<uw;++f)g=76283*(f-16)+T0>>A0,oB[f-Pp]=sr(g,255),aB[f-Pp]=sr(g+8>>4,15);sI=1}return 1}function Je(f){var g=f.ma,A=f.U,R=f.T;return e(!(1&f.ka)),0>=A||0>=R?0:(A=g.Ib(f,g),g.Jb!=null&&g.Jb(f,g,A),g.Dc+=A,1)}function Nr(f){f.ma.memory=null}function ir(f,g,A,R){return ye(f,8)!=47?0:(g[0]=ye(f,14)+1,A[0]=ye(f,14)+1,R[0]=ye(f,1),ye(f,3)!=0?0:!f.h)}function En(f,g){if(4>f)return f+1;var A=f-2>>1;return(2+(1&f)<<A)+ye(g,A)+1}function Kn(f,g){return 120<g?g-120:1<=(A=((A=zU[g-1])>>4)*f+(8-(15&A)))?A:1;var A}function kn(f,g,A){var R=J(A),U=f[g+=255&R].g-8;return 0<U&&(oe(A,A.u+8),R=J(A),g+=f[g].value,g+=R&(1<<U)-1),oe(A,A.u+f[g].g),f[g].value}function Yn(f,g,A){return A.g+=f.g,A.value+=f.value<<g>>>0,e(8>=A.g),f.g}function Vr(f,g,A){var R=f.xc;return e((g=R==0?0:f.vc[f.md*(A>>R)+(g>>R)])<f.Wb),f.Ya[g]}function di(f,g,A,R){var U=f.ab,z=f.c*g,$=f.C;g=$+g;var q=A,K=R;for(R=f.Ta,A=f.Ua;0<U--;){var ee=f.gc[U],ue=$,_e=g,te=q,he=K,ve=(K=R,q=A,ee.Ea);switch(e(ue<_e),e(_e<=ee.nc),ee.hc){case 2:gr(te,he,(_e-ue)*ve,K,q);break;case 0:var Ae=ue,we=_e,Ie=K,Ce=q,Oe=(nt=ee).Ea;Ae==0&&(xp(te,he,null,null,1,Ie,Ce),qt(te,he+1,0,0,Oe-1,Ie,Ce+1),he+=Oe,Ce+=Oe,++Ae);for(var Me=1<<nt.b,lt=Me-1,Qe=Ne(Oe,nt.b),Ut=nt.K,nt=nt.w+(Ae>>nt.b)*Qe;Ae<we;){var Zt=Ut,Br=nt,Bt=1;for(gd(te,he,Ie,Ce-Oe,1,Ie,Ce);Bt<Oe;){var rt=(Bt&~lt)+Me;rt>Oe&&(rt=Oe),(0,Ep[Zt[Br++]>>8&15])(te,he+ +Bt,Ie,Ce+Bt-Oe,rt-Bt,Ie,Ce+Bt),Bt=rt}he+=Oe,Ce+=Oe,++Ae&lt||(nt+=Qe)}_e!=ee.nc&&r(K,q-ve,K,q+(_e-ue-1)*ve,ve);break;case 1:for(ve=te,we=he,Oe=(te=ee.Ea)-(Ce=te&~(Ie=(he=1<<ee.b)-1)),Ae=Ne(te,ee.b),Me=ee.K,ee=ee.w+(ue>>ee.b)*Ae;ue<_e;){for(lt=Me,Qe=ee,Ut=new At,nt=we+Ce,Zt=we+te;we<nt;)ot(lt[Qe++],Ut),Ap(Ut,ve,we,he,K,q),we+=he,q+=he;we<Zt&&(ot(lt[Qe++],Ut),Ap(Ut,ve,we,Oe,K,q),we+=Oe,q+=Oe),++ue&Ie||(ee+=Ae)}break;case 3:if(te==K&&he==q&&0<ee.b){for(we=K,te=ve=q+(_e-ue)*ve-(Ce=(_e-ue)*Ne(ee.Ea,ee.b)),he=K,Ie=q,Ae=[],Ce=(Oe=Ce)-1;0<=Ce;--Ce)Ae[Ce]=he[Ie+Ce];for(Ce=Oe-1;0<=Ce;--Ce)we[te+Ce]=Ae[Ce];y0(ee,ue,_e,K,ve,K,q)}else y0(ee,ue,_e,te,he,K,q)}q=R,K=A}K!=A&&r(R,A,q,K,z)}function Ao(f,g){var A=f.V,R=f.Ba+f.c*f.C,U=g-f.C;if(e(g<=f.l.o),e(16>=U),0<U){var z=f.l,$=f.Ta,q=f.Ua,K=z.width;if(di(f,U,A,R),U=q=[q],e((A=f.C)<(R=g)),e(z.v<z.va),R>z.o&&(R=z.o),A<z.j){var ee=z.j-A;A=z.j,U[0]+=ee*K}if(A>=R?A=0:(U[0]+=4*z.v,z.ka=A-z.j,z.U=z.va-z.v,z.T=R-A,A=1),A){if(q=q[0],11>(A=f.ca).S){var ue=A.f.RGBA,_e=(R=A.S,U=z.U,z=z.T,ee=ue.eb,ue.A),te=z;for(ue=ue.fb+f.Ma*ue.A;0<te--;){var he=$,ve=q,Ae=U,we=ee,Ie=ue;switch(R){case _0:Tp(he,ve,Ae,we,Ie);break;case b0:tc(he,ve,Ae,we,Ie);break;case sw:tc(he,ve,Ae,we,Ie),Cp(we,Ie,0,Ae,1,0);break;case YT:Hu(he,ve,Ae,we,Ie);break;case x0:dt(he,ve,Ae,we,Ie,1);break;case ow:dt(he,ve,Ae,we,Ie,1),Cp(we,Ie,0,Ae,1,0);break;case S0:dt(he,ve,Ae,we,Ie,0);break;case E0:dt(he,ve,Ae,we,Ie,0),Cp(we,Ie,1,Ae,1,0);break;case iw:nc(he,ve,Ae,we,Ie);break;case aw:nc(he,ve,Ae,we,Ie),BT(we,Ie,Ae,1,0);break;case XT:rc(he,ve,Ae,we,Ie);break;default:e(0)}q+=K,ue+=_e}f.Ma+=z}else alert("todo:EmitRescaledRowsYUVA");e(f.Ma<=A.height)}}f.C=g,e(f.C<=f.i)}function Ji(f){var g;if(0<f.ua)return 0;for(g=0;g<f.Wb;++g){var A=f.Ya[g].G,R=f.Ya[g].H;if(0<A[1][R[1]+0].g||0<A[2][R[2]+0].g||0<A[3][R[3]+0].g)return 0}return 1}function Zi(f,g,A,R,U,z){if(f.Z!=0){var $=f.qd,q=f.rd;for(e(oc[f.Z]!=null);g<A;++g)oc[f.Z]($,q,R,U,R,U,z),$=R,q=U,U+=z;f.qd=$,f.rd=q}}function Ri(f,g){var A=f.l.ma,R=A.Z==0||A.Z==1?f.l.j:f.C;if(R=f.C<R?R:f.C,e(g<=f.l.o),g>R){var U=f.l.width,z=A.ca,$=A.tb+U*R,q=f.V,K=f.Ba+f.c*R,ee=f.gc;e(f.ab==1),e(ee[0].hc==3),pa(ee[0],R,g,q,K,z,$),Zi(A,R,g,z,$,U)}f.C=f.Ma=g}function es(f,g,A,R,U,z,$){var q=f.$/R,K=f.$%R,ee=f.m,ue=f.s,_e=A+f.$,te=_e;U=A+R*U;var he=A+R*z,ve=280+ue.ua,Ae=f.Pb?q:16777216,we=0<ue.ua?ue.Wa:null,Ie=ue.wc,Ce=_e<he?Vr(ue,K,q):null;e(f.C<z),e(he<=U);var Oe=!1;e:for(;;){for(;Oe||_e<he;){var Me=0;if(q>=Ae){var lt=_e-A;e((Ae=f).Pb),Ae.wd=Ae.m,Ae.xd=lt,0<Ae.s.ua&&wt(Ae.s.Wa,Ae.s.vb),Ae=q+qU}if(K&Ie||(Ce=Vr(ue,K,q)),e(Ce!=null),Ce.Qb&&(g[_e]=Ce.qb,Oe=!0),!Oe)if(re(ee),Ce.jc){Me=ee,lt=g;var Qe=_e,Ut=Ce.pd[J(Me)&qu-1];e(Ce.jc),256>Ut.g?(oe(Me,Me.u+Ut.g),lt[Qe]=Ut.value,Me=0):(oe(Me,Me.u+Ut.g-256),e(256<=Ut.value),Me=Ut.value),Me==0&&(Oe=!0)}else Me=kn(Ce.G[0],Ce.H[0],ee);if(ee.h)break;if(Oe||256>Me){if(!Oe)if(Ce.nd)g[_e]=(Ce.qb|Me<<8)>>>0;else{if(re(ee),Oe=kn(Ce.G[1],Ce.H[1],ee),re(ee),lt=kn(Ce.G[2],Ce.H[2],ee),Qe=kn(Ce.G[3],Ce.H[3],ee),ee.h)break;g[_e]=(Qe<<24|Oe<<16|Me<<8|lt)>>>0}if(Oe=!1,++_e,++K>=R&&(K=0,++q,$!=null&&q<=z&&!(q%16)&&$(f,q),we!=null))for(;te<_e;)Me=g[te++],we.X[(506832829*Me&4294967295)>>>we.Mb]=Me}else if(280>Me){if(Me=En(Me-256,ee),lt=kn(Ce.G[4],Ce.H[4],ee),re(ee),lt=Kn(R,lt=En(lt,ee)),ee.h)break;if(_e-A<lt||U-_e<Me)break e;for(Qe=0;Qe<Me;++Qe)g[_e+Qe]=g[_e+Qe-lt];for(_e+=Me,K+=Me;K>=R;)K-=R,++q,$!=null&&q<=z&&!(q%16)&&$(f,q);if(e(_e<=U),K&Ie&&(Ce=Vr(ue,K,q)),we!=null)for(;te<_e;)Me=g[te++],we.X[(506832829*Me&4294967295)>>>we.Mb]=Me}else{if(!(Me<ve))break e;for(Oe=Me-280,e(we!=null);te<_e;)Me=g[te++],we.X[(506832829*Me&4294967295)>>>we.Mb]=Me;Me=_e,e(!(Oe>>>(lt=we).Xa)),g[Me]=lt.X[Oe],Oe=!0}Oe||e(ee.h==ie(ee))}if(f.Pb&&ee.h&&_e<U)e(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&wt(f.s.vb,f.s.Wa);else{if(ee.h)break e;$!=null&&$(f,q>z?z:q),f.a=0,f.$=_e-A}return 1}return f.a=3,0}function ts(f){e(f!=null),f.vc=null,f.yc=null,f.Ya=null;var g=f.Wa;g!=null&&(g.X=null),f.vb=null,e(f!=null)}function ra(){var f=new et;return f==null?null:(f.a=0,f.xb=ZT,Ft("Predictor","VP8LPredictors"),Ft("Predictor","VP8LPredictors_C"),Ft("PredictorAdd","VP8LPredictorsAdd"),Ft("PredictorAdd","VP8LPredictorsAdd_C"),gr=St,Ap=mt,Tp=ln,tc=Vt,nc=We,rc=vt,Hu=jt,P.VP8LMapColor32b=fa,P.VP8LMapColor8b=Sp,f)}function Gs(f,g,A,R,U){var z=1,$=[f],q=[g],K=R.m,ee=R.s,ue=null,_e=0;e:for(;;){if(A)for(;z&&ye(K,1);){var te=$,he=q,ve=R,Ae=1,we=ve.m,Ie=ve.gc[ve.ab],Ce=ye(we,2);if(ve.Oc&1<<Ce)z=0;else{switch(ve.Oc|=1<<Ce,Ie.hc=Ce,Ie.Ea=te[0],Ie.nc=he[0],Ie.K=[null],++ve.ab,e(4>=ve.ab),Ce){case 0:case 1:Ie.b=ye(we,3)+2,Ae=Gs(Ne(Ie.Ea,Ie.b),Ne(Ie.nc,Ie.b),0,ve,Ie.K),Ie.K=Ie.K[0];break;case 3:var Oe,Me=ye(we,8)+1,lt=16<Me?0:4<Me?1:2<Me?2:3;if(te[0]=Ne(Ie.Ea,lt),Ie.b=lt,Oe=Ae=Gs(Me,1,0,ve,Ie.K)){var Qe,Ut=Me,nt=Ie,Zt=1<<(8>>nt.b),Br=s(Zt);if(Br==null)Oe=0;else{var Bt=nt.K[0],rt=nt.w;for(Br[0]=nt.K[0][0],Qe=1;Qe<1*Ut;++Qe)Br[Qe]=$e(Bt[rt+Qe],Br[Qe-1]);for(;Qe<4*Zt;++Qe)Br[Qe]=0;nt.K[0]=null,nt.K[0]=Br,Oe=1}}Ae=Oe;break;case 2:break;default:e(0)}z=Ae}}if($=$[0],q=q[0],z&&ye(K,1)&&!(z=1<=(_e=ye(K,4))&&11>=_e)){R.a=3;break e}var ze;if(ze=z)t:{var vr,Mt,nn,Vn=R,ei=$,ji=q,or=_e,gi=A,Fi=Vn.m,zr=Vn.s,on=[null],gn=1,ar=0,yn=$U[or];n:for(;;){if(gi&&ye(Fi,1)){var ti=ye(Fi,3)+2,No=Ne(ei,ti),wr=Ne(ji,ti),ss=No*wr;if(!Gs(No,wr,0,Vn,on))break n;for(on=on[0],zr.xc=ti,vr=0;vr<ss;++vr){var Nn=on[vr]>>8&65535;on[vr]=Nn,Nn>=gn&&(gn=Nn+1)}}if(Fi.h)break n;for(Mt=0;5>Mt;++Mt){var $r=QT[Mt];!Mt&&0<or&&($r+=1<<or),ar<$r&&(ar=$r)}var As=o(gn*yn,M),Vi=gn,Ts=o(Vi,ae);if(Ts==null)var Is=null;else e(65536>=Vi),Is=Ts;var os=s(ar);if(Is==null||os==null||As==null){Vn.a=1;break n}var Cs=As;for(vr=nn=0;vr<gn;++vr){var Mn=Is[vr],Ns=Mn.G,Po=Mn.H,Gu=0,cl=1,ni=0;for(Mt=0;5>Mt;++Mt){$r=QT[Mt],Ns[Mt]=Cs,Po[Mt]=nn,!Mt&&0<or&&($r+=1<<or);i:{var C0,hw=$r,N0=Vn,kp=os,uB=Cs,hB=nn,dw=0,ac=N0.m,dB=ye(ac,1);if(i(kp,0,0,hw),dB){var fB=ye(ac,1)+1,pB=ye(ac,1),lI=ye(ac,pB==0?1:8);kp[lI]=1,fB==2&&(kp[lI=ye(ac,8)]=1);var P0=1}else{var cI=s(19),uI=ye(ac,4)+4;if(19<uI){N0.a=3;var k0=0;break i}for(C0=0;C0<uI;++C0)cI[BU[C0]]=ye(ac,3);var fw=void 0,Rp=void 0,hI=N0,mB=cI,R0=hw,dI=kp,pw=0,lc=hI.m,fI=8,pI=o(128,M);r:for(;L(pI,0,7,mB,19);){if(ye(lc,1)){var gB=2+2*ye(lc,3);if((fw=2+ye(lc,gB))>R0)break r}else fw=R0;for(Rp=0;Rp<R0&&fw--;){re(lc);var mI=pI[0+(127&J(lc))];oe(lc,lc.u+mI.g);var vd=mI.value;if(16>vd)dI[Rp++]=vd,vd!=0&&(fI=vd);else{var yB=vd==16,gI=vd-16,vB=VU[gI],yI=ye(lc,FU[gI])+vB;if(Rp+yI>R0)break r;for(var wB=yB?fI:0;0<yI--;)dI[Rp++]=wB}}pw=1;break r}pw||(hI.a=3),P0=pw}(P0=P0&&!ac.h)&&(dw=L(uB,hB,8,kp,hw)),P0&&dw!=0?k0=dw:(N0.a=3,k0=0)}if(k0==0)break n;if(cl&&UU[Mt]==1&&(cl=Cs[nn].g==0),Gu+=Cs[nn].g,nn+=k0,3>=Mt){var Lp,mw=os[0];for(Lp=1;Lp<$r;++Lp)os[Lp]>mw&&(mw=os[Lp]);ni+=mw}}if(Mn.nd=cl,Mn.Qb=0,cl&&(Mn.qb=(Ns[3][Po[3]+0].value<<24|Ns[1][Po[1]+0].value<<16|Ns[2][Po[2]+0].value)>>>0,Gu==0&&256>Ns[0][Po[0]+0].value&&(Mn.Qb=1,Mn.qb+=Ns[0][Po[0]+0].value<<8)),Mn.jc=!Mn.Qb&&6>ni,Mn.jc){var L0,ul=Mn;for(L0=0;L0<qu;++L0){var cc=L0,uc=ul.pd[cc],D0=ul.G[0][ul.H[0]+cc];256<=D0.value?(uc.g=D0.g+256,uc.value=D0.value):(uc.g=0,uc.value=0,cc>>=Yn(D0,8,uc),cc>>=Yn(ul.G[1][ul.H[1]+cc],16,uc),cc>>=Yn(ul.G[2][ul.H[2]+cc],0,uc),Yn(ul.G[3][ul.H[3]+cc],24,uc))}}}zr.vc=on,zr.Wb=gn,zr.Ya=Is,zr.yc=As,ze=1;break t}ze=0}if(!(z=ze)){R.a=3;break e}if(0<_e){if(ee.ua=1<<_e,!ne(ee.Wa,_e)){R.a=1,z=0;break e}}else ee.ua=0;var gw=R,vI=$,_B=q,yw=gw.s,vw=yw.xc;if(gw.c=vI,gw.i=_B,yw.md=Ne(vI,vw),yw.wc=vw==0?-1:(1<<vw)-1,A){R.xb=QU;break e}if((ue=s($*q))==null){R.a=1,z=0;break e}z=(z=es(R,ue,0,$,q,q,null))&&!K.h;break e}return z?(U!=null?U[0]=ue:(e(ue==null),e(A)),R.$=0,A||ts(ee)):ts(ee),z}function Ks(f,g){var A=f.c*f.i,R=A+g+16*g;return e(f.c<=g),f.V=s(R),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+A+g,1)}function Ya(f,g){var A=f.C,R=g-A,U=f.V,z=f.Ba+f.c*A;for(e(g<=f.l.o);0<R;){var $=16<R?16:R,q=f.l.ma,K=f.l.width,ee=K*$,ue=q.ca,_e=q.tb+K*A,te=f.Ta,he=f.Ua;di(f,$,U,z),$T(te,he,ue,_e,ee),Zi(q,A,A+$,ue,_e,K),R-=$,U+=$*f.c,A+=$}e(A==g),f.C=f.Ma=g}function ia(){this.ub=this.yd=this.td=this.Rb=0}function Ys(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function To(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Xa(){this.Yb=function(){var f=[];return function g(A,R,U){for(var z=U[R],$=0;$<z&&(A.push(U.length>R+1?[]:0),!(U.length<R+1));$++)g(A[$],R+1,U)}(f,0,[3,11]),f}()}function ad(){this.jb=s(3),this.Wc=a([4,8],Xa),this.Xc=a([4,17],Xa)}function Lu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Li(){this.ld=this.La=this.dd=this.tc=0}function Bl(){this.Na=this.la=0}function zl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Qa(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Du(){this.uc=this.M=this.Nb=0,this.wa=Array(new Li),this.Y=0,this.ya=Array(new Qa),this.aa=0,this.l=new $l}function Mu(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ou(){this.cb=this.a=0,this.sc="",this.m=new F,this.Od=new ia,this.Kc=new Ys,this.ed=new Lu,this.Qa=new To,this.Ic=this.$c=this.Aa=0,this.D=new Du,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,F),this.ia=0,this.pb=o(4,zl),this.Pa=new ad,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Mu),this.Hd=0,this.rb=Array(new Bl),this.sb=0,this.wa=Array(new Li),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Qa),this.L=this.aa=0,this.gd=a([4,2],Li),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function $l(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Xs(){var f=new Ou;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,Np||(Np=ws)),f}function un(f,g,A){return f.a==0&&(f.a=g,f.sc=A,f.cb=0),0}function sa(f,g,A){return 3<=A&&f[g+0]==157&&f[g+1]==1&&f[g+2]==42}function oa(f,g){if(f==null)return 0;if(f.a=0,f.sc="OK",g==null)return un(f,2,"null VP8Io passed to VP8GetHeaders()");var A=g.data,R=g.w,U=g.ha;if(4>U)return un(f,7,"Truncated header.");var z=A[R+0]|A[R+1]<<8|A[R+2]<<16,$=f.Od;if($.Rb=!(1&z),$.td=z>>1&7,$.yd=z>>4&1,$.ub=z>>5,3<$.td)return un(f,3,"Incorrect keyframe parameters.");if(!$.yd)return un(f,4,"Frame not displayable.");R+=3,U-=3;var q=f.Kc;if($.Rb){if(7>U)return un(f,7,"cannot parse picture header");if(!sa(A,R,U))return un(f,3,"Bad code word");q.c=16383&(A[R+4]<<8|A[R+3]),q.Td=A[R+4]>>6,q.i=16383&(A[R+6]<<8|A[R+5]),q.Ud=A[R+6]>>6,R+=7,U-=7,f.za=q.c+15>>4,f.Ub=q.i+15>>4,g.width=q.c,g.height=q.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,i((z=f.Pa).jb,0,255,z.jb.length),e((z=f.Qa)!=null),z.Cb=0,z.Bb=0,z.Fb=1,i(z.Zb,0,0,z.Zb.length),i(z.Lb,0,0,z.Lb)}if($.ub>U)return un(f,7,"bad partition length");ce(z=f.m,A,R,$.ub),R+=$.ub,U-=$.ub,$.Rb&&(q.Ld=me(z),q.Kd=me(z)),q=f.Qa;var K,ee=f.Pa;if(e(z!=null),e(q!=null),q.Cb=me(z),q.Cb){if(q.Bb=me(z),me(z)){for(q.Fb=me(z),K=0;4>K;++K)q.Zb[K]=me(z)?Y(z,7):0;for(K=0;4>K;++K)q.Lb[K]=me(z)?Y(z,6):0}if(q.Bb)for(K=0;3>K;++K)ee.jb[K]=me(z)?le(z,8):255}else q.Bb=0;if(z.Ka)return un(f,3,"cannot parse segment header");if((q=f.ed).zd=me(z),q.Tb=le(z,6),q.wb=le(z,3),q.Pc=me(z),q.Pc&&me(z)){for(ee=0;4>ee;++ee)me(z)&&(q.vd[ee]=Y(z,6));for(ee=0;4>ee;++ee)me(z)&&(q.od[ee]=Y(z,6))}if(f.L=q.Tb==0?0:q.zd?1:2,z.Ka)return un(f,3,"cannot parse filter header");var ue=U;if(U=K=R,R=K+ue,q=ue,f.Xb=(1<<le(f.m,2))-1,ue<3*(ee=f.Xb))A=7;else{for(K+=3*ee,q-=3*ee,ue=0;ue<ee;++ue){var _e=A[U+0]|A[U+1]<<8|A[U+2]<<16;_e>q&&(_e=q),ce(f.Jc[+ue],A,K,_e),K+=_e,q-=_e,U+=3}ce(f.Jc[+ee],A,K,q),A=K<R?0:5}if(A!=0)return un(f,A,"cannot parse partitions");for(A=le(K=f.m,7),U=me(K)?Y(K,4):0,R=me(K)?Y(K,4):0,q=me(K)?Y(K,4):0,ee=me(K)?Y(K,4):0,K=me(K)?Y(K,4):0,ue=f.Qa,_e=0;4>_e;++_e){if(ue.Cb){var te=ue.Zb[_e];ue.Fb||(te+=A)}else{if(0<_e){f.pb[_e]=f.pb[0];continue}te=A}var he=f.pb[_e];he.Sc[0]=lw[sr(te+U,127)],he.Sc[1]=cw[sr(te+0,127)],he.Eb[0]=2*lw[sr(te+R,127)],he.Eb[1]=101581*cw[sr(te+q,127)]>>16,8>he.Eb[1]&&(he.Eb[1]=8),he.Qc[0]=lw[sr(te+ee,117)],he.Qc[1]=cw[sr(te+K,127)],he.lc=te+K}if(!$.Rb)return un(f,4,"Not a key frame.");for(me(z),$=f.Pa,A=0;4>A;++A){for(U=0;8>U;++U)for(R=0;3>R;++R)for(q=0;11>q;++q)ee=xe(z,YU[A][U][R][q])?le(z,8):GU[A][U][R][q],$.Wc[A][U].Yb[R][q]=ee;for(U=0;17>U;++U)$.Xc[A][U]=$.Wc[A][XU[U]]}return f.kc=me(z),f.kc&&(f.Bd=le(z,8)),f.cb=1}function ws(f,g,A,R,U,z,$){var q=g[U].Yb[A];for(A=0;16>U;++U){if(!xe(f,q[A+0]))return U;for(;!xe(f,q[A+1]);)if(q=g[++U].Yb[0],A=0,U==16)return 16;var K=g[U+1].Yb;if(xe(f,q[A+2])){var ee=f,ue=0;if(xe(ee,(te=q)[(_e=A)+3]))if(xe(ee,te[_e+6])){for(q=0,_e=2*(ue=xe(ee,te[_e+8]))+(te=xe(ee,te[_e+9+ue])),ue=0,te=HU[_e];te[q];++q)ue+=ue+xe(ee,te[q]);ue+=3+(8<<_e)}else xe(ee,te[_e+7])?(ue=7+2*xe(ee,165),ue+=xe(ee,145)):ue=5+xe(ee,159);else ue=xe(ee,te[_e+4])?3+xe(ee,te[_e+5]):2;q=K[2]}else ue=1,q=K[1];K=$+WU[U],0>(ee=f).b&&ge(ee);var _e,te=ee.b,he=(_e=ee.Ca>>1)-(ee.I>>te)>>31;--ee.b,ee.Ca+=he,ee.Ca|=1,ee.I-=(_e+1&he)<<te,z[K]=((ue^he)-he)*R[(0<U)+0]}return 16}function sn(f){var g=f.rb[f.sb-1];g.la=0,g.Na=0,i(f.zc,0,0,f.zc.length),f.ja=0}function fi(f,g,A,R,U){U=f[g+A+32*R]+(U>>3),f[g+A+32*R]=-256&U?0>U?0:255:U}function _s(f,g,A,R,U,z){fi(f,g,0,A,R+U),fi(f,g,1,A,R+z),fi(f,g,2,A,R-z),fi(f,g,3,A,R-U)}function An(f){return(20091*f>>16)+f}function ju(f,g,A,R){var U,z=0,$=s(16);for(U=0;4>U;++U){var q=f[g+0]+f[g+8],K=f[g+0]-f[g+8],ee=(35468*f[g+4]>>16)-An(f[g+12]),ue=An(f[g+4])+(35468*f[g+12]>>16);$[z+0]=q+ue,$[z+1]=K+ee,$[z+2]=K-ee,$[z+3]=q-ue,z+=4,g++}for(U=z=0;4>U;++U)q=(f=$[z+0]+4)+$[z+8],K=f-$[z+8],ee=(35468*$[z+4]>>16)-An($[z+12]),fi(A,R,0,0,q+(ue=An($[z+4])+(35468*$[z+12]>>16))),fi(A,R,1,0,K+ee),fi(A,R,2,0,K-ee),fi(A,R,3,0,q-ue),z++,R+=32}function ld(f,g,A,R){var U=f[g+0]+4,z=35468*f[g+4]>>16,$=An(f[g+4]),q=35468*f[g+1]>>16;_s(A,R,0,U+$,f=An(f[g+1]),q),_s(A,R,1,U+z,f,q),_s(A,R,2,U-z,f,q),_s(A,R,3,U-$,f,q)}function gp(f,g,A,R,U){ju(f,g,A,R),U&&ju(f,g+16,A,R+4)}function yp(f,g,A,R){Wu(f,g+0,A,R,1),Wu(f,g+32,A,R+128,1)}function Qs(f,g,A,R){var U;for(f=f[g+0]+4,U=0;4>U;++U)for(g=0;4>g;++g)fi(A,R,g,U,f)}function cd(f,g,A,R){f[g+0]&&fn(f,g+0,A,R),f[g+16]&&fn(f,g+16,A,R+4),f[g+32]&&fn(f,g+32,A,R+128),f[g+48]&&fn(f,g+48,A,R+128+4)}function aa(f,g,A,R){var U,z=s(16);for(U=0;4>U;++U){var $=f[g+0+U]+f[g+12+U],q=f[g+4+U]+f[g+8+U],K=f[g+4+U]-f[g+8+U],ee=f[g+0+U]-f[g+12+U];z[0+U]=$+q,z[8+U]=$-q,z[4+U]=ee+K,z[12+U]=ee-K}for(U=0;4>U;++U)$=(f=z[0+4*U]+3)+z[3+4*U],q=z[1+4*U]+z[2+4*U],K=z[1+4*U]-z[2+4*U],ee=f-z[3+4*U],A[R+0]=$+q>>3,A[R+16]=ee+K>>3,A[R+32]=$-q>>3,A[R+48]=ee-K>>3,R+=64}function pi(f,g,A){var R,U=g-32,z=Es,$=255-f[U-1];for(R=0;R<A;++R){var q,K=z,ee=$+f[g-1];for(q=0;q<A;++q)f[g+q]=K[ee+f[U+q]];g+=32}}function ql(f,g){pi(f,g,4)}function ud(f,g){pi(f,g,8)}function hd(f,g){pi(f,g,16)}function dd(f,g){var A;for(A=0;16>A;++A)r(f,g+32*A,f,g-32,16)}function Hl(f,g){var A;for(A=16;0<A;--A)i(f,g,f[g-1],16),g+=32}function ns(f,g,A){var R;for(R=0;16>R;++R)i(g,A+32*R,f,16)}function la(f,g){var A,R=16;for(A=0;16>A;++A)R+=f[g-1+32*A]+f[g+A-32];ns(R>>5,f,g)}function vp(f,g){var A,R=8;for(A=0;16>A;++A)R+=f[g-1+32*A];ns(R>>4,f,g)}function Ja(f,g){var A,R=8;for(A=0;16>A;++A)R+=f[g+A-32];ns(R>>4,f,g)}function rs(f,g){ns(128,f,g)}function Ct(f,g,A){return f+2*g+A+2>>2}function Fu(f,g){var A,R=g-32;for(R=new Uint8Array([Ct(f[R-1],f[R+0],f[R+1]),Ct(f[R+0],f[R+1],f[R+2]),Ct(f[R+1],f[R+2],f[R+3]),Ct(f[R+2],f[R+3],f[R+4])]),A=0;4>A;++A)r(f,g+32*A,R,0,R.length)}function Wl(f,g){var A=f[g-1],R=f[g-1+32],U=f[g-1+64],z=f[g-1+96];Ee(f,g+0,16843009*Ct(f[g-1-32],A,R)),Ee(f,g+32,16843009*Ct(A,R,U)),Ee(f,g+64,16843009*Ct(R,U,z)),Ee(f,g+96,16843009*Ct(U,z,z))}function fd(f,g){var A,R=4;for(A=0;4>A;++A)R+=f[g+A-32]+f[g-1+32*A];for(R>>=3,A=0;4>A;++A)i(f,g+32*A,R,4)}function Za(f,g){var A=f[g-1+0],R=f[g-1+32],U=f[g-1+64],z=f[g-1-32],$=f[g+0-32],q=f[g+1-32],K=f[g+2-32],ee=f[g+3-32];f[g+0+96]=Ct(R,U,f[g-1+96]),f[g+1+96]=f[g+0+64]=Ct(A,R,U),f[g+2+96]=f[g+1+64]=f[g+0+32]=Ct(z,A,R),f[g+3+96]=f[g+2+64]=f[g+1+32]=f[g+0+0]=Ct($,z,A),f[g+3+64]=f[g+2+32]=f[g+1+0]=Ct(q,$,z),f[g+3+32]=f[g+2+0]=Ct(K,q,$),f[g+3+0]=Ct(ee,K,q)}function Di(f,g){var A=f[g+1-32],R=f[g+2-32],U=f[g+3-32],z=f[g+4-32],$=f[g+5-32],q=f[g+6-32],K=f[g+7-32];f[g+0+0]=Ct(f[g+0-32],A,R),f[g+1+0]=f[g+0+32]=Ct(A,R,U),f[g+2+0]=f[g+1+32]=f[g+0+64]=Ct(R,U,z),f[g+3+0]=f[g+2+32]=f[g+1+64]=f[g+0+96]=Ct(U,z,$),f[g+3+32]=f[g+2+64]=f[g+1+96]=Ct(z,$,q),f[g+3+64]=f[g+2+96]=Ct($,q,K),f[g+3+96]=Ct(q,K,K)}function Js(f,g){var A=f[g-1+0],R=f[g-1+32],U=f[g-1+64],z=f[g-1-32],$=f[g+0-32],q=f[g+1-32],K=f[g+2-32],ee=f[g+3-32];f[g+0+0]=f[g+1+64]=z+$+1>>1,f[g+1+0]=f[g+2+64]=$+q+1>>1,f[g+2+0]=f[g+3+64]=q+K+1>>1,f[g+3+0]=K+ee+1>>1,f[g+0+96]=Ct(U,R,A),f[g+0+64]=Ct(R,A,z),f[g+0+32]=f[g+1+96]=Ct(A,z,$),f[g+1+32]=f[g+2+96]=Ct(z,$,q),f[g+2+32]=f[g+3+96]=Ct($,q,K),f[g+3+32]=Ct(q,K,ee)}function Vu(f,g){var A=f[g+0-32],R=f[g+1-32],U=f[g+2-32],z=f[g+3-32],$=f[g+4-32],q=f[g+5-32],K=f[g+6-32],ee=f[g+7-32];f[g+0+0]=A+R+1>>1,f[g+1+0]=f[g+0+64]=R+U+1>>1,f[g+2+0]=f[g+1+64]=U+z+1>>1,f[g+3+0]=f[g+2+64]=z+$+1>>1,f[g+0+32]=Ct(A,R,U),f[g+1+32]=f[g+0+96]=Ct(R,U,z),f[g+2+32]=f[g+1+96]=Ct(U,z,$),f[g+3+32]=f[g+2+96]=Ct(z,$,q),f[g+3+64]=Ct($,q,K),f[g+3+96]=Ct(q,K,ee)}function Rn(f,g){var A=f[g-1+0],R=f[g-1+32],U=f[g-1+64],z=f[g-1+96];f[g+0+0]=A+R+1>>1,f[g+2+0]=f[g+0+32]=R+U+1>>1,f[g+2+32]=f[g+0+64]=U+z+1>>1,f[g+1+0]=Ct(A,R,U),f[g+3+0]=f[g+1+32]=Ct(R,U,z),f[g+3+32]=f[g+1+64]=Ct(U,z,z),f[g+3+64]=f[g+2+64]=f[g+0+96]=f[g+1+96]=f[g+2+96]=f[g+3+96]=z}function Gl(f,g){var A=f[g-1+0],R=f[g-1+32],U=f[g-1+64],z=f[g-1+96],$=f[g-1-32],q=f[g+0-32],K=f[g+1-32],ee=f[g+2-32];f[g+0+0]=f[g+2+32]=A+$+1>>1,f[g+0+32]=f[g+2+64]=R+A+1>>1,f[g+0+64]=f[g+2+96]=U+R+1>>1,f[g+0+96]=z+U+1>>1,f[g+3+0]=Ct(q,K,ee),f[g+2+0]=Ct($,q,K),f[g+1+0]=f[g+3+32]=Ct(A,$,q),f[g+1+32]=f[g+3+64]=Ct(R,A,$),f[g+1+64]=f[g+3+96]=Ct(U,R,A),f[g+1+96]=Ct(z,U,R)}function Uu(f,g){var A;for(A=0;8>A;++A)r(f,g+32*A,f,g-32,8)}function ca(f,g){var A;for(A=0;8>A;++A)i(f,g,f[g-1],8),g+=32}function el(f,g,A){var R;for(R=0;8>R;++R)i(g,A+32*R,f,8)}function tl(f,g){var A,R=8;for(A=0;8>A;++A)R+=f[g+A-32]+f[g-1+32*A];el(R>>4,f,g)}function Kl(f,g){var A,R=4;for(A=0;8>A;++A)R+=f[g+A-32];el(R>>3,f,g)}function is(f,g){var A,R=4;for(A=0;8>A;++A)R+=f[g-1+32*A];el(R>>3,f,g)}function Yl(f,g){el(128,f,g)}function nl(f,g,A){var R=f[g-A],U=f[g+0],z=3*(U-R)+rw[1020+f[g-2*A]-f[g+A]],$=w0[112+(z+4>>3)];f[g-A]=Es[255+R+w0[112+(z+3>>3)]],f[g+0]=Es[255+U-$]}function bs(f,g,A,R){var U=f[g+0],z=f[g+A];return ro[255+f[g-2*A]-f[g-A]]>R||ro[255+z-U]>R}function Xl(f,g,A,R){return 4*ro[255+f[g-A]-f[g+0]]+ro[255+f[g-2*A]-f[g+A]]<=R}function ua(f,g,A,R,U){var z=f[g-3*A],$=f[g-2*A],q=f[g-A],K=f[g+0],ee=f[g+A],ue=f[g+2*A],_e=f[g+3*A];return 4*ro[255+q-K]+ro[255+$-ee]>R?0:ro[255+f[g-4*A]-z]<=U&&ro[255+z-$]<=U&&ro[255+$-q]<=U&&ro[255+_e-ue]<=U&&ro[255+ue-ee]<=U&&ro[255+ee-K]<=U}function ha(f,g,A,R){var U=2*R+1;for(R=0;16>R;++R)Xl(f,g+R,A,U)&&nl(f,g+R,A)}function da(f,g,A,R){var U=2*R+1;for(R=0;16>R;++R)Xl(f,g+R*A,1,U)&&nl(f,g+R*A,1)}function rl(f,g,A,R){var U;for(U=3;0<U;--U)ha(f,g+=4*A,A,R)}function pd(f,g,A,R){var U;for(U=3;0<U;--U)da(f,g+=4,A,R)}function Zs(f,g,A,R,U,z,$,q){for(z=2*z+1;0<U--;){if(ua(f,g,A,z,$))if(bs(f,g,A,q))nl(f,g,A);else{var K=f,ee=g,ue=A,_e=K[ee-2*ue],te=K[ee-ue],he=K[ee+0],ve=K[ee+ue],Ae=K[ee+2*ue],we=27*(Ce=rw[1020+3*(he-te)+rw[1020+_e-ve]])+63>>7,Ie=18*Ce+63>>7,Ce=9*Ce+63>>7;K[ee-3*ue]=Es[255+K[ee-3*ue]+Ce],K[ee-2*ue]=Es[255+_e+Ie],K[ee-ue]=Es[255+te+we],K[ee+0]=Es[255+he-we],K[ee+ue]=Es[255+ve-Ie],K[ee+2*ue]=Es[255+Ae-Ce]}g+=R}}function Mi(f,g,A,R,U,z,$,q){for(z=2*z+1;0<U--;){if(ua(f,g,A,z,$))if(bs(f,g,A,q))nl(f,g,A);else{var K=f,ee=g,ue=A,_e=K[ee-ue],te=K[ee+0],he=K[ee+ue],ve=w0[112+(4+(Ae=3*(te-_e))>>3)],Ae=w0[112+(Ae+3>>3)],we=ve+1>>1;K[ee-2*ue]=Es[255+K[ee-2*ue]+we],K[ee-ue]=Es[255+_e+Ae],K[ee+0]=Es[255+te-ve],K[ee+ue]=Es[255+he-we]}g+=R}}function Bu(f,g,A,R,U,z){Zs(f,g,A,1,16,R,U,z)}function zu(f,g,A,R,U,z){Zs(f,g,1,A,16,R,U,z)}function Io(f,g,A,R,U,z){var $;for($=3;0<$;--$)Mi(f,g+=4*A,A,1,16,R,U,z)}function Ql(f,g,A,R,U,z){var $;for($=3;0<$;--$)Mi(f,g+=4,1,A,16,R,U,z)}function x(f,g,A,R,U,z,$,q){Zs(f,g,U,1,8,z,$,q),Zs(A,R,U,1,8,z,$,q)}function V(f,g,A,R,U,z,$,q){Zs(f,g,1,U,8,z,$,q),Zs(A,R,1,U,8,z,$,q)}function Z(f,g,A,R,U,z,$,q){Mi(f,g+4*U,U,1,8,z,$,q),Mi(A,R+4*U,U,1,8,z,$,q)}function se(f,g,A,R,U,z,$,q){Mi(f,g+4,1,U,8,z,$,q),Mi(A,R+4,1,U,8,z,$,q)}function de(){this.ba=new Tt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ht,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Te(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function De(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ke(){this.ua=0,this.Wa=new pt,this.vb=new pt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ae,this.yc=new M}function et(){this.xb=this.a=0,this.l=new $l,this.ca=new Tt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new X,this.Pb=0,this.wd=new X,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ke,this.ab=0,this.gc=o(4,De),this.Oc=0}function yt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new $l,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function at(f,g,A,R,U,z,$){for(f=f==null?0:f[g+0],g=0;g<$;++g)U[z+g]=f+A[R+g]&255,f=U[z+g]}function tn(f,g,A,R,U,z,$){var q;if(f==null)at(null,null,A,R,U,z,$);else for(q=0;q<$;++q)U[z+q]=f[g+q]+A[R+q]&255}function Ln(f,g,A,R,U,z,$){if(f==null)at(null,null,A,R,U,z,$);else{var q,K=f[g+0],ee=K,ue=K;for(q=0;q<$;++q)ee=ue+(K=f[g+q])-ee,ue=A[R+q]+(-256&ee?0>ee?0:255:ee)&255,ee=K,U[z+q]=ue}}function Tn(f,g,A,R){var U=g.width,z=g.o;if(e(f!=null&&g!=null),0>A||0>=R||A+R>z)return null;if(!f.Cc){if(f.ga==null){var $;if(f.ga=new yt,($=f.ga==null)||($=g.width*g.o,e(f.Gb.length==0),f.Gb=s($),f.Uc=0,f.Gb==null?$=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,$=1),$=!$),!$){$=f.ga;var q=f.Fa,K=f.P,ee=f.qc,ue=f.mb,_e=f.nb,te=K+1,he=ee-1,ve=$.l;if(e(q!=null&&ue!=null&&g!=null),oc[0]=null,oc[1]=at,oc[2]=tn,oc[3]=Ln,$.ca=ue,$.tb=_e,$.c=g.width,$.i=g.height,e(0<$.c&&0<$.i),1>=ee)g=0;else if($.$a=3&q[K+0],$.Z=q[K+0]>>2&3,$.Lc=q[K+0]>>4&3,K=q[K+0]>>6&3,0>$.$a||1<$.$a||4<=$.Z||1<$.Lc||K)g=0;else if(ve.put=Je,ve.ac=mn,ve.bc=Nr,ve.ma=$,ve.width=g.width,ve.height=g.height,ve.Da=g.Da,ve.v=g.v,ve.va=g.va,ve.j=g.j,ve.o=g.o,$.$a)e:{e($.$a==1),g=ra();t:for(;;){if(g==null){g=0;break e}if(e($!=null),$.mc=g,g.c=$.c,g.i=$.i,g.l=$.l,g.l.ma=$,g.l.width=$.c,g.l.height=$.i,g.a=0,Q(g.m,q,te,he),!Gs($.c,$.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&Ji(g.s)?($.ic=1,q=g.c*g.i,g.Ta=null,g.Ua=0,g.V=s(q),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):($.ic=0,g=Ks(g,$.c)),!g))break t;g=1;break e}$.mc=null,g=0}else g=he>=$.c*$.i;$=!g}if($)return null;f.ga.Lc!=1?f.Ga=0:R=z-A}e(f.ga!=null),e(A+R<=z);e:{if(g=(q=f.ga).c,z=q.l.o,q.$a==0){if(te=f.rc,he=f.Vc,ve=f.Fa,K=f.P+1+A*g,ee=f.mb,ue=f.nb+A*g,e(K<=f.P+f.qc),q.Z!=0)for(e(oc[q.Z]!=null),$=0;$<R;++$)oc[q.Z](te,he,ve,K,ee,ue,g),te=ee,he=ue,ue+=g,K+=g;else for($=0;$<R;++$)r(ee,ue,ve,K,g),te=ee,he=ue,ue+=g,K+=g;f.rc=te,f.Vc=he}else{if(e(q.mc!=null),g=A+R,e(($=q.mc)!=null),e(g<=$.i),$.C>=g)g=1;else if(q.ic||pe(),q.ic){q=$.V,te=$.Ba,he=$.c;var Ae=$.i,we=(ve=1,K=$.$/he,ee=$.$%he,ue=$.m,_e=$.s,$.$),Ie=he*Ae,Ce=he*g,Oe=_e.wc,Me=we<Ce?Vr(_e,ee,K):null;e(we<=Ie),e(g<=Ae),e(Ji(_e));t:for(;;){for(;!ue.h&&we<Ce;){if(ee&Oe||(Me=Vr(_e,ee,K)),e(Me!=null),re(ue),256>(Ae=kn(Me.G[0],Me.H[0],ue)))q[te+we]=Ae,++we,++ee>=he&&(ee=0,++K<=g&&!(K%16)&&Ri($,K));else{if(!(280>Ae)){ve=0;break t}Ae=En(Ae-256,ue);var lt,Qe=kn(Me.G[4],Me.H[4],ue);if(re(ue),!(we>=(Qe=Kn(he,Qe=En(Qe,ue)))&&Ie-we>=Ae)){ve=0;break t}for(lt=0;lt<Ae;++lt)q[te+we+lt]=q[te+we+lt-Qe];for(we+=Ae,ee+=Ae;ee>=he;)ee-=he,++K<=g&&!(K%16)&&Ri($,K);we<Ce&&ee&Oe&&(Me=Vr(_e,ee,K))}e(ue.h==ie(ue))}Ri($,K>g?g:K);break t}!ve||ue.h&&we<Ie?(ve=0,$.a=ue.h?5:3):$.$=we,g=ve}else g=es($,$.V,$.Ba,$.c,$.i,g,Ya);if(!g){R=0;break e}}A+R>=z&&(f.Cc=1),R=1}if(!R)return null;if(f.Cc&&((R=f.ga)!=null&&(R.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+A*U}function m(f,g,A,R,U,z){for(;0<U--;){var $,q=f,K=g+(A?1:0),ee=f,ue=g+(A?0:3);for($=0;$<R;++$){var _e=ee[ue+4*$];_e!=255&&(_e*=32897,q[K+4*$+0]=q[K+4*$+0]*_e>>23,q[K+4*$+1]=q[K+4*$+1]*_e>>23,q[K+4*$+2]=q[K+4*$+2]*_e>>23)}g+=z}}function T(f,g,A,R,U){for(;0<R--;){var z;for(z=0;z<A;++z){var $=f[g+2*z+0],q=15&(ee=f[g+2*z+1]),K=4369*q,ee=(240&ee|ee>>4)*K>>16;f[g+2*z+0]=(240&$|$>>4)*K>>16&240|(15&$|$<<4)*K>>16>>4&15,f[g+2*z+1]=240&ee|q}g+=U}}function O(f,g,A,R,U,z,$,q){var K,ee,ue=255;for(ee=0;ee<U;++ee){for(K=0;K<R;++K){var _e=f[g+K];z[$+4*K]=_e,ue&=_e}g+=A,$+=q}return ue!=255}function H(f,g,A,R,U){var z;for(z=0;z<U;++z)A[R+z]=f[g+z]>>8}function pe(){Cp=m,BT=T,zT=O,$T=H}function be(f,g,A){P[f]=function(R,U,z,$,q,K,ee,ue,_e,te,he,ve,Ae,we,Ie,Ce,Oe){var Me,lt=Oe-1>>1,Qe=q[K+0]|ee[ue+0]<<16,Ut=_e[te+0]|he[ve+0]<<16;e(R!=null);var nt=3*Qe+Ut+131074>>2;for(g(R[U+0],255&nt,nt>>16,Ae,we),z!=null&&(nt=3*Ut+Qe+131074>>2,g(z[$+0],255&nt,nt>>16,Ie,Ce)),Me=1;Me<=lt;++Me){var Zt=q[K+Me]|ee[ue+Me]<<16,Br=_e[te+Me]|he[ve+Me]<<16,Bt=Qe+Zt+Ut+Br+524296,rt=Bt+2*(Zt+Ut)>>3;nt=rt+Qe>>1,Qe=(Bt=Bt+2*(Qe+Br)>>3)+Zt>>1,g(R[U+2*Me-1],255&nt,nt>>16,Ae,we+(2*Me-1)*A),g(R[U+2*Me-0],255&Qe,Qe>>16,Ae,we+(2*Me-0)*A),z!=null&&(nt=Bt+Ut>>1,Qe=rt+Br>>1,g(z[$+2*Me-1],255&nt,nt>>16,Ie,Ce+(2*Me-1)*A),g(z[$+2*Me+0],255&Qe,Qe>>16,Ie,Ce+(2*Me+0)*A)),Qe=Zt,Ut=Br}1&Oe||(nt=3*Qe+Ut+131074>>2,g(R[U+Oe-1],255&nt,nt>>16,Ae,we+(Oe-1)*A),z!=null&&(nt=3*Ut+Qe+131074>>2,g(z[$+Oe-1],255&nt,nt>>16,Ie,Ce+(Oe-1)*A)))}}function Ve(){io[_0]=JU,io[b0]=eI,io[YT]=ZU,io[x0]=tI,io[S0]=nI,io[iw]=rI,io[XT]=eB,io[sw]=eI,io[ow]=tI,io[E0]=nI,io[aw]=rI}function Nt(f){return f&~tB?0>f?0:255:f>>iI}function In(f,g){return Nt((19077*f>>8)+(26149*g>>8)-14234)}function Kt(f,g,A){return Nt((19077*f>>8)-(6419*g>>8)-(13320*A>>8)+8708)}function Dn(f,g){return Nt((19077*f>>8)+(33050*g>>8)-17685)}function Kr(f,g,A,R,U){R[U+0]=In(f,A),R[U+1]=Kt(f,g,A),R[U+2]=Dn(f,g)}function Oi(f,g,A,R,U){R[U+0]=Dn(f,g),R[U+1]=Kt(f,g,A),R[U+2]=In(f,A)}function Fn(f,g,A,R,U){var z=Kt(f,g,A);g=z<<3&224|Dn(f,g)>>3,R[U+0]=248&In(f,A)|z>>5,R[U+1]=g}function mi(f,g,A,R,U){var z=240&Dn(f,g)|15;R[U+0]=240&In(f,A)|Kt(f,g,A)>>4,R[U+1]=z}function eo(f,g,A,R,U){R[U+0]=255,Kr(f,g,A,R,U+1)}function il(f,g,A,R,U){Oi(f,g,A,R,U),R[U+3]=255}function wp(f,g,A,R,U){Kr(f,g,A,R,U),R[U+3]=255}function sr(f,g){return 0>f?0:f>g?g:f}function sl(f,g,A){P[f]=function(R,U,z,$,q,K,ee,ue,_e){for(var te=ue+(-2&_e)*A;ue!=te;)g(R[U+0],z[$+0],q[K+0],ee,ue),g(R[U+1],z[$+0],q[K+0],ee,ue+A),U+=2,++$,++K,ue+=2*A;1&_e&&g(R[U+0],z[$+0],q[K+0],ee,ue)}}function md(f,g,A){return A==0?f==0?g==0?6:5:g==0?4:0:A}function g0(f,g,A,R,U){switch(f>>>30){case 3:Wu(g,A,R,U,0);break;case 2:no(g,A,R,U);break;case 1:fn(g,A,R,U)}}function to(f,g){var A,R,U=g.M,z=g.Nb,$=f.oc,q=f.pc+40,K=f.oc,ee=f.pc+584,ue=f.oc,_e=f.pc+600;for(A=0;16>A;++A)$[q+32*A-1]=129;for(A=0;8>A;++A)K[ee+32*A-1]=129,ue[_e+32*A-1]=129;for(0<U?$[q-1-32]=K[ee-1-32]=ue[_e-1-32]=129:(i($,q-32-1,127,21),i(K,ee-32-1,127,9),i(ue,_e-32-1,127,9)),R=0;R<f.za;++R){var te=g.ya[g.aa+R];if(0<R){for(A=-1;16>A;++A)r($,q+32*A-4,$,q+32*A+12,4);for(A=-1;8>A;++A)r(K,ee+32*A-4,K,ee+32*A+4,4),r(ue,_e+32*A-4,ue,_e+32*A+4,4)}var he=f.Gd,ve=f.Hd+R,Ae=te.ad,we=te.Hc;if(0<U&&(r($,q-32,he[ve].y,0,16),r(K,ee-32,he[ve].f,0,8),r(ue,_e-32,he[ve].ea,0,8)),te.Za){var Ie=$,Ce=q-32+16;for(0<U&&(R>=f.za-1?i(Ie,Ce,he[ve].y[15],4):r(Ie,Ce,he[ve+1].y,0,4)),A=0;4>A;A++)Ie[Ce+128+A]=Ie[Ce+256+A]=Ie[Ce+384+A]=Ie[Ce+0+A];for(A=0;16>A;++A,we<<=2)Ie=$,Ce=q+oI[A],Co[te.Ob[A]](Ie,Ce),g0(we,Ae,16*+A,Ie,Ce)}else if(Ie=md(R,U,te.Ob[0]),sc[Ie]($,q),we!=0)for(A=0;16>A;++A,we<<=2)g0(we,Ae,16*+A,$,q+oI[A]);for(A=te.Gc,Ie=md(R,U,te.Dd),ll[Ie](K,ee),ll[Ie](ue,_e),we=Ae,Ie=K,Ce=ee,255&(te=0|A)&&(170&te?ma(we,256,Ie,Ce):Cn(we,256,Ie,Ce)),te=ue,we=_e,255&(A>>=8)&&(170&A?ma(Ae,320,te,we):Cn(Ae,320,te,we)),U<f.Ub-1&&(r(he[ve].y,0,$,q+480,16),r(he[ve].f,0,K,ee+224,8),r(he[ve].ea,0,ue,_e+224,8)),A=8*z*f.B,he=f.sa,ve=f.ta+16*R+16*z*f.R,Ae=f.qa,te=f.ra+8*R+A,we=f.Ha,Ie=f.Ia+8*R+A,A=0;16>A;++A)r(he,ve+A*f.R,$,q+32*A,16);for(A=0;8>A;++A)r(Ae,te+A*f.B,K,ee+32*A,8),r(we,Ie+A*f.B,ue,_e+32*A,8)}}function $u(f,g,A,R,U,z,$,q,K){var ee=[0],ue=[0],_e=0,te=K!=null?K.kd:0,he=K??new Te;if(f==null||12>A)return 7;he.data=f,he.w=g,he.ha=A,g=[g],A=[A],he.gb=[he.gb];e:{var ve=g,Ae=A,we=he.gb;if(e(f!=null),e(Ae!=null),e(we!=null),we[0]=0,12<=Ae[0]&&!n(f,ve[0],"RIFF")){if(n(f,ve[0]+8,"WEBP")){we=3;break e}var Ie=Se(f,ve[0]+4);if(12>Ie||4294967286<Ie){we=3;break e}if(te&&Ie>Ae[0]-8){we=7;break e}we[0]=Ie,ve[0]+=12,Ae[0]-=12}we=0}if(we!=0)return we;for(Ie=0<he.gb[0],A=A[0];;){e:{var Ce=f;Ae=g,we=A;var Oe=ee,Me=ue,lt=ve=[0];if((nt=_e=[_e])[0]=0,8>we[0])we=7;else{if(!n(Ce,Ae[0],"VP8X")){if(Se(Ce,Ae[0]+4)!=10){we=3;break e}if(18>we[0]){we=7;break e}var Qe=Se(Ce,Ae[0]+8),Ut=1+Fe(Ce,Ae[0]+12);if(2147483648<=Ut*(Ce=1+Fe(Ce,Ae[0]+15))){we=3;break e}lt!=null&&(lt[0]=Qe),Oe!=null&&(Oe[0]=Ut),Me!=null&&(Me[0]=Ce),Ae[0]+=18,we[0]-=18,nt[0]=1}we=0}}if(_e=_e[0],ve=ve[0],we!=0)return we;if(Ae=!!(2&ve),!Ie&&_e)return 3;if(z!=null&&(z[0]=!!(16&ve)),$!=null&&($[0]=Ae),q!=null&&(q[0]=0),$=ee[0],ve=ue[0],_e&&Ae&&K==null){we=0;break}if(4>A){we=7;break}if(Ie&&_e||!Ie&&!_e&&!n(f,g[0],"ALPH")){A=[A],he.na=[he.na],he.P=[he.P],he.Sa=[he.Sa];e:{Qe=f,we=g,Ie=A;var nt=he.gb;Oe=he.na,Me=he.P,lt=he.Sa,Ut=22,e(Qe!=null),e(Ie!=null),Ce=we[0];var Zt=Ie[0];for(e(Oe!=null),e(lt!=null),Oe[0]=null,Me[0]=null,lt[0]=0;;){if(we[0]=Ce,Ie[0]=Zt,8>Zt){we=7;break e}var Br=Se(Qe,Ce+4);if(4294967286<Br){we=3;break e}var Bt=8+Br+1&-2;if(Ut+=Bt,0<nt&&Ut>nt){we=3;break e}if(!n(Qe,Ce,"VP8 ")||!n(Qe,Ce,"VP8L")){we=0;break e}if(Zt[0]<Bt){we=7;break e}n(Qe,Ce,"ALPH")||(Oe[0]=Qe,Me[0]=Ce+8,lt[0]=Br),Ce+=Bt,Zt-=Bt}}if(A=A[0],he.na=he.na[0],he.P=he.P[0],he.Sa=he.Sa[0],we!=0)break}A=[A],he.Ja=[he.Ja],he.xa=[he.xa];e:if(nt=f,we=g,Ie=A,Oe=he.gb[0],Me=he.Ja,lt=he.xa,Qe=we[0],Ce=!n(nt,Qe,"VP8 "),Ut=!n(nt,Qe,"VP8L"),e(nt!=null),e(Ie!=null),e(Me!=null),e(lt!=null),8>Ie[0])we=7;else{if(Ce||Ut){if(nt=Se(nt,Qe+4),12<=Oe&&nt>Oe-12){we=3;break e}if(te&&nt>Ie[0]-8){we=7;break e}Me[0]=nt,we[0]+=8,Ie[0]-=8,lt[0]=Ut}else lt[0]=5<=Ie[0]&&nt[Qe+0]==47&&!(nt[Qe+4]>>5),Me[0]=Ie[0];we=0}if(A=A[0],he.Ja=he.Ja[0],he.xa=he.xa[0],g=g[0],we!=0)break;if(4294967286<he.Ja)return 3;if(q==null||Ae||(q[0]=he.xa?2:1),$=[$],ve=[ve],he.xa){if(5>A){we=7;break}q=$,te=ve,Ae=z,f==null||5>A?f=0:5<=A&&f[g+0]==47&&!(f[g+4]>>5)?(Ie=[0],nt=[0],Oe=[0],Q(Me=new X,f,g,A),ir(Me,Ie,nt,Oe)?(q!=null&&(q[0]=Ie[0]),te!=null&&(te[0]=nt[0]),Ae!=null&&(Ae[0]=Oe[0]),f=1):f=0):f=0}else{if(10>A){we=7;break}q=ve,f==null||10>A||!sa(f,g+3,A-3)?f=0:(te=f[g+0]|f[g+1]<<8|f[g+2]<<16,Ae=16383&(f[g+7]<<8|f[g+6]),f=16383&(f[g+9]<<8|f[g+8]),1&te||3<(te>>1&7)||!(te>>4&1)||te>>5>=he.Ja||!Ae||!f?f=0:($&&($[0]=Ae),q&&(q[0]=f),f=1))}if(!f||($=$[0],ve=ve[0],_e&&(ee[0]!=$||ue[0]!=ve)))return 3;K!=null&&(K[0]=he,K.offset=g-K.w,e(4294967286>g-K.w),e(K.offset==K.ha-A));break}return we==0||we==7&&_e&&K==null?(z!=null&&(z[0]|=he.na!=null&&0<he.na.length),R!=null&&(R[0]=$),U!=null&&(U[0]=ve),0):we}function _p(f,g,A){var R=g.width,U=g.height,z=0,$=0,q=R,K=U;if(g.Da=f!=null&&0<f.Da,g.Da&&(q=f.cd,K=f.bd,z=f.v,$=f.j,11>A||(z&=-2,$&=-2),0>z||0>$||0>=q||0>=K||z+q>R||$+K>U))return 0;if(g.v=z,g.j=$,g.va=z+q,g.o=$+K,g.U=q,g.T=K,g.da=f!=null&&0<f.da,g.da){if(!tt(q,K,A=[f.ib],z=[f.hb]))return 0;g.ib=A[0],g.hb=z[0]}return g.ob=f!=null&&f.ob,g.Kb=f==null||!f.Sd,g.da&&(g.ob=g.ib<3*R/4&&g.hb<3*U/4,g.Kb=0),1}function bp(f){if(f==null)return 2;if(11>f.S){var g=f.f.RGBA;g.fb+=(f.height-1)*g.A,g.A=-g.A}else g=f.f.kb,f=f.height,g.O+=(f-1)*g.fa,g.fa=-g.fa,g.N+=(f-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(f-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(f-1)*g.lb,g.lb=-g.lb);return 0}function Jl(f,g,A,R){if(R==null||0>=f||0>=g)return 2;if(A!=null){if(A.Da){var U=A.cd,z=A.bd,$=-2&A.v,q=-2&A.j;if(0>$||0>q||0>=U||0>=z||$+U>f||q+z>g)return 2;f=U,g=z}if(A.da){if(!tt(f,g,U=[A.ib],z=[A.hb]))return 2;f=U[0],g=z[0]}}R.width=f,R.height=g;e:{var K=R.width,ee=R.height;if(f=R.S,0>=K||0>=ee||!(f>=_0&&13>f))f=2;else{if(0>=R.Rd&&R.sd==null){$=z=U=g=0;var ue=(q=K*aI[f])*ee;if(11>f||(z=(ee+1)/2*(g=(K+1)/2),f==12&&($=(U=K)*ee)),(ee=s(ue+2*z+$))==null){f=1;break e}R.sd=ee,11>f?((K=R.f.RGBA).eb=ee,K.fb=0,K.A=q,K.size=ue):((K=R.f.kb).y=ee,K.O=0,K.fa=q,K.Fd=ue,K.f=ee,K.N=0+ue,K.Ab=g,K.Cd=z,K.ea=ee,K.W=0+ue+z,K.Db=g,K.Ed=z,f==12&&(K.F=ee,K.J=0+ue+2*z),K.Tc=$,K.lb=U)}if(g=1,U=R.S,z=R.width,$=R.height,U>=_0&&13>U)if(11>U)f=R.f.RGBA,g&=(q=Math.abs(f.A))*($-1)+z<=f.size,g&=q>=z*aI[U],g&=f.eb!=null;else{f=R.f.kb,q=(z+1)/2,ue=($+1)/2,K=Math.abs(f.fa),ee=Math.abs(f.Ab);var _e=Math.abs(f.Db),te=Math.abs(f.lb),he=te*($-1)+z;g&=K*($-1)+z<=f.Fd,g&=ee*(ue-1)+q<=f.Cd,g=(g&=_e*(ue-1)+q<=f.Ed)&K>=z&ee>=q&_e>=q,g&=f.y!=null,g&=f.f!=null,g&=f.ea!=null,U==12&&(g&=te>=z,g&=he<=f.Tc,g&=f.F!=null)}else g=0;f=g?0:2}}return f!=0||A!=null&&A.fd&&(f=bp(R)),f}var qu=64,xs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ss=24,Zl=32,ol=8,ec=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ue("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(f){return f},P.Predictor2=function(f,g,A){return g[A+0]},P.Predictor3=function(f,g,A){return g[A+1]},P.Predictor4=function(f,g,A){return g[A-1]},P.Predictor5=function(f,g,A){return Xe(Xe(f,g[A+1]),g[A+0])},P.Predictor6=function(f,g,A){return Xe(f,g[A-1])},P.Predictor7=function(f,g,A){return Xe(f,g[A+0])},P.Predictor8=function(f,g,A){return Xe(g[A-1],g[A+0])},P.Predictor9=function(f,g,A){return Xe(g[A+0],g[A+1])},P.Predictor10=function(f,g,A){return Xe(Xe(f,g[A-1]),Xe(g[A+0],g[A+1]))},P.Predictor11=function(f,g,A){var R=g[A+0];return 0>=st(R>>24&255,f>>24&255,(g=g[A-1])>>24&255)+st(R>>16&255,f>>16&255,g>>16&255)+st(R>>8&255,f>>8&255,g>>8&255)+st(255&R,255&f,255&g)?R:f},P.Predictor12=function(f,g,A){var R=g[A+0];return(Jt((f>>24&255)+(R>>24&255)-((g=g[A-1])>>24&255))<<24|Jt((f>>16&255)+(R>>16&255)-(g>>16&255))<<16|Jt((f>>8&255)+(R>>8&255)-(g>>8&255))<<8|Jt((255&f)+(255&R)-(255&g)))>>>0},P.Predictor13=function(f,g,A){var R=g[A-1];return(gt((f=Xe(f,g[A+0]))>>24&255,R>>24&255)<<24|gt(f>>16&255,R>>16&255)<<16|gt(f>>8&255,R>>8&255)<<8|gt(255&f,255&R))>>>0};var xp=P.PredictorAdd0;P.PredictorAdd1=qt,Ue("Predictor2","PredictorAdd2"),Ue("Predictor3","PredictorAdd3"),Ue("Predictor4","PredictorAdd4"),Ue("Predictor5","PredictorAdd5"),Ue("Predictor6","PredictorAdd6"),Ue("Predictor7","PredictorAdd7"),Ue("Predictor8","PredictorAdd8"),Ue("Predictor9","PredictorAdd9"),Ue("Predictor10","PredictorAdd10"),Ue("Predictor11","PredictorAdd11"),Ue("Predictor12","PredictorAdd12"),Ue("Predictor13","PredictorAdd13");var gd=P.PredictorAdd2;it("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),it("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var gr,y0=P.ColorIndexInverseTransform,fa=P.MapARGB,pa=P.VP8LColorIndexInverseTransformAlpha,Sp=P.MapAlpha,Ep=P.VP8LPredictorsAdd=[];Ep.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var Ap,Tp,tc,nc,rc,Hu,ic,Wu,no,ma,fn,Cn,yr,Ur,al,Ip,yd,v0,MT,OT,jT,FT,VT,UT,Cp,BT,zT,$T,qT=s(511),HT=s(2041),WT=s(225),GT=s(767),KT=0,rw=HT,w0=WT,Es=GT,ro=qT,_0=0,b0=1,YT=2,x0=3,S0=4,iw=5,XT=6,sw=7,ow=8,E0=9,aw=10,FU=[2,3,7],VU=[3,3,11],QT=[280,256,256,256,40],UU=[0,1,1,1,0],BU=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],zU=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$U=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],qU=8,lw=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],cw=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Np=null,HU=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],WU=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],JT=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],GU=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],KU=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],YU=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],XU=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],sc=[],Co=[],ll=[],QU=1,ZT=2,oc=[],io=[];be("UpsampleRgbLinePair",Kr,3),be("UpsampleBgrLinePair",Oi,3),be("UpsampleRgbaLinePair",wp,4),be("UpsampleBgraLinePair",il,4),be("UpsampleArgbLinePair",eo,4),be("UpsampleRgba4444LinePair",mi,2),be("UpsampleRgb565LinePair",Fn,2);var JU=P.UpsampleRgbLinePair,ZU=P.UpsampleBgrLinePair,eI=P.UpsampleRgbaLinePair,tI=P.UpsampleBgraLinePair,nI=P.UpsampleArgbLinePair,rI=P.UpsampleRgba4444LinePair,eB=P.UpsampleRgb565LinePair,A0=16,T0=1<<A0-1,Pp=-227,uw=482,iI=6,tB=(256<<iI)-1,sI=0,nB=s(256),rB=s(256),iB=s(256),sB=s(256),oB=s(uw-Pp),aB=s(uw-Pp);sl("YuvToRgbRow",Kr,3),sl("YuvToBgrRow",Oi,3),sl("YuvToRgbaRow",wp,4),sl("YuvToBgraRow",il,4),sl("YuvToArgbRow",eo,4),sl("YuvToRgba4444Row",mi,2),sl("YuvToRgb565Row",Fn,2);var oI=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],I0=[0,2,8],lB=[8,7,6,4,4,2,2,2,1,1,1,1],cB=1;this.WebPDecodeRGBA=function(f,g,A,R,U){var z=b0,$=new de,q=new Tt;$.ba=q,q.S=z,q.width=[q.width],q.height=[q.height];var K=q.width,ee=q.height,ue=new ct;if(ue==null||f==null)var _e=2;else e(ue!=null),_e=$u(f,g,A,ue.width,ue.height,ue.Pd,ue.Qd,ue.format,null);if(_e!=0?K=0:(K!=null&&(K[0]=ue.width[0]),ee!=null&&(ee[0]=ue.height[0]),K=1),K){q.width=q.width[0],q.height=q.height[0],R!=null&&(R[0]=q.width),U!=null&&(U[0]=q.height);e:{if(R=new $l,(U=new Te).data=f,U.w=g,U.ha=A,U.kd=1,g=[0],e(U!=null),((f=$u(U.data,U.w,U.ha,null,null,null,g,null,U))==0||f==7)&&g[0]&&(f=4),(g=f)==0){if(e($!=null),R.data=U.data,R.w=U.w+U.offset,R.ha=U.ha-U.offset,R.put=Je,R.ac=mn,R.bc=Nr,R.ma=$,U.xa){if((f=ra())==null){$=1;break e}if(function(te,he){var ve=[0],Ae=[0],we=[0];t:for(;;){if(te==null)return 0;if(he==null)return te.a=2,0;if(te.l=he,te.a=0,Q(te.m,he.data,he.w,he.ha),!ir(te.m,ve,Ae,we)){te.a=3;break t}if(te.xb=ZT,he.width=ve[0],he.height=Ae[0],!Gs(ve[0],Ae[0],1,te,null))break t;return 1}return e(te.a!=0),0}(f,R)){if(R=(g=Jl(R.width,R.height,$.Oa,$.ba))==0){t:{R=f;n:for(;;){if(R==null){R=0;break t}if(e(R.s.yc!=null),e(R.s.Ya!=null),e(0<R.s.Wb),e((A=R.l)!=null),e((U=A.ma)!=null),R.xb!=0){if(R.ca=U.ba,R.tb=U.tb,e(R.ca!=null),!_p(U.Oa,A,x0)){R.a=2;break n}if(!Ks(R,A.width)||A.da)break n;if((A.da||_t(R.ca.S))&&pe(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&pe()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!ne(R.s.vb,R.s.Wa.Xa)){R.a=1;break n}R.xb=0}if(!es(R,R.V,R.Ba,R.c,R.i,A.o,Ao))break n;U.Dc=R.Ma,R=1;break t}e(R.a!=0),R=0}R=!R}R&&(g=f.a)}else g=f.a}else{if((f=new Xs)==null){$=1;break e}if(f.Fa=U.na,f.P=U.P,f.qc=U.Sa,oa(f,R)){if((g=Jl(R.width,R.height,$.Oa,$.ba))==0){if(f.Aa=0,A=$.Oa,e((U=f)!=null),A!=null){if(0<(K=0>(K=A.Md)?0:100<K?255:255*K/100)){for(ee=ue=0;4>ee;++ee)12>(_e=U.pb[ee]).lc&&(_e.ia=K*lB[0>_e.lc?0:_e.lc]>>3),ue|=_e.ia;ue&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=A.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}(function(te,he){if(te==null)return 0;if(he==null)return un(te,2,"NULL VP8Io parameter in VP8Decode().");if(!te.cb&&!oa(te,he))return 0;if(e(te.cb),he.ac==null||he.ac(he)){he.ob&&(te.L=0);var ve=I0[te.L];if(te.L==2?(te.yb=0,te.zb=0):(te.yb=he.v-ve>>4,te.zb=he.j-ve>>4,0>te.yb&&(te.yb=0),0>te.zb&&(te.zb=0)),te.Va=he.o+15+ve>>4,te.Hb=he.va+15+ve>>4,te.Hb>te.za&&(te.Hb=te.za),te.Va>te.Ub&&(te.Va=te.Ub),0<te.L){var Ae=te.ed;for(ve=0;4>ve;++ve){var we;if(te.Qa.Cb){var Ie=te.Qa.Lb[ve];te.Qa.Fb||(Ie+=Ae.Tb)}else Ie=Ae.Tb;for(we=0;1>=we;++we){var Ce=te.gd[ve][we],Oe=Ie;if(Ae.Pc&&(Oe+=Ae.vd[0],we&&(Oe+=Ae.od[0])),0<(Oe=0>Oe?0:63<Oe?63:Oe)){var Me=Oe;0<Ae.wb&&(Me=4<Ae.wb?Me>>2:Me>>1)>9-Ae.wb&&(Me=9-Ae.wb),1>Me&&(Me=1),Ce.dd=Me,Ce.tc=2*Oe+Me,Ce.ld=40<=Oe?2:15<=Oe?1:0}else Ce.tc=0;Ce.La=we}}}ve=0}else un(te,6,"Frame setup failed"),ve=te.a;if(ve=ve==0){if(ve){te.$c=0,0<te.Aa||(te.Ic=cB);t:{ve=te.Ic,Ae=4*(Me=te.za);var lt=32*Me,Qe=Me+1,Ut=0<te.L?Me*(0<te.Aa?2:1):0,nt=(te.Aa==2?2:1)*Me;if((Ce=Ae+832+(we=3*(16*ve+I0[te.L])/2*lt)+(Ie=te.Fa!=null&&0<te.Fa.length?te.Kc.c*te.Kc.i:0))!=Ce)ve=0;else{if(Ce>te.Vb){if(te.Vb=0,te.Ec=s(Ce),te.Fc=0,te.Ec==null){ve=un(te,1,"no memory during frame initialization.");break t}te.Vb=Ce}Ce=te.Ec,Oe=te.Fc,te.Ac=Ce,te.Bc=Oe,Oe+=Ae,te.Gd=o(lt,Mu),te.Hd=0,te.rb=o(Qe+1,Bl),te.sb=1,te.wa=Ut?o(Ut,Li):null,te.Y=0,te.D.Nb=0,te.D.wa=te.wa,te.D.Y=te.Y,0<te.Aa&&(te.D.Y+=Me),e(!0),te.oc=Ce,te.pc=Oe,Oe+=832,te.ya=o(nt,Qa),te.aa=0,te.D.ya=te.ya,te.D.aa=te.aa,te.Aa==2&&(te.D.aa+=Me),te.R=16*Me,te.B=8*Me,Me=(lt=I0[te.L])*te.R,lt=lt/2*te.B,te.sa=Ce,te.ta=Oe+Me,te.qa=te.sa,te.ra=te.ta+16*ve*te.R+lt,te.Ha=te.qa,te.Ia=te.ra+8*ve*te.B+lt,te.$c=0,Oe+=we,te.mb=Ie?Ce:null,te.nb=Ie?Oe:null,e(Oe+Ie<=te.Fc+te.Vb),sn(te),i(te.Ac,te.Bc,0,Ae),ve=1}}if(ve){if(he.ka=0,he.y=te.sa,he.O=te.ta,he.f=te.qa,he.N=te.ra,he.ea=te.Ha,he.Vd=te.Ia,he.fa=te.R,he.Rc=te.B,he.F=null,he.J=0,!KT){for(ve=-255;255>=ve;++ve)qT[255+ve]=0>ve?-ve:ve;for(ve=-1020;1020>=ve;++ve)HT[1020+ve]=-128>ve?-128:127<ve?127:ve;for(ve=-112;112>=ve;++ve)WT[112+ve]=-16>ve?-16:15<ve?15:ve;for(ve=-255;510>=ve;++ve)GT[255+ve]=0>ve?0:255<ve?255:ve;KT=1}ic=aa,Wu=gp,ma=yp,fn=Qs,Cn=cd,no=ld,yr=Bu,Ur=zu,al=x,Ip=V,yd=Io,v0=Ql,MT=Z,OT=se,jT=ha,FT=da,VT=rl,UT=pd,Co[0]=fd,Co[1]=ql,Co[2]=Fu,Co[3]=Wl,Co[4]=Za,Co[5]=Js,Co[6]=Di,Co[7]=Vu,Co[8]=Gl,Co[9]=Rn,sc[0]=la,sc[1]=hd,sc[2]=dd,sc[3]=Hl,sc[4]=vp,sc[5]=Ja,sc[6]=rs,ll[0]=tl,ll[1]=ud,ll[2]=Uu,ll[3]=ca,ll[4]=is,ll[5]=Kl,ll[6]=Yl,ve=1}else ve=0}ve&&(ve=function(Zt,Br){for(Zt.M=0;Zt.M<Zt.Va;++Zt.M){var Bt,rt=Zt.Jc[Zt.M&Zt.Xb],ze=Zt.m,vr=Zt;for(Bt=0;Bt<vr.za;++Bt){var Mt=ze,nn=vr,Vn=nn.Ac,ei=nn.Bc+4*Bt,ji=nn.zc,or=nn.ya[nn.aa+Bt];if(nn.Qa.Bb?or.$b=xe(Mt,nn.Pa.jb[0])?2+xe(Mt,nn.Pa.jb[2]):xe(Mt,nn.Pa.jb[1]):or.$b=0,nn.kc&&(or.Ad=xe(Mt,nn.Bd)),or.Za=!xe(Mt,145)+0,or.Za){var gi=or.Ob,Fi=0;for(nn=0;4>nn;++nn){var zr,on=ji[0+nn];for(zr=0;4>zr;++zr){on=KU[Vn[ei+zr]][on];for(var gn=JT[xe(Mt,on[0])];0<gn;)gn=JT[2*gn+xe(Mt,on[gn])];on=-gn,Vn[ei+zr]=on}r(gi,Fi,Vn,ei,4),Fi+=4,ji[0+nn]=on}}else on=xe(Mt,156)?xe(Mt,128)?1:3:xe(Mt,163)?2:0,or.Ob[0]=on,i(Vn,ei,on,4),i(ji,0,on,4);or.Dd=xe(Mt,142)?xe(Mt,114)?xe(Mt,183)?1:3:2:0}if(vr.m.Ka)return un(Zt,7,"Premature end-of-partition0 encountered.");for(;Zt.ja<Zt.za;++Zt.ja){if(vr=rt,Mt=(ze=Zt).rb[ze.sb-1],Vn=ze.rb[ze.sb+ze.ja],Bt=ze.ya[ze.aa+ze.ja],ei=ze.kc?Bt.Ad:0)Mt.la=Vn.la=0,Bt.Za||(Mt.Na=Vn.Na=0),Bt.Hc=0,Bt.Gc=0,Bt.ia=0;else{var ar,yn;if(Mt=Vn,Vn=vr,ei=ze.Pa.Xc,ji=ze.ya[ze.aa+ze.ja],or=ze.pb[ji.$b],nn=ji.ad,gi=0,Fi=ze.rb[ze.sb-1],on=zr=0,i(nn,gi,0,384),ji.Za)var ti=0,No=ei[3];else{gn=s(16);var wr=Mt.Na+Fi.Na;if(wr=Np(Vn,ei[1],wr,or.Eb,0,gn,0),Mt.Na=Fi.Na=(0<wr)+0,1<wr)ic(gn,0,nn,gi);else{var ss=gn[0]+3>>3;for(gn=0;256>gn;gn+=16)nn[gi+gn]=ss}ti=1,No=ei[0]}var Nn=15&Mt.la,$r=15&Fi.la;for(gn=0;4>gn;++gn){var As=1&$r;for(ss=yn=0;4>ss;++ss)Nn=Nn>>1|(As=(wr=Np(Vn,No,wr=As+(1&Nn),or.Sc,ti,nn,gi))>ti)<<7,yn=yn<<2|(3<wr?3:1<wr?2:nn[gi+0]!=0),gi+=16;Nn>>=4,$r=$r>>1|As<<7,zr=(zr<<8|yn)>>>0}for(No=Nn,ti=$r>>4,ar=0;4>ar;ar+=2){for(yn=0,Nn=Mt.la>>4+ar,$r=Fi.la>>4+ar,gn=0;2>gn;++gn){for(As=1&$r,ss=0;2>ss;++ss)wr=As+(1&Nn),Nn=Nn>>1|(As=0<(wr=Np(Vn,ei[2],wr,or.Qc,0,nn,gi)))<<3,yn=yn<<2|(3<wr?3:1<wr?2:nn[gi+0]!=0),gi+=16;Nn>>=2,$r=$r>>1|As<<5}on|=yn<<4*ar,No|=Nn<<4<<ar,ti|=(240&$r)<<ar}Mt.la=No,Fi.la=ti,ji.Hc=zr,ji.Gc=on,ji.ia=43690&on?0:or.ia,ei=!(zr|on)}if(0<ze.L&&(ze.wa[ze.Y+ze.ja]=ze.gd[Bt.$b][Bt.Za],ze.wa[ze.Y+ze.ja].La|=!ei),vr.Ka)return un(Zt,7,"Premature end-of-file encountered.")}if(sn(Zt),ze=Br,vr=1,Bt=(rt=Zt).D,Mt=0<rt.L&&rt.M>=rt.zb&&rt.M<=rt.Va,rt.Aa==0)t:{if(Bt.M=rt.M,Bt.uc=Mt,to(rt,Bt),vr=1,Bt=(yn=rt.D).Nb,Mt=(on=I0[rt.L])*rt.R,Vn=on/2*rt.B,gn=16*Bt*rt.R,ss=8*Bt*rt.B,ei=rt.sa,ji=rt.ta-Mt+gn,or=rt.qa,nn=rt.ra-Vn+ss,gi=rt.Ha,Fi=rt.Ia-Vn+ss,$r=(Nn=yn.M)==0,zr=Nn>=rt.Va-1,rt.Aa==2&&to(rt,yn),yn.uc)for(As=(wr=rt).D.M,e(wr.D.uc),yn=wr.yb;yn<wr.Hb;++yn){ti=yn,No=As;var Vi=(Ts=(ni=wr).D).Nb;ar=ni.R;var Ts=Ts.wa[Ts.Y+ti],Is=ni.sa,os=ni.ta+16*Vi*ar+16*ti,Cs=Ts.dd,Mn=Ts.tc;if(Mn!=0)if(e(3<=Mn),ni.L==1)0<ti&&FT(Is,os,ar,Mn+4),Ts.La&&UT(Is,os,ar,Mn),0<No&&jT(Is,os,ar,Mn+4),Ts.La&&VT(Is,os,ar,Mn);else{var Ns=ni.B,Po=ni.qa,Gu=ni.ra+8*Vi*Ns+8*ti,cl=ni.Ha,ni=ni.Ia+8*Vi*Ns+8*ti;Vi=Ts.ld,0<ti&&(Ur(Is,os,ar,Mn+4,Cs,Vi),Ip(Po,Gu,cl,ni,Ns,Mn+4,Cs,Vi)),Ts.La&&(v0(Is,os,ar,Mn,Cs,Vi),OT(Po,Gu,cl,ni,Ns,Mn,Cs,Vi)),0<No&&(yr(Is,os,ar,Mn+4,Cs,Vi),al(Po,Gu,cl,ni,Ns,Mn+4,Cs,Vi)),Ts.La&&(yd(Is,os,ar,Mn,Cs,Vi),MT(Po,Gu,cl,ni,Ns,Mn,Cs,Vi))}}if(rt.ia&&alert("todo:DitherRow"),ze.put!=null){if(yn=16*Nn,Nn=16*(Nn+1),$r?(ze.y=rt.sa,ze.O=rt.ta+gn,ze.f=rt.qa,ze.N=rt.ra+ss,ze.ea=rt.Ha,ze.W=rt.Ia+ss):(yn-=on,ze.y=ei,ze.O=ji,ze.f=or,ze.N=nn,ze.ea=gi,ze.W=Fi),zr||(Nn-=on),Nn>ze.o&&(Nn=ze.o),ze.F=null,ze.J=null,rt.Fa!=null&&0<rt.Fa.length&&yn<Nn&&(ze.J=Tn(rt,ze,yn,Nn-yn),ze.F=rt.mb,ze.F==null&&ze.F.length==0)){vr=un(rt,3,"Could not decode alpha data.");break t}yn<ze.j&&(on=ze.j-yn,yn=ze.j,e(!(1&on)),ze.O+=rt.R*on,ze.N+=rt.B*(on>>1),ze.W+=rt.B*(on>>1),ze.F!=null&&(ze.J+=ze.width*on)),yn<Nn&&(ze.O+=ze.v,ze.N+=ze.v>>1,ze.W+=ze.v>>1,ze.F!=null&&(ze.J+=ze.v),ze.ka=yn-ze.j,ze.U=ze.va-ze.v,ze.T=Nn-yn,vr=ze.put(ze))}Bt+1!=rt.Ic||zr||(r(rt.sa,rt.ta-Mt,ei,ji+16*rt.R,Mt),r(rt.qa,rt.ra-Vn,or,nn+8*rt.B,Vn),r(rt.Ha,rt.Ia-Vn,gi,Fi+8*rt.B,Vn))}if(!vr)return un(Zt,6,"Output aborted.")}return 1}(te,he)),he.bc!=null&&he.bc(he),ve&=1}return ve?(te.cb=0,ve):0})(f,R)||(g=f.a)}}else g=f.a}g==0&&$.Oa!=null&&$.Oa.fd&&(g=bp($.ba))}$=g}z=$!=0?null:11>z?q.f.RGBA.eb:q.f.kb.y}else z=null;return z};var aI=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(P,j){for(var I="",L=0;L<4;L++)I+=String.fromCharCode(P[j++]);return I}function u(P,j){return P[j+0]|P[j+1]<<8}function h(P,j){return(P[j+0]|P[j+1]<<8|P[j+2]<<16)>>>0}function p(P,j){return(P[j+0]|P[j+1]<<8|P[j+2]<<16|P[j+3]<<24)>>>0}new l;var d=[0],b=[0],y=[],_=new l,w=t,S=function(P,j){var I={},L=0,M=!1,W=0,ae=0;if(I.frames=[],!function(F,X){for(var J=0;J<4;J++)if(F[X+J]!="RIFF".charCodeAt(J))return!0;return!1}(P,j)){for(p(P,j+=4),j+=8;j<P.length;){var ce=c(P,j),le=p(P,j+=4);j+=4;var Y=le+(1&le);switch(ce){case"VP8 ":case"VP8L":I.frames[L]===void 0&&(I.frames[L]={}),(ye=I.frames[L]).src_off=M?ae:j-8,ye.src_size=W+le+8,L++,M&&(M=!1,W=0,ae=0);break;case"VP8X":(ye=I.header={}).feature_flags=P[j];var Q=j+4;ye.canvas_width=1+h(P,Q),Q+=3,ye.canvas_height=1+h(P,Q),Q+=3;break;case"ALPH":M=!0,W=Y+8,ae=j-8;break;case"ANIM":(ye=I.header).bgcolor=p(P,j),Q=j+4,ye.loop_count=u(P,Q),Q+=2;break;case"ANMF":var fe,ye;(ye=I.frames[L]={}).offset_x=2*h(P,j),j+=3,ye.offset_y=2*h(P,j),j+=3,ye.width=1+h(P,j),j+=3,ye.height=1+h(P,j),j+=3,ye.duration=h(P,j),j+=3,fe=P[j++],ye.dispose=1&fe,ye.blend=fe>>1&1}ce!="ANMF"&&(j+=Y)}return I}}(w,0);S.response=w,S.rgbaoutput=!0,S.dataurl=!1;var E=S.header?S.header:null,k=S.frames?S.frames:null;if(E){E.loop_counter=E.loop_count,d=[E.canvas_height],b=[E.canvas_width];for(var B=0;B<k.length&&k[B].blend!=0;B++);}var G=k[0],D=_.WebPDecodeRGBA(w,G.src_off,G.src_size,b,d);G.rgba=D,G.imgwidth=b[0],G.imgheight=d[0];for(var N=0;N<b[0]*d[0]*4;N++)y[N]=D[N];return this.width=b,this.height=d,this.data=y,this}(function(t){var e,n,r,i,s,o,a,l,c,u=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new l,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new o,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new o,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=F;Object.defineProperty(this,"pdf",{get:function(){return X}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(Se){J=!!Se}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(Se){ie=!!Se}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(Se){isNaN(Se)||(oe=Se)}});var re=0;Object.defineProperty(this,"posY",{get:function(){return re},set:function(Se){isNaN(Se)||(re=Se)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Se){var ne;typeof Se=="number"?ne=[Se,Se,Se,Se]:((ne=new Array(4))[0]=Se[0],ne[1]=Se.length>=2?Se[1]:ne[0],ne[2]=Se.length>=3?Se[2]:ne[0],ne[3]=Se.length>=4?Se[3]:ne[1]),c.margin=ne}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(Se){ge=Se}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(Se){me=Se}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(Se){xe=Se}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Se){Se instanceof u&&(c=Se)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Se){c.path=Se}});var Ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ee},set:function(Se){Ee=Se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Se){var ne;ne=p(Se),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Se){var ne=p(Se);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Se){["butt","round","square"].indexOf(Se)!==-1&&(this.ctx.lineCap=Se,this.pdf.setLineCap(Se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Se){isNaN(Se)||(this.ctx.lineWidth=Se,this.pdf.setLineWidth(Se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Se){["bevel","round","miter"].indexOf(Se)!==-1&&(this.ctx.lineJoin=Se,this.pdf.setLineJoin(Se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Se){isNaN(Se)||(this.ctx.miterLimit=Se,this.pdf.setMiterLimit(Se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Se){this.ctx.textBaseline=Se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Se){["right","end","center","left","start"].indexOf(Se)!==-1&&(this.ctx.textAlign=Se)}});var Le=null,Fe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Fe},set:function(Se){Le=null,Fe=Se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Se){var ne;if(this.ctx.font=Se,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Se))!==null){var wt=ne[1];ne[2];var pt=ne[3],tt=ne[4];ne[5];var Ne=ne[6],$e=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(tt)[2];tt=Math.floor($e==="px"?parseFloat(tt)*this.pdf.internal.scaleFactor:$e==="em"?parseFloat(tt)*this.pdf.getFontSize():parseFloat(tt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(tt);var Ue=function(mt){var it,ln,Vt=[],We=mt.trim();if(We==="")return d5;if(We in Uk)return[Uk[We]];for(;We!=="";){switch(ln=null,it=(We=zk(We)).charAt(0)){case'"':case"'":ln=r0e(We.substring(1),it);break;default:ln=i0e(We)}if(ln===null||(Vt.push(ln[0]),(We=zk(ln[1]))!==""&&We.charAt(0)!==","))return d5;We=We.replace(/^,/,"")}return Vt}(Ne);if(this.fontFaces){var At=function(mt,it){if(Le===null){var ln=function(Vt){var We=[];return Object.keys(Vt).forEach(function(vt){Vt[vt].forEach(function(jt){var dt=null;switch(jt){case"bold":dt={family:vt,weight:"bold"};break;case"italic":dt={family:vt,style:"italic"};break;case"bolditalic":dt={family:vt,weight:"bold",style:"italic"};break;case"":case"normal":dt={family:vt}}dt!==null&&(dt.ref={name:vt,style:jt},We.push(dt))})}),We}(mt.getFontList());Le=function(Vt){for(var We={},vt=0;vt<Vt.length;++vt){var jt=h5(Vt[vt]),dt=jt.family,Ft=jt.stretch,_t=jt.style,dn=jt.weight;We[dt]=We[dt]||{},We[dt][Ft]=We[dt][Ft]||{},We[dt][Ft][_t]=We[dt][Ft][_t]||{},We[dt][Ft][_t][dn]=jt}return We}(ln.concat(it))}return Le}(this.pdf,this.fontFaces),Xe=Ue.map(function(mt){return{family:mt,stretch:"normal",weight:pt,style:wt}}),Jt=function(mt,it,ln){for(var Vt=(ln=ln||{}).defaultFontFamily||"times",We=Object.assign({},n0e,ln.genericFontFamilies||{}),vt=null,jt=null,dt=0;dt<it.length;++dt)if(We[(vt=h5(it[dt])).family]&&(vt.family=We[vt.family]),mt.hasOwnProperty(vt.family)){jt=mt[vt.family];break}if(!(jt=jt||mt[Vt]))throw new Error("Could not find a font-family for the rule '"+Bk(vt)+"' and default family '"+Vt+"'.");if(jt=function(Ft,_t){if(_t[Ft])return _t[Ft];var dn=Kx[Ft],Gn=dn<=Kx.normal?-1:1,Tt=Vk(_t,LU,dn,Gn);if(!Tt)throw new Error("Could not find a matching font-stretch value for "+Ft);return Tt}(vt.stretch,jt),jt=function(Ft,_t){if(_t[Ft])return _t[Ft];for(var dn=RU[Ft],Gn=0;Gn<dn.length;++Gn)if(_t[dn[Gn]])return _t[dn[Gn]];throw new Error("Could not find a matching font-style for "+Ft)}(vt.style,jt),!(jt=function(Ft,_t){if(_t[Ft])return _t[Ft];if(Ft===400&&_t[500])return _t[500];if(Ft===500&&_t[400])return _t[400];var dn=t0e[Ft],Gn=Vk(_t,DU,dn,Ft<400?-1:1);if(!Gn)throw new Error("Could not find a matching font-weight for value "+Ft);return Gn}(vt.weight,jt)))throw new Error("Failed to resolve a font for the rule '"+Bk(vt)+"'.");return jt}(At,Xe);this.pdf.setFont(Jt.ref.name,Jt.ref.style)}else{var gt="";(pt==="bold"||parseInt(pt,10)>=700||wt==="bold")&&(gt="bold"),wt==="italic"&&(gt+="italic"),gt.length===0&&(gt="normal");for(var st="",qt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},St=0;St<Ue.length;St++){if(this.pdf.internal.getFont(Ue[St],gt,{noFallback:!0,disableWarning:!0})!==void 0){st=Ue[St];break}if(gt==="bolditalic"&&this.pdf.internal.getFont(Ue[St],"bold",{noFallback:!0,disableWarning:!0})!==void 0)st=Ue[St],gt="bold";else if(this.pdf.internal.getFont(Ue[St],"normal",{noFallback:!0,disableWarning:!0})!==void 0){st=Ue[St],gt="normal";break}}if(st===""){for(var ot=0;ot<Ue.length;ot++)if(qt[Ue[ot]]){st=qt[Ue[ot]];break}}st=st===""?"Times":st,this.pdf.setFont(st,gt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Se){this.ctx.globalCompositeOperation=Se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Se){this.ctx.globalAlpha=Se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Se){this.ctx.lineDashOffset=Se,ye.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Se){this.ctx.lineDash=Se,ye.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Se){this.ctx.ignoreClearRect=!!Se}})};h.prototype.setLineDash=function(F){this.lineDash=F},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){k.call(this,"fill",!1)},h.prototype.stroke=function(){k.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(F,X){if(isNaN(F)||isNaN(X))throw Pn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new o(F,X));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(F,X)},h.prototype.closePath=function(){var F=new o(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&wn(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){F=new o(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(F.x,F.y)},h.prototype.lineTo=function(F,X){if(isNaN(F)||isNaN(X))throw Pn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new o(F,X));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(J.x,J.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},h.prototype.quadraticCurveTo=function(F,X,J,ie){if(isNaN(J)||isNaN(ie)||isNaN(F)||isNaN(X))throw Pn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new o(J,ie)),re=this.ctx.transform.applyToPoint(new o(F,X));this.path.push({type:"qct",x1:re.x,y1:re.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new o(oe.x,oe.y)},h.prototype.bezierCurveTo=function(F,X,J,ie,oe,re){if(isNaN(oe)||isNaN(re)||isNaN(F)||isNaN(X)||isNaN(J)||isNaN(ie))throw Pn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new o(oe,re)),me=this.ctx.transform.applyToPoint(new o(F,X)),xe=this.ctx.transform.applyToPoint(new o(J,ie));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:xe.x,y2:xe.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new o(ge.x,ge.y)},h.prototype.arc=function(F,X,J,ie,oe,re){if(isNaN(F)||isNaN(X)||isNaN(J)||isNaN(ie)||isNaN(oe))throw Pn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(re=!!re,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new o(F,X));F=ge.x,X=ge.y;var me=this.ctx.transform.applyToPoint(new o(0,J)),xe=this.ctx.transform.applyToPoint(new o(0,0));J=Math.sqrt(Math.pow(me.x-xe.x,2)+Math.pow(me.y-xe.y,2))}Math.abs(oe-ie)>=2*Math.PI&&(ie=0,oe=2*Math.PI),this.path.push({type:"arc",x:F,y:X,radius:J,startAngle:ie,endAngle:oe,counterclockwise:re})},h.prototype.arcTo=function(F,X,J,ie,oe){throw new Error("arcTo not implemented.")},h.prototype.rect=function(F,X,J,ie){if(isNaN(F)||isNaN(X)||isNaN(J)||isNaN(ie))throw Pn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,X),this.lineTo(F+J,X),this.lineTo(F+J,X+ie),this.lineTo(F,X+ie),this.lineTo(F,X),this.lineTo(F+J,X),this.lineTo(F,X)},h.prototype.fillRect=function(F,X,J,ie){if(isNaN(F)||isNaN(X)||isNaN(J)||isNaN(ie))throw Pn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,X,J,ie),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},h.prototype.strokeRect=function(F,X,J,ie){if(isNaN(F)||isNaN(X)||isNaN(J)||isNaN(ie))throw Pn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(F,X,J,ie),this.stroke())},h.prototype.clearRect=function(F,X,J,ie){if(isNaN(F)||isNaN(X)||isNaN(J)||isNaN(ie))throw Pn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,X,J,ie))},h.prototype.save=function(F){F=typeof F!="boolean"||F;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},h.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(X),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(F){var X,J,ie,oe;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))X=0,J=0,ie=0,oe=0;else{var re=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(re!==null)X=parseInt(re[1]),J=parseInt(re[2]),ie=parseInt(re[3]),oe=1;else if((re=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)X=parseInt(re[1]),J=parseInt(re[2]),ie=parseInt(re[3]),oe=parseFloat(re[4]);else{if(oe=1,typeof F=="string"&&F.charAt(0)!=="#"){var ge=new AU(F);F=ge.ok?ge.toHex():"#000000"}F.length===4?(X=F.substring(1,2),X+=X,J=F.substring(2,3),J+=J,ie=F.substring(3,4),ie+=ie):(X=F.substring(1,3),J=F.substring(3,5),ie=F.substring(5,7)),X=parseInt(X,16),J=parseInt(J,16),ie=parseInt(ie,16)}}return{r:X,g:J,b:ie,a:oe,style:F}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(F,X,J,ie){if(isNaN(X)||isNaN(J)||typeof F!="string")throw Pn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!d.call(this)){var oe=Y(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;L.call(this,{text:F,x:X,y:J,scale:re,angle:oe,align:this.textAlign,maxWidth:ie})}},h.prototype.strokeText=function(F,X,J,ie){if(isNaN(X)||isNaN(J)||typeof F!="string")throw Pn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){ie=isNaN(ie)?void 0:ie;var oe=Y(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;L.call(this,{text:F,x:X,y:J,scale:re,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:ie})}},h.prototype.measureText=function(F){if(typeof F!="string")throw Pn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,J=this.pdf.internal.scaleFactor,ie=X.internal.getFontSize(),oe=X.getStringUnitWidth(F)*ie/X.internal.scaleFactor;return new function(re){var ge=(re=re||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ge}}),this}({width:oe*=Math.round(96*J/72*1e4)/1e4})},h.prototype.scale=function(F,X){if(isNaN(F)||isNaN(X))throw Pn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new l(F,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},h.prototype.rotate=function(F){if(isNaN(F))throw Pn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new l(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},h.prototype.translate=function(F,X){if(isNaN(F)||isNaN(X))throw Pn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new l(1,0,0,1,F,X);this.ctx.transform=this.ctx.transform.multiply(J)},h.prototype.transform=function(F,X,J,ie,oe,re){if(isNaN(F)||isNaN(X)||isNaN(J)||isNaN(ie)||isNaN(oe)||isNaN(re))throw Pn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new l(F,X,J,ie,oe,re);this.ctx.transform=this.ctx.transform.multiply(ge)},h.prototype.setTransform=function(F,X,J,ie,oe,re){F=isNaN(F)?1:F,X=isNaN(X)?0:X,J=isNaN(J)?0:J,ie=isNaN(ie)?1:ie,oe=isNaN(oe)?0:oe,re=isNaN(re)?0:re,this.ctx.transform=new l(F,X,J,ie,oe,re)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(F,X,J,ie,oe,re,ge,me,xe){var Ee=this.pdf.getImageProperties(F),Le=1,Fe=1,Se=1,ne=1;ie!==void 0&&me!==void 0&&(Se=me/ie,ne=xe/oe,Le=Ee.width/ie*me/ie,Fe=Ee.height/oe*xe/oe),re===void 0&&(re=X,ge=J,X=0,J=0),ie!==void 0&&me===void 0&&(me=ie,xe=oe),ie===void 0&&me===void 0&&(me=Ee.width,xe=Ee.height);for(var wt,pt=this.ctx.transform.decompose(),tt=Y(pt.rotate.shx),Ne=new l,$e=(Ne=(Ne=(Ne=Ne.multiply(pt.translate)).multiply(pt.skew)).multiply(pt.scale)).applyToRectangle(new a(re-X*Se,ge-J*ne,ie*Le,oe*Fe)),Ue=_.call(this,$e),At=[],Xe=0;Xe<Ue.length;Xe+=1)At.indexOf(Ue[Xe])===-1&&At.push(Ue[Xe]);if(E(At),this.autoPaging)for(var Jt=At[0],gt=At[At.length-1],st=Jt;st<gt+1;st++){this.pdf.setPage(st);var qt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],St=st===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=st===1?0:ot+(st-2)*mt;if(this.ctx.clip_path.length!==0){var ln=this.path;wt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(wt,this.posX+this.margin[3],-it+St+this.ctx.prevPageLastElemOffset),B.call(this,"fill",!0),this.path=ln}var Vt=JSON.parse(JSON.stringify($e));Vt=S([Vt],this.posX+this.margin[3],-it+St+this.ctx.prevPageLastElemOffset)[0];var We=(st>Jt||st<gt)&&y.call(this);We&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qt,mt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",Vt.x,Vt.y,Vt.w,Vt.h,null,null,tt),We&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",$e.x,$e.y,$e.w,$e.h,null,null,tt)};var _=function(F,X,J){var ie=[];X=X||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":ie.push(Math.floor((F.y+oe)/J)+1);break;case"arc":ie.push(Math.floor((F.y+oe-F.radius)/J)+1),ie.push(Math.floor((F.y+oe+F.radius)/J)+1);break;case"qct":var re=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);ie.push(Math.floor((re.y+oe)/J)+1),ie.push(Math.floor((re.y+re.h+oe)/J)+1);break;case"bct":var ge=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);ie.push(Math.floor((ge.y+oe)/J)+1),ie.push(Math.floor((ge.y+ge.h+oe)/J)+1);break;case"rect":ie.push(Math.floor((F.y+oe)/J)+1),ie.push(Math.floor((F.y+F.h+oe)/J)+1)}for(var me=0;me<ie.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<ie[me];)w.call(this);return ie},w=function(){var F=this.fillStyle,X=this.strokeStyle,J=this.font,ie=this.lineCap,oe=this.lineWidth,re=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=X,this.font=J,this.lineCap=ie,this.lineWidth=oe,this.lineJoin=re},S=function(F,X,J){for(var ie=0;ie<F.length;ie++)switch(F[ie].type){case"bct":F[ie].x2+=X,F[ie].y2+=J;case"qct":F[ie].x1+=X,F[ie].y1+=J;default:F[ie].x+=X,F[ie].y+=J}return F},E=function(F){return F.sort(function(X,J){return X-J})},k=function(F,X){for(var J,ie,oe=this.fillStyle,re=this.strokeStyle,ge=this.lineCap,me=this.lineWidth,xe=Math.abs(me*this.ctx.transform.scaleX),Ee=this.lineJoin,Le=JSON.parse(JSON.stringify(this.path)),Fe=JSON.parse(JSON.stringify(this.path)),Se=[],ne=0;ne<Fe.length;ne++)if(Fe[ne].x!==void 0)for(var wt=_.call(this,Fe[ne]),pt=0;pt<wt.length;pt+=1)Se.indexOf(wt[pt])===-1&&Se.push(wt[pt]);for(var tt=0;tt<Se.length;tt++)for(;this.pdf.internal.getNumberOfPages()<Se[tt];)w.call(this);if(E(Se),this.autoPaging)for(var Ne=Se[0],$e=Se[Se.length-1],Ue=Ne;Ue<$e+1;Ue++){this.pdf.setPage(Ue),this.fillStyle=oe,this.strokeStyle=re,this.lineCap=ge,this.lineWidth=xe,this.lineJoin=Ee;var At=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xe=Ue===1?this.posY+this.margin[0]:this.margin[0],Jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=Ue===1?0:Jt+(Ue-2)*gt;if(this.ctx.clip_path.length!==0){var qt=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(J,this.posX+this.margin[3],-st+Xe+this.ctx.prevPageLastElemOffset),B.call(this,F,!0),this.path=qt}if(ie=JSON.parse(JSON.stringify(Le)),this.path=S(ie,this.posX+this.margin[3],-st+Xe+this.ctx.prevPageLastElemOffset),X===!1||Ue===0){var St=(Ue>Ne||Ue<$e)&&y.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],At,gt,null).clip().discardPath()),B.call(this,F,X),St&&this.pdf.restoreGraphicsState()}this.lineWidth=me}else this.lineWidth=xe,B.call(this,F,X),this.lineWidth=me;this.path=Le},B=function(F,X){if((F!=="stroke"||X||!b.call(this))&&(F==="stroke"||X||!d.call(this))){for(var J,ie,oe=[],re=this.path,ge=0;ge<re.length;ge++){var me=re[ge];switch(me.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:me,deltas:[],abs:[]});break;case"lt":var xe=oe.length;if(re[ge-1]&&!isNaN(re[ge-1].x)&&(J=[me.x-re[ge-1].x,me.y-re[ge-1].y],xe>0)){for(;xe>=0;xe--)if(oe[xe-1].close!==!0&&oe[xe-1].begin!==!0){oe[xe-1].deltas.push(J),oe[xe-1].abs.push(me);break}}break;case"bct":J=[me.x1-re[ge-1].x,me.y1-re[ge-1].y,me.x2-re[ge-1].x,me.y2-re[ge-1].y,me.x-re[ge-1].x,me.y-re[ge-1].y],oe[oe.length-1].deltas.push(J);break;case"qct":var Ee=re[ge-1].x+2/3*(me.x1-re[ge-1].x),Le=re[ge-1].y+2/3*(me.y1-re[ge-1].y),Fe=me.x+2/3*(me.x1-me.x),Se=me.y+2/3*(me.y1-me.y),ne=me.x,wt=me.y;J=[Ee-re[ge-1].x,Le-re[ge-1].y,Fe-re[ge-1].x,Se-re[ge-1].y,ne-re[ge-1].x,wt-re[ge-1].y],oe[oe.length-1].deltas.push(J);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(me)}}ie=X?null:F==="stroke"?"stroke":"fill";for(var pt=!1,tt=0;tt<oe.length;tt++)if(oe[tt].arc)for(var Ne=oe[tt].abs,$e=0;$e<Ne.length;$e++){var Ue=Ne[$e];Ue.type==="arc"?N.call(this,Ue.x,Ue.y,Ue.radius,Ue.startAngle,Ue.endAngle,Ue.counterclockwise,void 0,X,!pt):M.call(this,Ue.x,Ue.y),pt=!0}else if(oe[tt].close===!0)this.pdf.internal.out("h"),pt=!1;else if(oe[tt].begin!==!0){var At=oe[tt].start.x,Xe=oe[tt].start.y;W.call(this,oe[tt].deltas,At,Xe),pt=!0}ie&&P.call(this,ie),X&&j.call(this)}},G=function(F){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-J;case"top":return F+X-J;case"hanging":return F+X-2*J;case"middle":return F+X/2-J;default:return F}},D=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(X,J){this.colorStops.push([X,J])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function(F,X,J,ie,oe,re,ge,me,xe){for(var Ee=ce.call(this,J,ie,oe,re),Le=0;Le<Ee.length;Le++){var Fe=Ee[Le];Le===0&&(xe?I.call(this,Fe.x1+F,Fe.y1+X):M.call(this,Fe.x1+F,Fe.y1+X)),ae.call(this,F,X,Fe.x2,Fe.y2,Fe.x3,Fe.y3,Fe.x4,Fe.y4)}me?j.call(this):P.call(this,ge)},P=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},j=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(F,X){this.pdf.internal.out(n(F)+" "+r(X)+" m")},L=function(F){var X;switch(F.align){case"right":case"end":X="right";break;case"center":X="center";break;default:X="left"}var J=this.pdf.getTextDimensions(F.text),ie=G.call(this,F.y),oe=D.call(this,ie)-J.h,re=this.ctx.transform.applyToPoint(new o(F.x,ie)),ge=this.ctx.transform.decompose(),me=new l;me=(me=(me=me.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale);for(var xe,Ee,Le,Fe=this.ctx.transform.applyToRectangle(new a(F.x,ie,J.w,J.h)),Se=me.applyToRectangle(new a(F.x,oe,J.w,J.h)),ne=_.call(this,Se),wt=[],pt=0;pt<ne.length;pt+=1)wt.indexOf(ne[pt])===-1&&wt.push(ne[pt]);if(E(wt),this.autoPaging)for(var tt=wt[0],Ne=wt[wt.length-1],$e=tt;$e<Ne+1;$e++){this.pdf.setPage($e);var Ue=$e===1?this.posY+this.margin[0]:this.margin[0],At=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[2],Jt=Xe-this.margin[0],gt=this.pdf.internal.pageSize.width-this.margin[1],st=gt-this.margin[3],qt=$e===1?0:At+($e-2)*Jt;if(this.ctx.clip_path.length!==0){var St=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(xe,this.posX+this.margin[3],-1*qt+Ue),B.call(this,"fill",!0),this.path=St}var ot=S([JSON.parse(JSON.stringify(Se))],this.posX+this.margin[3],-qt+Ue+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*F.scale),Le=this.lineWidth,this.lineWidth=Le*F.scale);var mt=this.autoPaging!=="text";if(mt||ot.y+ot.h<=Xe){if(mt||ot.y>=Ue&&ot.x<=gt){var it=mt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||gt-ot.x)[0],ln=S([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-qt+Ue+this.ctx.prevPageLastElemOffset)[0],Vt=mt&&($e>tt||$e<Ne)&&y.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,Jt,null).clip().discardPath()),this.pdf.text(it,ln.x,ln.y,{angle:F.angle,align:X,renderingMode:F.renderingMode}),Vt&&this.pdf.restoreGraphicsState()}}else ot.y<Xe&&(this.ctx.prevPageLastElemOffset+=Xe-ot.y);F.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=Le)}else F.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*F.scale),Le=this.lineWidth,this.lineWidth=Le*F.scale),this.pdf.text(F.text,re.x+this.posX,re.y+this.posY,{angle:F.angle,align:X,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=Le)},M=function(F,X,J,ie){J=J||0,ie=ie||0,this.pdf.internal.out(n(F+J)+" "+r(X+ie)+" l")},W=function(F,X,J){return this.pdf.lines(F,X,J,null,null)},ae=function(F,X,J,ie,oe,re,ge,me){this.pdf.internal.out([e(i(J+F)),e(s(ie+X)),e(i(oe+F)),e(s(re+X)),e(i(ge+F)),e(s(me+X)),"c"].join(" "))},ce=function(F,X,J,ie){for(var oe=2*Math.PI,re=Math.PI/2;X>J;)X-=oe;var ge=Math.abs(J-X);ge<oe&&ie&&(ge=oe-ge);for(var me=[],xe=ie?-1:1,Ee=X;ge>1e-5;){var Le=Ee+xe*Math.min(ge,re);me.push(le.call(this,F,Ee,Le)),ge-=Math.abs(Le-Ee),Ee=Le}return me},le=function(F,X,J){var ie=(J-X)/2,oe=F*Math.cos(ie),re=F*Math.sin(ie),ge=oe,me=-re,xe=ge*ge+me*me,Ee=xe+ge*oe+me*re,Le=4/3*(Math.sqrt(2*xe*Ee)-Ee)/(ge*re-me*oe),Fe=ge-Le*me,Se=me+Le*ge,ne=Fe,wt=-Se,pt=ie+X,tt=Math.cos(pt),Ne=Math.sin(pt);return{x1:F*Math.cos(X),y1:F*Math.sin(X),x2:Fe*tt-Se*Ne,y2:Fe*Ne+Se*tt,x3:ne*tt-wt*Ne,y3:ne*Ne+wt*tt,x4:F*Math.cos(J),y4:F*Math.sin(J)}},Y=function(F){return 180*F/Math.PI},Q=function(F,X,J,ie,oe,re){var ge=F+.5*(J-F),me=X+.5*(ie-X),xe=oe+.5*(J-oe),Ee=re+.5*(ie-re),Le=Math.min(F,oe,ge,xe),Fe=Math.max(F,oe,ge,xe),Se=Math.min(X,re,me,Ee),ne=Math.max(X,re,me,Ee);return new a(Le,Se,Fe-Le,ne-Se)},fe=function(F,X,J,ie,oe,re,ge,me){var xe,Ee,Le,Fe,Se,ne,wt,pt,tt,Ne,$e,Ue,At,Xe,Jt=J-F,gt=ie-X,st=oe-J,qt=re-ie,St=ge-oe,ot=me-re;for(Ee=0;Ee<41;Ee++)tt=(wt=(Le=F+(xe=Ee/40)*Jt)+xe*((Se=J+xe*st)-Le))+xe*(Se+xe*(oe+xe*St-Se)-wt),Ne=(pt=(Fe=X+xe*gt)+xe*((ne=ie+xe*qt)-Fe))+xe*(ne+xe*(re+xe*ot-ne)-pt),Ee==0?($e=tt,Ue=Ne,At=tt,Xe=Ne):($e=Math.min($e,tt),Ue=Math.min(Ue,Ne),At=Math.max(At,tt),Xe=Math.max(Xe,Ne));return new a(Math.round($e),Math.round(Ue),Math.round(At-$e),Math.round(Xe-Ue))},ye=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,X,J=(F=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:X}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(ht.API),function(t){var e=function(o){var a,l,c,u,h,p,d,b,y,_;for(l=[],c=0,u=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;u>c;c+=4)(h=(o.charCodeAt(c)<<24)+(o.charCodeAt(c+1)<<16)+(o.charCodeAt(c+2)<<8)+o.charCodeAt(c+3))!==0?(p=(h=((h=((h=((h=(h-(_=h%85))/85)-(y=h%85))/85)-(b=h%85))/85)-(d=h%85))/85)%85,l.push(p+33,d+33,b+33,y+33,_+33)):l.push(122);return function(w,S){for(var E=S;E>0;E--)w.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(o){var a,l,c,u,h,p=String,d="length",b=255,y="charCodeAt",_="slice",w="replace";for(o[_](-2),o=o[_](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),c=[],u=0,h=(o+=a="uuuuu"[_](o[d]%5||5))[d];h>u;u+=5)l=52200625*(o[y](u)-33)+614125*(o[y](u+1)-33)+7225*(o[y](u+2)-33)+85*(o[y](u+3)-33)+(o[y](u+4)-33),c.push(b&l>>24,b&l>>16,b&l>>8,b&l);return function(S,E){for(var k=E;k>0;k--)S.pop()}(c,a[d]),p.fromCharCode.apply(p,c)},r=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",c=0;c<o.length;c+=2)l+=String.fromCharCode("0x"+(o[c]+o[c+1]));return l},s=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=Mx(a)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(o,a){var l=0,c=o||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(ht.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,u){var h=new XMLHttpRequest,p=0,d=function(b){var y=b.length,_=[],w=String.fromCharCode;for(p=0;p<y;p+=1)_.push(w(255&b.charCodeAt(p)));return _.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?u(d(this.responseText)):u(void 0)}),h.send(null),c&&h.status===200)return d(h.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(ht.API),function(t){function e(){return(Pt.html2canvas?Promise.resolve(Pt.html2canvas):B_(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(Pt.DOMPurify?Promise.resolve(Pt.DOMPurify):B_(()=>import("./purify.es-sOfw8HaZ.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=wn(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var c=document.createElement(a);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},s=function a(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),h=l.firstChild;h;h=h.nextSibling)c!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||u.appendChild(a(h,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},o=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),c);return(u=u.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var d=0;d<u.length;++d){var b=u[d],y=b.src.find(function(_){return _.format==="truetype"});y&&c.addFont(y.url,b.ref.name,b.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in o.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var c=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},o.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(a=a||ht.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,c,u){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,c,u){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(u,h){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,u),p}).then(u,h).then(function(p){return c.updateProgress(1),p})})},o.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then;var u=this;a&&(a=a.bind(u)),l&&(l=l.bind(u));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),p=c.call(h,a,l);return o.convert(p,u.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ht.getPageSize=function(a,l,c){if(wn(a)==="object"){var u=a;a=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var h,p=(""+c).toLowerCase(),d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var b,y=0,_=0;if(d.hasOwnProperty(p))y=d[p][1]/h,_=d[p][0]/h;else try{y=c[1],_=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",_>y&&(b=_,_=y,y=b);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",y>_&&(b=_,_=y,y=b)}return{width:_,height:y,unit:l,k:h,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(h5):null;var c=new o(l);return l.worker?c:c.from(a).doCallback()}}(ht.API),ht.API.addJS=function(t){return qk=t,this.internal.events.subscribe("postPutResources",function(){C1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(C1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),$k=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+qk+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){C1!==void 0&&$k!==void 0&&this.internal.out("/Names <</JavaScript "+C1+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var h=n.internal.newObject();u.push(h);var p=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var d=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<u.length;s++)n.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+d+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(ht.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(h){for(var p,d=256*h.charCodeAt(4)+h.charCodeAt(5),b=h.length,y={width:0,height:0,numcomponents:1},_=4;_<b;_+=2){if(_+=d,e.indexOf(h.charCodeAt(_+1))!==-1){p=256*h.charCodeAt(_+5)+h.charCodeAt(_+6),y={width:256*h.charCodeAt(_+7)+h.charCodeAt(_+8),height:p,numcomponents:h.charCodeAt(_+9)};break}d=256*h.charCodeAt(_+2)+h.charCodeAt(_+3)}return y}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(ht.API),ht.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=Bge(t,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,c=s.palette,u=s.depth;i=c&&l===1?function(N){for(var P=N.width,j=N.height,I=N.data,L=N.palette,M=N.depth,W=!1,ae=[],ce=[],le=void 0,Y=!1,Q=0,fe=0;fe<L.length;fe++){var ye=F3(L[fe],4),F=ye[0],X=ye[1],J=ye[2],ie=ye[3];ae.push(F,X,J),ie!=null&&(ie===0?(Q++,ce.length<1&&ce.push(fe)):ie<255&&(Y=!0))}if(Y||Q>1){W=!0,ce=void 0;var oe=P*j;le=new Uint8Array(oe);for(var re=new DataView(I.buffer),ge=0;ge<oe;ge++){var me=f5(re,ge,M),xe=F3(L[me],4)[3];le[ge]=xe}}else Q===0&&(ce=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:W?8:void 0,colorBytes:I,alphaBytes:le,needSMask:W,palette:ae,mask:ce}}(s):l===2||l===4?function(N){for(var P=N.data,j=N.width,I=N.height,L=N.channels,M=N.depth,W=L===2?"DeviceGray":"DeviceRGB",ae=L-1,ce=j*I,le=ae,Y=ce*le,Q=1*ce,fe=Math.ceil(Y*M/8),ye=Math.ceil(Q*M/8),F=new Uint8Array(fe),X=new Uint8Array(ye),J=new DataView(P.buffer),ie=new DataView(F.buffer),oe=new DataView(X.buffer),re=!1,ge=0;ge<ce;ge++){for(var me=ge*L,xe=0;xe<le;xe++)Zk(ie,f5(J,me+xe,M),ge*le+xe,M);var Ee=f5(J,me+le,M);Ee<(1<<M)-1&&(re=!0),Zk(oe,Ee,1*ge,M)}return{colorSpace:W,colorsPerPixel:ae,sMaskBitsPerComponent:re?M:void 0,colorBytes:F,alphaBytes:X,needSMask:re}}(s):function(N){var P=N.data,j=N.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:j,colorsPerPixel:j==="DeviceGray"?1:3,colorBytes:P instanceof Uint16Array?function(I){for(var L=I.length,M=new Uint8Array(2*L),W=new DataView(M.buffer,M.byteOffset,M.byteLength),ae=0;ae<L;ae++)W.setUint16(2*ae,I[ae],!1);return M}(P):P,needSMask:!1}}(s);var h,p,d,b=i,y=b.colorSpace,_=b.colorsPerPixel,w=b.sMaskBitsPerComponent,S=b.colorBytes,E=b.alphaBytes,k=b.needSMask,B=b.palette,G=b.mask,D=null;return r!==ht.API.image_compression.NONE&&typeof Mx=="function"?(D=function(N){var P;switch(N){case ht.API.image_compression.FAST:P=11;break;case ht.API.image_compression.MEDIUM:P=13;break;case ht.API.image_compression.SLOW:P=14;break;default:P=12}return P}(r),h=this.decode.FLATE_DECODE,p="/Predictor ".concat(D," /Colors ").concat(_," /BitsPerComponent ").concat(u," /Columns ").concat(o),t=Kk(S,Math.ceil(o*_*u/8),_,u,r),k&&(d=Kk(E,Math.ceil(o*w/8),1,w,r))):(h=void 0,p=void 0,t=S,k&&(d=E)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(d&&this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),{alias:n,data:t,index:e,filter:h,decodeParameters:p,transparency:G,palette:B,sMask:d,predictor:D,width:o,height:a,bitsPerComponent:u,sMaskBitsPerComponent:w,colorSpace:y}}},function(t){t.processGIF89A=function(e,n,r,i){var s=new l0e(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new p5(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)},t.processGIF87A=t.processGIF89A}(ht.API),Lo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Lo.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Pn.log("bit decode error:"+n)}},Lo.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Lo.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Lo.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Lo.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=t}},Lo.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=t}},Lo.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Lo.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Lo.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Lo(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new p5(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(ht.API),tR.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new tR(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new p5(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(ht.API),ht.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var u=r[c],h=r[c+1],p=r[c+2],d=r[c+3];s[a++]=u,s[a++]=h,s[a++]=p,o[l++]=d}var b=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:b,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ht.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Td=ht.API,N1=Td.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=e.doKerning!==!1,p=0,d=t.length,b=0,y=a[0]||l,_=[];for(n=0;n<d;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?_.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(p=h&&wn(c[r])==="object"&&!isNaN(parseInt(c[r][b],10))?c[r][b]/u:0,_.push((a[r]||y)/l+p)),b=r;return _},Hk=Td.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Td.processArabic&&(t=Td.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:N1.apply(this,arguments).reduce(function(s,o){return s+o},0)},Wk=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},Gk=function(t,e,n){n||(n={});var r,i,s,o,a,l,c,u=[],h=[u],p=n.textIndent||0,d=0,b=0,y=t.split(" "),_=N1.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?y[0].length+2:n.lineIndent||0){var w=Array(l).join(" "),S=[];y.map(function(k){(k=k.split(/\s*\n/)).length>1?S=S.concat(k.map(function(B,G){return(G&&B.length?`
`:"")+B})):S.push(k[0])}),y=S,l=Hk.apply(this,[w,n])}for(s=0,o=y.length;s<o;s++){var E=0;if(r=y[s],l&&r[0]==`
`&&(r=r.substr(1),E=1),p+d+(b=(i=N1.apply(this,[r,n])).reduce(function(k,B){return k+B},0))>e||E){if(b>e){for(a=Wk.apply(this,[r,i,e-(p+d),e]),u.push(a.shift()),u=[a.pop()];a.length;)h.push([a.shift()]);b=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(k,B){return k+B},0)}else u=[r];h.push(u),p=b+l,d=_}else u.push(r),p+=d+b,d=_}return c=l?function(k,B){return(B?w:"")+k.join(" ")}:function(k){return k.join(" ")},h.map(c)},Td.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle),p="Unicode";return h.metadata[p]?{widths:h.metadata[p].widths||{0:1},kerning:h.metadata[p].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(Gk.apply(this,[r[a],o,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var o=function(p){return"0x"+parseInt(p,10).toString(16)},a=t.__fontmetrics__.compress=function(p){var d,b,y,_,w=["{"];for(var S in p){if(d=p[S],isNaN(parseInt(S,10))?b="'"+S+"'":(S=parseInt(S,10),b=(b=o(S).slice(2)).slice(0,-1)+i[b.slice(-1)]),typeof d=="number")d<0?(y=o(d).slice(3),_="-"):(y=o(d).slice(2),_=""),y=_+y.slice(0,-1)+i[y.slice(-1)];else{if(wn(d)!=="object")throw new Error("Don't know what to do with value type "+wn(d)+".");y=a(d)}w.push(b+y)}return w.push("}"),w.join("")},l=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var d,b,y,_,w={},S=1,E=w,k=[],B="",G="",D=p.length-1,N=1;N<D;N+=1)(_=p[N])=="'"?d?(y=d.join(""),d=void 0):d=[]:d?d.push(_):_=="{"?(k.push([E,y]),E={},y=void 0):_=="}"?((b=k.pop())[0][b[1]]=E,y=void 0,E=b[0]):_=="-"?S=-1:y===void 0?r.hasOwnProperty(_)?(B+=r[_],y=parseInt(B,16)*S,S=1,B=""):B+=_:r.hasOwnProperty(_)?(G+=r[_],E[y]=parseInt(G,16)*S,S=1,y=void 0,G=""):G+=_;return w},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var d=p.font,b=h.Unicode[d.postScriptName];b&&(d.metadata.Unicode={},d.metadata.Unicode.widths=b.widths,d.metadata.Unicode.kerning=b.kerning);var y=u.Unicode[d.postScriptName];y&&(d.metadata.Unicode.encoding=y,d.encoding=y.codePages[0])}])}(ht.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(dy(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(ht),ht.API.addSvgAsImage=function(t,e,n,r,i,s,o,a){if(isNaN(e)||isNaN(n))throw Pn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Pn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Pt.canvg?Promise.resolve(Pt.canvg):B_(()=>import("./index.es-C3EbiPkU.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(u)}).then(function(){h.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,o,a)})},ht.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ht.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,h=0;function p(b,y){var _,w=!1;for(_=0;_<b.length;_+=1)b[_]===y&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var d=a.length;for(h=0;h<d;h+=1)n[a[h]].value=n[a[h]].defaultValue,n[a[h]].explicitSet=!1}if(wn(t)==="object"){for(i in t)if(s=t[i],p(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&p(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,y=[];for(b in n)n[b].explicitSet===!0&&(n[b].type==="name"?y.push("/"+b+" /"+n[b].value):y.push("/"+b+" "+n[b].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(ht.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],h=0,p=s.length;h<p;++h){if(a=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(h),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(s){var o,a,l,c,u,h,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,p=(a=Object.keys(s).sort(function(d,b){return d-b})).length;h<p;h++)o=a[h],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,p=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),d="",b=0;b<p.length;b++)d+=String.fromCharCode(p[b]);var y=c();u({data:d,addLength1:!0,objectId:y}),l("endobj");var _=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var w=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Rd(a.fontName)),l("/FontFile2 "+y+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var S=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Rd(a.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+_+" 0 R"),l("/BaseFont /"+Rd(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+S+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,p="",d=0;d<h.length;d++)p+=String.fromCharCode(h[d]);var b=c();u({data:p,addLength1:!0,objectId:b}),l("endobj");var y=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var _=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+b+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Rd(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var w=0;w<a.metadata.hmtx.widths.length;w++)a.metadata.hmtx.widths[w]=parseInt(a.metadata.hmtx.widths[w]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+Rd(a.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},h=s.mutex||{},p=h.pdfEscape,d=h.activeFontKey,b=h.fonts,y=d,_="",w=0,S="",E=b[y].encoding;if(b[y].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:h};for(S=a,y=d,Array.isArray(a)&&(S=a[0]),w=0;w<S.length;w+=1)b[y].metadata.hasOwnProperty("cmap")&&(o=b[y].metadata.cmap.unicode.codeMap[S[w].charCodeAt(0)]),o||S[w].charCodeAt(0)<256&&b[y].metadata.hasOwnProperty("Unicode")?_+=S[w]:_+="";var k="";return parseInt(y.slice(1))<14||E==="WinAnsiEncoding"?k=p(_,y).split("").map(function(B){return B.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(k=n(_,b[y])),h.isHex=!0,{text:k,x:l,y:c,options:u,mutex:h}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(ht),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ht.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,u,h=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,E=0;this.__bidiEngine__={};var k=function(I){var L=I.charCodeAt(),M=L>>8,W=y[M];return W!==void 0?h[256*W+(255&L)]:M===252||M===253?"AL":w.test(M)?"L":M===8?"R":"N"},B=function(I){for(var L,M=0;M<I.length;M++){if((L=k(I.charAt(M)))==="L")return!1;if(L==="R")return!0}return!1},G=function(I,L,M,W){var ae,ce,le,Y,Q=L[W];switch(Q){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"N":case"AN":break;case"EN":S&&(Q="AN");break;case"AL":S=!0,Q="R";break;case"WS":case"BN":Q="N";break;case"CS":W<1||W+1>=L.length||(ae=M[W-1])!=="EN"&&ae!=="AN"||(ce=L[W+1])!=="EN"&&ce!=="AN"?Q="N":S&&(ce="AN"),Q=ce===ae?ce:"N";break;case"ES":Q=(ae=W>0?M[W-1]:"B")==="EN"&&W+1<L.length&&L[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&M[W-1]==="EN"){Q="EN";break}if(S){Q="N";break}for(le=W+1,Y=L.length;le<Y&&L[le]==="ET";)le++;Q=le<Y&&L[le]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(Y=L.length,le=W+1;le<Y&&L[le]==="NSM";)le++;if(le<Y){var fe=I[W],ye=fe>=1425&&fe<=2303||fe===64286;if(ae=L[le],ye&&(ae==="R"||ae==="AL")){Q="R";break}}}Q=W<1||(ae=L[W-1])==="B"?"N":M[W-1];break;case"B":S=!1,i=!0,Q=E;break;case"S":s=!0,Q="N"}return Q},D=function(I,L,M){var W=I.split("");return M&&N(W,M,{hiLevel:E}),W.reverse(),L&&L.reverse(),W.join("")},N=function(I,L,M){var W,ae,ce,le,Y,Q=-1,fe=I.length,ye=0,F=[],X=E?d:p,J=[];for(S=!1,i=!1,s=!1,ae=0;ae<fe;ae++)J[ae]=k(I[ae]);for(ce=0;ce<fe;ce++){if(Y=ye,F[ce]=G(I,J,F,ce),W=240&(ye=X[Y][b[F[ce]]]),ye&=15,L[ce]=le=X[ye][5],W>0)if(W===16){for(ae=Q;ae<ce;ae++)L[ae]=1;Q=-1}else Q=-1;if(X[ye][6])Q===-1&&(Q=ce);else if(Q>-1){for(ae=Q;ae<ce;ae++)L[ae]=le;Q=-1}J[ce]==="B"&&(L[ce]=0),M.hiLevel|=le}s&&function(ie,oe,re){for(var ge=0;ge<re;ge++)if(ie[ge]==="S"){oe[ge]=E;for(var me=ge-1;me>=0&&ie[me]==="WS";me--)oe[me]=E}}(J,L,fe)},P=function(I,L,M,W,ae){if(!(ae.hiLevel<I)){if(I===1&&E===1&&!i)return L.reverse(),void(M&&M.reverse());for(var ce,le,Y,Q,fe=L.length,ye=0;ye<fe;){if(W[ye]>=I){for(Y=ye+1;Y<fe&&W[Y]>=I;)Y++;for(Q=ye,le=Y-1;Q<le;Q++,le--)ce=L[Q],L[Q]=L[le],L[le]=ce,M&&(ce=M[Q],M[Q]=M[le],M[le]=ce);ye=Y}ye++}}},j=function(I,L,M){var W=I.split(""),ae={hiLevel:E};return M||(M=[]),N(W,M,ae),function(ce,le,Y){if(Y.hiLevel!==0&&u)for(var Q,fe=0;fe<ce.length;fe++)le[fe]===1&&(Q=_.indexOf(ce[fe]))>=0&&(ce[fe]=_[Q+1])}(W,M,ae),P(2,W,L,M,ae),P(1,W,L,M,ae),W.join("")};return this.__bidiEngine__.doBidiReorder=function(I,L,M){if(function(ae,ce){if(ce)for(var le=0;le<ae.length;le++)ce[le]=le;a===void 0&&(a=B(ae)),c===void 0&&(c=B(ae))}(I,L),o||!l||c)if(o&&l&&a^c)E=a?1:0,I=D(I,L,M);else if(!o&&l&&c)E=a?1:0,I=j(I,L,M),I=D(I,L);else if(!o||a||l||c){if(o&&!l&&a^c)I=D(I,L),a?(E=0,I=j(I,L,M)):(E=1,I=j(I,L,M),I=D(I,L));else if(o&&a&&!l&&c)E=1,I=j(I,L,M),I=D(I,L);else if(!o&&!l&&a^c){var W=u;a?(E=1,I=j(I,L,M),E=0,u=!1,I=j(I,L,M),u=W):(E=0,I=j(I,L,M),I=D(I,L),E=1,u=!1,I=j(I,L,M),u=W,I=D(I,L))}}else E=0,I=j(I,L,M);else E=a?1:0,I=j(I,L,M);return I},this.__bidiEngine__.setOptions=function(I){I&&(o=I.isInputVisual,l=I.isOutputVisual,a=I.isInputRtl,c=I.isOutputRtl,u=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ht),ht.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new vu(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new S0e(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new c0e(this.contents),this.head=new h0e(this),this.name=new g0e(this),this.cmap=new OU(this),this.toUnicode={},this.hhea=new d0e(this),this.maxp=new y0e(this),this.hmtx=new v0e(this),this.post=new p0e(this),this.os2=new f0e(this),this.loca=new x0e(this),this.glyf=new w0e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var na,vu=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),c0e=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,c,u,h,p,d,b,y;for(y in d=Object.keys(n).length,l=Math.log(2),h=16*Math.floor(Math.log(d)/l),o=Math.floor(h/l),u=16*d-h,(i=new vu).writeInt(this.scalarType),i.writeShort(d),i.writeShort(h),i.writeShort(o),i.writeShort(u),s=16*d,c=i.pos+s,a=null,b=[],n)for(p=n[y],i.writeString(y),i.writeInt(t(p)),i.writeInt(c),i.writeInt(p.length),b=b.concat(p),y==="head"&&(a=c),c+=p.length;c%4;)b.push(0),c++;return i.write(b),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=jU.call(n);n.length%4;)n.push(0);for(s=new vu(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),u0e={}.hasOwnProperty,Ka=function(t,e){for(var n in e)u0e.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};na=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var h0e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ka(t,na),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new vu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),nR=function(){function t(e,n){var r,i,s,o,a,l,c,u,h,p,d,b,y,_,w,S,E;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(d=e.readUInt16(),p=d/2,e.pos+=6,s=function(){var k,B;for(B=[],l=k=0;0<=p?k<p:k>p;l=0<=p?++k:--k)B.push(e.readUInt16());return B}(),e.pos+=2,y=function(){var k,B;for(B=[],l=k=0;0<=p?k<p:k>p;l=0<=p?++k:--k)B.push(e.readUInt16());return B}(),c=function(){var k,B;for(B=[],l=k=0;0<=p?k<p:k>p;l=0<=p?++k:--k)B.push(e.readUInt16());return B}(),u=function(){var k,B;for(B=[],l=k=0;0<=p?k<p:k>p;l=0<=p?++k:--k)B.push(e.readUInt16());return B}(),i=(this.length-e.pos+this.offset)/2,a=function(){var k,B;for(B=[],l=k=0;0<=i?k<i:k>i;l=0<=i?++k:--k)B.push(e.readUInt16());return B}(),l=w=0,E=s.length;w<E;l=++w)for(_=s[l],r=S=b=y[l];b<=_?S<=_:S>=_;r=b<=_?++S:--S)u[l]===0?o=r+c[l]:(o=a[u[l]/2+(r-b)-(p-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=h}return t.encode=function(e,n){var r,i,s,o,a,l,c,u,h,p,d,b,y,_,w,S,E,k,B,G,D,N,P,j,I,L,M,W,ae,ce,le,Y,Q,fe,ye,F,X,J,ie,oe,re,ge,me,xe,Ee,Le;switch(W=new vu,o=Object.keys(e).sort(function(Fe,Se){return Fe-Se}),n){case"macroman":for(y=0,_=function(){var Fe=[];for(b=0;b<256;++b)Fe.push(0);return Fe}(),S={0:0},s={},ae=0,Q=o.length;ae<Q;ae++)S[me=e[i=o[ae]]]==null&&(S[me]=++y),s[i]={old:e[i],new:S[e[i]]},_[i]=S[e[i]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(_),{charMap:s,subtable:W.data,maxGlyphID:y+1};case"unicode":for(L=[],h=[],E=0,S={},r={},w=c=null,ce=0,fe=o.length;ce<fe;ce++)S[B=e[i=o[ce]]]==null&&(S[B]=++E),r[i]={old:B,new:S[B]},a=S[B]-i,w!=null&&a===c||(w&&h.push(w),L.push(i),c=a),w=i;for(w&&h.push(w),h.push(65535),L.push(65535),j=2*(P=L.length),N=2*Math.pow(Math.log(P)/Math.LN2,2),p=Math.log(N/2)/Math.LN2,D=2*P-N,l=[],G=[],d=[],b=le=0,ye=L.length;le<ye;b=++le){if(I=L[b],u=h[b],I===65535){l.push(0),G.push(0);break}if(I-(M=r[I].new)>=32768)for(l.push(0),G.push(2*(d.length+P-b)),i=Y=I;I<=u?Y<=u:Y>=u;i=I<=u?++Y:--Y)d.push(r[i].new);else l.push(M-I),G.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*P+2*d.length),W.writeUInt16(0),W.writeUInt16(j),W.writeUInt16(N),W.writeUInt16(p),W.writeUInt16(D),re=0,F=h.length;re<F;re++)i=h[re],W.writeUInt16(i);for(W.writeUInt16(0),ge=0,X=L.length;ge<X;ge++)i=L[ge],W.writeUInt16(i);for(xe=0,J=l.length;xe<J;xe++)a=l[xe],W.writeUInt16(a);for(Ee=0,ie=G.length;Ee<ie;Ee++)k=G[Ee],W.writeUInt16(k);for(Le=0,oe=d.length;Le<oe;Le++)y=d[Le],W.writeUInt16(y);return{charMap:r,subtable:W.data,maxGlyphID:E+1}}},t}(),OU=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ka(t,na),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new nR(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=nR.encode(e,n),(i=new vu).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),d0e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ka(t,na),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),f0e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ka(t,na),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),p0e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ka(t,na),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(e.readUInt32());return l}).call(this)}},t}(),m0e=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},g0e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ka(t,na),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,s,o,a,l,c,u,h,p;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},s=u=0,h=r.length;u<h;s=++u)i=r[s],e.pos=i.offset,c=e.readString(i.length),o=new m0e(c,i),l[p=i.nameID]==null&&(l[p]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),y0e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ka(t,na),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),v0e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ka(t,na),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,o,a,l;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)u.push(e.readInt16());return u}(),this.widths=(function(){var c,u,h,p;for(p=[],c=0,u=(h=this.metrics).length;c<u;c++)s=h[c],p.push(s.advance);return p}).call(this),r=this.widths[this.widths.length-1],l=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),jU=[].slice,w0e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ka(t,na),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,o,a,l,c,u,h;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,o=(a=new vu(n.read(i))).readShort(),c=a.readShort(),h=a.readShort(),l=a.readShort(),u=a.readShort(),this.cache[e]=o===-1?new b0e(a,c,h,l,u):new _0e(a,o,c,h,l,u),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,o,a,l;for(o=[],s=[],a=0,l=n.length;a<l;a++)i=e[n[a]],s.push(o.length),i&&(o=o.concat(i.encode(r)));return s.push(o.length),{table:o,offsets:s}},t}(),_0e=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),b0e=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new vu(jU.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),x0e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ka(t,na),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<r.length;++o)if(r[o]=i,s<n.length&&n[s]==o){++s,r[o]=i;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(i+=l)}for(var c=new Array(4*r.length),u=0;u<r.length;++u)c[4*u+3]=255&r[u],c[4*u+2]=(65280&r[u])>>8,c[4*u+1]=(16711680&r[u])>>16,c[4*u]=(4278190080&r[u])>>24;return c},t}(),S0e=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,c,u,h,p,d,b,y,_,w;for(i in r=OU.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),d={0:0},w=r.charMap)d[(l=w[i]).old]=l.new;for(b in p=r.maxGlyphID,o)b in d||(d[b]=p++);return u=function(S){var E,k;for(E in k={},S)k[S[E]]=E;return k}(d),h=Object.keys(u).sort(function(S,E){return S-E}),y=function(){var S,E,k;for(k=[],S=0,E=h.length;S<E;S++)a=h[S],k.push(u[a]);return k}(),s=this.font.glyf.encode(o,y,d),c=this.font.loca.encode(s.offsets,y),_={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},t}();ht.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)r=n[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();const E0e=async t=>{const e=new ht({orientation:"landscape",unit:"mm",format:"a4"}),n=e.internal.pageSize.getWidth(),r=e.internal.pageSize.getHeight();e.setFillColor(240,240,250),e.rect(0,0,n,r,"F"),e.setDrawColor(139,92,246),e.setLineWidth(2),e.rect(10,10,n-20,r-20),e.setDrawColor(167,139,250),e.setLineWidth(.5),e.rect(12,12,n-24,r-24),e.setFillColor(139,92,246),e.circle(n/2,30,8,"F"),e.setTextColor(255,255,255),e.setFontSize(16),e.setFont("helvetica","bold"),e.text("FDP",n/2,32,{align:"center"}),e.setTextColor(139,92,246),e.setFontSize(36),e.setFont("helvetica","bold"),e.text("CERTIFICATE OF ACHIEVEMENT",n/2,55,{align:"center"}),e.setTextColor(100,100,120),e.setFontSize(12),e.setFont("helvetica","normal"),e.text("This is to certify that",n/2,70,{align:"center"}),e.setTextColor(30,30,50),e.setFontSize(28),e.setFont("helvetica","bold"),e.text(t.facultyName.toUpperCase(),n/2,85,{align:"center"}),e.setTextColor(100,100,120),e.setFontSize(12),e.setFont("helvetica","normal"),e.text("has successfully completed",n/2,95,{align:"center"}),e.setTextColor(30,30,50),e.setFontSize(18),e.setFont("helvetica","bold");const i=n-60,s=e.splitTextToSize(t.activityTitle,i);e.text(s,n/2,105,{align:"center"});const o=105+s.length*7;return e.setFontSize(12),e.setFont("helvetica","normal"),e.setTextColor(100,100,120),e.text(`Activity Type: ${t.activityType} | Duration: ${t.duration}`,n/2,o+10,{align:"center"}),e.setFillColor(139,92,246),e.roundedRect(n/2-25,o+18,50,15,3,3,"F"),e.setTextColor(255,255,255),e.setFontSize(16),e.setFont("helvetica","bold"),e.text(`${t.score} Points`,n/2,o+28,{align:"center"}),e.setTextColor(100,100,120),e.setFontSize(10),e.setFont("helvetica","normal"),e.text(`Date: ${t.date}`,30,r-25),e.text(`Certificate ID: ${t.certificateId}`,n-30,r-25,{align:"right"}),e.setDrawColor(100,100,120),e.setLineWidth(.5),e.line(n/2-30,r-35,n/2+30,r-35),e.setFontSize(10),e.text("Authorized Signature",n/2,r-30,{align:"center"}),e.output("blob")},A0e=()=>{const{user:t}=Ga();C.useEffect(()=>{if(!t)return;const e=Oh(Wo(fr,"activities"),mu("userId","==",t.uid),mu("status","==","approved")),n=i0(e,async r=>{const i=xo(fr,"users",t.uid),o=(await O2(i)).data();for(const a of r.docs){const l=a.data(),c=a.id;if(!l.certificateUrl)try{const u={facultyName:(o==null?void 0:o.name)||"Faculty Member",activityTitle:l.title,activityType:l.type,duration:`${l.hours||0} hours`,date:new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),score:l.score||0,certificateId:`CERT-${c.substring(0,8).toUpperCase()}`},h=await E0e(u),p=`certificates/${t.uid}/${c}.pdf`,d=wA(TA,p);await yA(d,h);const b=await vA(d),y=xo(fr,"activities",c);await mv(y,{certificateUrl:b,certificateGeneratedAt:new Date().toISOString()}),_l({title:"🎉 Certificate Generated!",description:`Certificate for "${l.title}" is ready to download.`,duration:5e3})}catch(u){console.error("Error generating certificate:",u)}}});return()=>n()},[t])},T0e=()=>{const{user:t,loading:e}=Ga(),n=Su(),[r,i]=C.useState([]),[s,o]=C.useState({total:0,pending:0,approved:0,score:0}),[a,l]=C.useState(0);if(A0e(),C.useEffect(()=>{!e&&!t&&n("/auth")},[t,e,n]),C.useEffect(()=>{if(t){const h=Oh(Wo(fr,"activities"),mu("userId","==",t.uid)),p=i0(h,d=>{const b=d.docs.map(S=>({id:S.id,...S.data()}));b.sort((S,E)=>new Date(E.createdAt).getTime()-new Date(S.createdAt).getTime()),i(b);const y=b.filter(S=>S.status==="pending").length,_=b.filter(S=>S.status==="approved").length,w=b.filter(S=>S.status==="approved").reduce((S,E)=>S+(E.score||0),0);o({total:b.length,pending:y,approved:_,score:w})});return()=>p()}},[t]),C.useEffect(()=>{if(t){const h=Oh(Wo(fr,"eventRegistrations"),mu("userId","==",t.uid));lA(h).then(p=>{l(p.size)})}},[t]),e)return v.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."});const c=100,u=Math.min(s.score/c*100,100);return v.jsxs("div",{className:"min-h-screen bg-background",children:[v.jsx(zh,{}),v.jsxs("div",{className:"container mx-auto px-6 py-8",children:[v.jsxs(xn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[v.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Dashboard"}),v.jsx("p",{className:"text-muted-foreground",children:"Track your faculty development progress"})]}),v.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[v.jsx(xn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:v.jsxs(Sr,{className:"border-border/50 bg-gradient-to-br from-primary/10 to-primary/5",children:[v.jsxs(Rr,{className:"flex flex-row items-center justify-between pb-2",children:[v.jsx(Lr,{className:"text-sm font-medium",children:"Total Score"}),v.jsx(KS,{className:"w-4 h-4 text-primary"})]}),v.jsxs(Er,{children:[v.jsx("div",{className:"text-3xl font-bold text-primary",children:s.score}),v.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Target: ",c," points"]}),v.jsx(CV,{value:u,className:"mt-3"})]})]})}),v.jsx(xn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:v.jsxs(Sr,{className:"border-border/50 bg-gradient-to-br from-success/10 to-success/5",children:[v.jsxs(Rr,{className:"flex flex-row items-center justify-between pb-2",children:[v.jsx(Lr,{className:"text-sm font-medium",children:"Approved"}),v.jsx(n2,{className:"w-4 h-4 text-success"})]}),v.jsxs(Er,{children:[v.jsx("div",{className:"text-3xl font-bold text-success",children:s.approved}),v.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Activities approved"})]})]})}),v.jsx(xn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:v.jsxs(Sr,{className:"border-border/50 bg-gradient-to-br from-warning/10 to-warning/5",children:[v.jsxs(Rr,{className:"flex flex-row items-center justify-between pb-2",children:[v.jsx(Lr,{className:"text-sm font-medium",children:"Pending"}),v.jsx(tD,{className:"w-4 h-4 text-warning"})]}),v.jsxs(Er,{children:[v.jsx("div",{className:"text-3xl font-bold text-warning",children:s.pending}),v.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Awaiting review"})]})]})}),v.jsx(xn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:v.jsxs(Sr,{className:"border-border/50 bg-gradient-to-br from-secondary/10 to-secondary/5",children:[v.jsxs(Rr,{className:"flex flex-row items-center justify-between pb-2",children:[v.jsx(Lr,{className:"text-sm font-medium",children:"Total Activities"}),v.jsx(XS,{className:"w-4 h-4 text-secondary"})]}),v.jsxs(Er,{children:[v.jsx("div",{className:"text-3xl font-bold text-secondary",children:s.total}),v.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"All time"})]})]})})]}),v.jsx(xn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:v.jsxs(Sr,{className:"border-border/50",children:[v.jsxs(Rr,{children:[v.jsx(Lr,{children:"Quick Actions"}),v.jsx(yo,{children:"Add a new activity or view your progress"})]}),v.jsxs(Er,{className:"flex flex-wrap gap-4",children:[v.jsxs(Cr,{onClick:()=>n("/add-activity"),className:"gradient-primary text-primary-foreground",children:[v.jsx(iH,{className:"w-4 h-4 mr-2"}),"Add Activity"]}),v.jsx(Cr,{variant:"outline",onClick:()=>n("/reports"),children:"View Reports"}),v.jsxs(Cr,{variant:"outline",onClick:()=>n("/events"),children:[v.jsx(YS,{className:"w-4 h-4 mr-2"}),"Events (",a," registered)"]})]})]})}),v.jsx(xn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mt-8",children:v.jsxs(Sr,{className:"border-border/50",children:[v.jsxs(Rr,{children:[v.jsx(Lr,{children:"Recent Activities"}),v.jsx(yo,{children:"Your latest submissions"})]}),v.jsx(Er,{children:r.length===0?v.jsx("div",{className:"text-center py-12 text-muted-foreground",children:v.jsx("p",{children:"No activities yet. Start by adding your first activity!"})}):v.jsx("div",{className:"space-y-4",children:r.slice(0,5).map(h=>v.jsxs(xn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center justify-between p-4 rounded-lg border border-border/50 hover:bg-muted/50 transition-all hover:shadow-md",children:[v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("h4",{className:"font-medium",children:h.title}),h.certificateUrl&&v.jsx(tH,{className:"w-4 h-4 text-success animate-pulse"})]}),v.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:h.type}),h.certificateGeneratedAt&&v.jsxs("p",{className:"text-xs text-success mt-1",children:["Certificate generated ",new Date(h.certificateGeneratedAt).toLocaleDateString()]})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${h.status==="approved"?"bg-success/10 text-success":h.status==="pending"?"bg-warning/10 text-warning":"bg-destructive/10 text-destructive"}`,children:h.status}),h.status==="approved"&&v.jsxs("span",{className:"font-bold text-primary",children:[h.score," pts"]}),h.certificateUrl&&v.jsxs(Cr,{size:"sm",variant:"outline",onClick:()=>{window.open(h.certificateUrl,"_blank"),_l({title:"Opening Certificate",description:"Your certificate is opening in a new tab."})},className:"gap-2",children:[v.jsx(nD,{className:"w-4 h-4"}),"Download"]})]})]},h.id))})})]})})]})]})},DT=C.forwardRef(({className:t,...e},n)=>v.jsx("textarea",{className:$t("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));DT.displayName="Textarea";const I0e=()=>{const{user:t}=Ga(),e=Su(),{toast:n}=Ug(),{createNotification:r}=wT(),[i,s]=C.useState(!1),[o,a]=C.useState(null),[l,c]=C.useState({title:"",type:"workshop",provider:"",startDate:"",endDate:"",hours:"",role:"participant",mode:"online",description:""}),u=()=>{const d={workshop:5,fdp:10,mooc:8,conference:15,publication:20,patent:25},b={participant:1,speaker:1.5,organizer:2,author:1.8};let y=d[l.type]||5;y*=b[l.role]||1;const _=parseInt(l.hours)||0;return y+=Math.floor(_/8),Math.round(y)},h=async d=>{if(d.preventDefault(),!!t){s(!0);try{const y=(await uA(Wo(fr,"activities"),{...l,score:u(),status:"pending",evidenceUrls:[],createdAt:new Date().toISOString(),userId:t.uid})).id;let _=[];if(o&&o.length>0){for(let w=0;w<o.length;w++){const S=o[w],E=wA(TA,`evidence/${t.uid}/${y}/${S.name}`);await yA(E,S);const k=await vA(E);_.push(k)}await mv(xo(fr,"activities",y),{evidenceUrls:_})}await r(t.uid,"Activity Submitted",`Your ${l.type} "${l.title}" has been submitted for review.`,"success"),n({title:"Activity submitted!",description:"Your activity is pending review by HOD"}),e("/dashboard")}catch(b){n({title:"Error",description:b.message||"Failed to submit activity",variant:"destructive"})}finally{s(!1)}}},p=u();return v.jsxs("div",{className:"min-h-screen bg-background",children:[v.jsx(zh,{}),v.jsxs("div",{className:"container mx-auto px-6 py-8 max-w-4xl",children:[v.jsxs(xn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[v.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Add New Activity"}),v.jsx("p",{className:"text-muted-foreground",children:"Submit your faculty development activity for review"})]}),v.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[v.jsx("div",{className:"lg:col-span-2",children:v.jsxs(Sr,{className:"border-border/50",children:[v.jsxs(Rr,{children:[v.jsx(Lr,{children:"Activity Details"}),v.jsx(yo,{children:"Fill in the information about your activity"})]}),v.jsx(Er,{children:v.jsxs("form",{onSubmit:h,className:"space-y-6",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(zn,{htmlFor:"title",children:"Activity Title *"}),v.jsx(Hr,{id:"title",placeholder:"e.g., AI and Machine Learning Workshop",value:l.title,onChange:d=>c({...l,title:d.target.value}),required:!0})]}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(zn,{htmlFor:"type",children:"Activity Type *"}),v.jsxs(ay,{value:l.type,onValueChange:d=>c({...l,type:d}),children:[v.jsx(Lm,{id:"type",children:v.jsx(ly,{})}),v.jsxs(Dm,{children:[v.jsx(ri,{value:"workshop",children:"Workshop"}),v.jsx(ri,{value:"fdp",children:"FDP"}),v.jsx(ri,{value:"mooc",children:"MOOC"}),v.jsx(ri,{value:"conference",children:"Conference"}),v.jsx(ri,{value:"publication",children:"Publication"}),v.jsx(ri,{value:"patent",children:"Patent"})]})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(zn,{htmlFor:"provider",children:"Provider/Organizer *"}),v.jsx(Hr,{id:"provider",placeholder:"e.g., NPTEL, IEEE",value:l.provider,onChange:d=>c({...l,provider:d.target.value}),required:!0})]})]}),v.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(zn,{htmlFor:"startDate",children:"Start Date *"}),v.jsx(Hr,{id:"startDate",type:"date",value:l.startDate,onChange:d=>c({...l,startDate:d.target.value}),required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(zn,{htmlFor:"endDate",children:"End Date *"}),v.jsx(Hr,{id:"endDate",type:"date",value:l.endDate,onChange:d=>c({...l,endDate:d.target.value}),required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(zn,{htmlFor:"hours",children:"Total Hours *"}),v.jsx(Hr,{id:"hours",type:"number",placeholder:"8",value:l.hours,onChange:d=>c({...l,hours:d.target.value}),required:!0})]})]}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(zn,{htmlFor:"role",children:"Your Role *"}),v.jsxs(ay,{value:l.role,onValueChange:d=>c({...l,role:d}),children:[v.jsx(Lm,{id:"role",children:v.jsx(ly,{})}),v.jsxs(Dm,{children:[v.jsx(ri,{value:"participant",children:"Participant"}),v.jsx(ri,{value:"speaker",children:"Speaker/Presenter"}),v.jsx(ri,{value:"organizer",children:"Organizer"}),v.jsx(ri,{value:"author",children:"Author"})]})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(zn,{htmlFor:"mode",children:"Mode *"}),v.jsxs(ay,{value:l.mode,onValueChange:d=>c({...l,mode:d}),children:[v.jsx(Lm,{id:"mode",children:v.jsx(ly,{})}),v.jsxs(Dm,{children:[v.jsx(ri,{value:"online",children:"Online"}),v.jsx(ri,{value:"offline",children:"Offline"}),v.jsx(ri,{value:"hybrid",children:"Hybrid"})]})]})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(zn,{htmlFor:"description",children:"Description"}),v.jsx(DT,{id:"description",placeholder:"Brief description of the activity and key learnings...",value:l.description,onChange:d=>c({...l,description:d.target.value}),rows:4})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(zn,{htmlFor:"evidence",children:"Evidence/Certificates *"}),v.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Upload supporting documents: certificates, participation proof, event posters, etc. (Multiple files allowed)"}),v.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center hover:border-primary transition-colors",children:[v.jsx("input",{id:"evidence",type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png",onChange:d=>a(d.target.files),className:"hidden"}),v.jsxs("label",{htmlFor:"evidence",className:"cursor-pointer",children:[v.jsx(sD,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:o&&o.length>0?`${o.length} file(s) selected`:"Click to upload multiple files (certificates, posters, proof documents)"}),o&&o.length>0&&v.jsx("div",{className:"mt-2 text-xs",children:Array.from(o).map((d,b)=>v.jsx("div",{className:"text-left",children:d.name},b))})]})]})]}),v.jsxs(Cr,{type:"submit",className:"w-full gradient-primary text-primary-foreground",disabled:i,children:[i?"Submitting...":"Submit Activity",v.jsx(Wq,{className:"w-4 h-4 ml-2"})]})]})})]})}),v.jsx("div",{className:"lg:col-span-1",children:v.jsxs(Sr,{className:"border-border/50 bg-gradient-to-br from-primary/10 to-accent/10 sticky top-24",children:[v.jsxs(Rr,{children:[v.jsxs(Lr,{className:"flex items-center gap-2",children:[v.jsx(Yq,{className:"w-5 h-5"}),"Score Preview"]}),v.jsx(yo,{children:"Estimated points for this activity"})]}),v.jsx(Er,{children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-6xl font-bold gradient-primary bg-clip-text text-transparent mb-2",children:p}),v.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Points"}),v.jsxs("div",{className:"space-y-3 text-left",children:[v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-muted-foreground",children:"Base score:"}),v.jsxs("span",{className:"font-medium",children:[l.type==="workshop"?5:l.type==="fdp"?10:l.type==="mooc"?8:l.type==="conference"?15:l.type==="publication"?20:l.type==="patent"?25:5," pts"]})]}),v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-muted-foreground",children:"Role multiplier:"}),v.jsxs("span",{className:"font-medium",children:["×",l.role==="participant"?1:l.role==="speaker"?1.5:l.role==="organizer"?2:l.role==="author"?1.8:1]})]}),v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsx("span",{className:"text-muted-foreground",children:"Duration bonus:"}),v.jsxs("span",{className:"font-medium",children:["+",Math.floor((parseInt(l.hours)||0)/8)," pts"]})]})]}),v.jsx("div",{className:"mt-6 p-4 bg-background/50 rounded-lg",children:v.jsx("p",{className:"text-xs text-muted-foreground",children:"Final score will be confirmed upon HOD approval"})})]})})]})})]})]})]})},C0e=()=>{const{user:t,userRole:e,loading:n}=Ga(),r=Su(),[i,s]=C.useState([]),[o,a]=C.useState(null),[l,c]=C.useState(""),{createNotification:u}=wT();C.useEffect(()=>{!n&&(!t||e!=="hod"&&e!=="iqac")&&r("/dashboard")},[t,e,n,r]),C.useEffect(()=>{if(t&&(e==="hod"||e==="iqac")){const y=Wo(fr,"activities"),_=i0(y,w=>{const S=w.docs.map(E=>({id:E.id,...E.data()}));S.sort((E,k)=>new Date(k.createdAt).getTime()-new Date(E.createdAt).getTime()),s(S)});return()=>_()}},[t,e]);const h=async y=>{try{const _=xo(fr,"activities",y.id);await mv(_,{status:"approved",reviewedAt:new Date().toISOString(),reviewedBy:t==null?void 0:t.uid,reviewComment:l||"Approved"}),await u(y.userId,"✅ Activity Approved",`Your activity "${y.title}" has been approved! Certificate will be generated automatically.`,"success"),_l({title:"Activity Approved",description:"Certificate will be generated automatically."}),a(null),c("")}catch(_){console.error("Error approving activity:",_),_l({title:"Error",description:"Failed to approve activity. Please try again.",variant:"destructive"})}},p=async y=>{if(!l.trim()){_l({title:"Comment Required",description:"Please provide a reason for rejection.",variant:"destructive"});return}try{const _=xo(fr,"activities",y.id);await mv(_,{status:"rejected",reviewedAt:new Date().toISOString(),reviewedBy:t==null?void 0:t.uid,reviewComment:l}),await u(y.userId,"❌ Activity Rejected",`Your activity "${y.title}" was rejected. Reason: ${l}`,"error"),_l({title:"Activity Rejected",description:"Faculty has been notified."}),a(null),c("")}catch(_){console.error("Error rejecting activity:",_),_l({title:"Error",description:"Failed to reject activity. Please try again.",variant:"destructive"})}};if(n)return v.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."});const d=i.filter(y=>y.status==="pending"),b=i.filter(y=>y.status!=="pending");return v.jsxs("div",{className:"min-h-screen bg-background",children:[v.jsx(zh,{}),v.jsxs("div",{className:"container mx-auto px-6 py-8",children:[v.jsxs(xn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[v.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Review Activities"}),v.jsx("p",{className:"text-muted-foreground",children:"Approve or reject faculty development activities"})]}),v.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[v.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[v.jsxs(Sr,{className:"border-border/50",children:[v.jsxs(Rr,{children:[v.jsxs(Lr,{children:["Pending Review (",d.length,")"]}),v.jsx(yo,{children:"Activities awaiting your approval"})]}),v.jsx(Er,{children:d.length===0?v.jsx("div",{className:"text-center py-12 text-muted-foreground",children:v.jsx("p",{children:"No pending activities to review"})}):v.jsx("div",{className:"space-y-3",children:d.map(y=>v.jsx(xn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:`p-4 rounded-lg border transition-all cursor-pointer ${(o==null?void 0:o.id)===y.id?"border-primary bg-primary/5":"border-border/50 hover:bg-muted/50"}`,onClick:()=>a(y),children:v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("h4",{className:"font-medium",children:y.title}),v.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:y.type}),v.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[y.hours," hours • ",y.role]})]}),v.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-warning/10 text-warning",children:[y.score," pts"]})]})},y.id))})})]}),v.jsxs(Sr,{className:"border-border/50",children:[v.jsxs(Rr,{children:[v.jsx(Lr,{children:"Recently Reviewed"}),v.jsx(yo,{children:"Activities you've already processed"})]}),v.jsx(Er,{children:b.length===0?v.jsx("div",{className:"text-center py-8 text-muted-foreground",children:v.jsx("p",{children:"No reviewed activities yet"})}):v.jsx("div",{className:"space-y-3",children:b.slice(0,5).map(y=>v.jsx("div",{className:"p-4 rounded-lg border border-border/50 hover:bg-muted/50 transition-colors",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-sm",children:y.title}),v.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:y.type})]}),v.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${y.status==="approved"?"bg-success/10 text-success":"bg-destructive/10 text-destructive"}`,children:y.status})]})},y.id))})})]})]}),v.jsx("div",{className:"lg:col-span-1",children:v.jsxs(Sr,{className:"border-border/50 sticky top-6",children:[v.jsxs(Rr,{children:[v.jsx(Lr,{children:"Activity Details"}),v.jsx(yo,{children:o?"Review and take action":"Select an activity to review"})]}),v.jsx(Er,{children:o?v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold mb-2",children:o.title}),v.jsxs("div",{className:"space-y-2 text-sm",children:[v.jsxs("p",{children:[v.jsx("span",{className:"text-muted-foreground",children:"Type:"})," ",v.jsx("span",{className:"capitalize",children:o.type})]}),v.jsxs("p",{children:[v.jsx("span",{className:"text-muted-foreground",children:"Provider:"})," ",o.provider]}),v.jsxs("p",{children:[v.jsx("span",{className:"text-muted-foreground",children:"Duration:"})," ",o.hours," hours"]}),v.jsxs("p",{children:[v.jsx("span",{className:"text-muted-foreground",children:"Role:"})," ",o.role]}),v.jsxs("p",{children:[v.jsx("span",{className:"text-muted-foreground",children:"Date:"})," ",new Date(o.startDate).toLocaleDateString()," - ",new Date(o.endDate).toLocaleDateString()]}),v.jsxs("p",{children:[v.jsx("span",{className:"text-muted-foreground",children:"Score:"})," ",v.jsxs("span",{className:"font-bold text-primary",children:[o.score," points"]})]})]})]}),o.description&&v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium mb-1",children:"Description"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:o.description})]}),o.evidenceUrls&&o.evidenceUrls.length>0&&v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium mb-2",children:"Evidence Files"}),v.jsx("div",{className:"space-y-2",children:o.evidenceUrls.map((y,_)=>v.jsxs(Cr,{variant:"outline",size:"sm",className:"w-full justify-start gap-2",onClick:()=>window.open(y,"_blank"),children:[v.jsx(rD,{className:"w-4 h-4"}),"View Evidence ",_+1]},_))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Review Comment"}),v.jsx(DT,{placeholder:"Add your comments here...",value:l,onChange:y=>c(y.target.value),className:"min-h-[100px]"})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs(Cr,{onClick:()=>h(o),className:"flex-1 bg-success hover:bg-success/90 text-white",children:[v.jsx(n2,{className:"w-4 h-4 mr-2"}),"Approve"]}),v.jsxs(Cr,{onClick:()=>p(o),variant:"destructive",className:"flex-1",children:[v.jsx(Jq,{className:"w-4 h-4 mr-2"}),"Reject"]})]})]}):v.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[v.jsx(eH,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),v.jsx("p",{children:"Select an activity from the list to review"})]})})]})})]})]})]})},N0e=()=>{const{user:t}=Ga(),[e,n]=C.useState([]),[r,i]=C.useState(!0);C.useEffect(()=>{if(!t)return;(async()=>{try{const l=Oh(Wo(fr,"activities"),mu("userId","==",t.uid)),u=(await lA(l)).docs.map(h=>({id:h.id,...h.data()}));n(u)}catch(l){console.error("Error fetching activities:",l)}finally{i(!1)}})()},[t]);const s={total:e.length,approved:e.filter(a=>a.status==="approved").length,pending:e.filter(a=>a.status==="pending").length,rejected:e.filter(a=>a.status==="rejected").length,totalScore:e.filter(a=>a.status==="approved").reduce((a,l)=>a+(l.score||0),0)},o=()=>{const a=e.map(p=>({Title:p.title,Type:p.type,Provider:p.provider,Role:p.role,Mode:p.mode,"Start Date":p.startDate,"End Date":p.endDate,Score:p.score,Status:p.status})),l=[Object.keys(a[0]||{}).join(","),...a.map(p=>Object.values(p).join(","))].join(`
`),c=new Blob([l],{type:"text/csv"}),u=window.URL.createObjectURL(c),h=document.createElement("a");h.href=u,h.download=`activities-report-${new Date().toISOString().split("T")[0]}.csv`,h.click()};return r?v.jsxs("div",{className:"min-h-screen bg-background",children:[v.jsx(zh,{}),v.jsx("div",{className:"container mx-auto px-6 py-8",children:v.jsx("p",{className:"text-center text-muted-foreground",children:"Loading reports..."})})]}):v.jsxs("div",{className:"min-h-screen bg-background",children:[v.jsx(zh,{}),v.jsxs("div",{className:"container mx-auto px-6 py-8",children:[v.jsxs(xn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[v.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Activity Reports"}),v.jsx("p",{className:"text-muted-foreground",children:"View and download your faculty development activity reports"})]}),v.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[v.jsx(xn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1},children:v.jsxs(Sr,{className:"border-border/50",children:[v.jsx(Rr,{className:"pb-3",children:v.jsxs(Lr,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[v.jsx(KS,{className:"w-4 h-4"}),"Total Score"]})}),v.jsxs(Er,{children:[v.jsx("div",{className:"text-3xl font-bold gradient-primary bg-clip-text text-transparent",children:s.totalScore}),v.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"From approved activities"})]})]})}),v.jsx(xn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},children:v.jsxs(Sr,{className:"border-border/50",children:[v.jsx(Rr,{className:"pb-3",children:v.jsxs(Lr,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[v.jsx(XS,{className:"w-4 h-4"}),"Approved"]})}),v.jsxs(Er,{children:[v.jsx("div",{className:"text-3xl font-bold text-green-600",children:s.approved}),v.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Activities approved"})]})]})}),v.jsx(xn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.3},children:v.jsxs(Sr,{className:"border-border/50",children:[v.jsx(Rr,{className:"pb-3",children:v.jsxs(Lr,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[v.jsx(YS,{className:"w-4 h-4"}),"Pending"]})}),v.jsxs(Er,{children:[v.jsx("div",{className:"text-3xl font-bold text-orange-600",children:s.pending}),v.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Awaiting review"})]})]})}),v.jsx(xn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.4},children:v.jsxs(Sr,{className:"border-border/50",children:[v.jsx(Rr,{className:"pb-3",children:v.jsxs(Lr,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[v.jsx(rD,{className:"w-4 h-4"}),"Total Activities"]})}),v.jsxs(Er,{children:[v.jsx("div",{className:"text-3xl font-bold",children:s.total}),v.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"All submissions"})]})]})})]}),v.jsx(xn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:v.jsxs(Sr,{className:"border-border/50",children:[v.jsx(Rr,{children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx(Lr,{children:"Activity Details"}),v.jsx(yo,{children:"Complete list of all your activities"})]}),v.jsxs(Cr,{onClick:o,disabled:e.length===0,children:[v.jsx(nD,{className:"w-4 h-4 mr-2"}),"Download CSV"]})]})}),v.jsx(Er,{children:e.length===0?v.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No activities found"}):v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"border-b border-border",children:[v.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Title"}),v.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Type"}),v.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Provider"}),v.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Date"}),v.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Score"}),v.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Status"})]})}),v.jsx("tbody",{children:e.map((a,l)=>v.jsxs(xn.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:l*.05},className:"border-b border-border/50 hover:bg-muted/50 transition-colors",children:[v.jsx("td",{className:"py-3 px-4",children:a.title}),v.jsx("td",{className:"py-3 px-4 capitalize",children:a.type}),v.jsx("td",{className:"py-3 px-4",children:a.provider}),v.jsx("td",{className:"py-3 px-4 text-sm text-muted-foreground",children:new Date(a.startDate).toLocaleDateString()}),v.jsx("td",{className:"py-3 px-4 font-semibold",children:a.score}),v.jsx("td",{className:"py-3 px-4",children:v.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                              ${a.status==="approved"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":a.status==="pending"?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:a.status})})]},a.id))})]})})})]})})]})]})},P0e=()=>{const{user:t,loading:e}=Ga(),n=Su(),{toast:r}=Ug(),[i,s]=C.useState({name:"",email:"",department:"",phone:"",photoUrl:"",designation:"",employeeId:""}),[o,a]=C.useState(null),[l,c]=C.useState(""),[u,h]=C.useState(!1);C.useEffect(()=>{!e&&!t&&n("/auth")},[t,e,n]),C.useEffect(()=>{(async()=>{if(t){const y=await O2(xo(fr,"profiles",t.uid));if(y.exists()){const _=y.data();s(_),c(_.photoUrl||"")}else s(_=>({..._,email:t.email||""}))}})()},[t]);const p=b=>{var _;const y=(_=b.target.files)==null?void 0:_[0];if(y){a(y);const w=new FileReader;w.onloadend=()=>{c(w.result)},w.readAsDataURL(y)}},d=async b=>{if(b.preventDefault(),!!t){h(!0);try{let y=i.photoUrl;if(o){const _=wA(TA,`profiles/${t.uid}/photo`);await yA(_,o),y=await vA(_)}await cA(xo(fr,"profiles",t.uid),{...i,photoUrl:y,updatedAt:new Date().toISOString()}),r({title:"Profile Updated",description:"Your profile has been saved successfully."})}catch{r({title:"Error",description:"Failed to save profile. Please try again.",variant:"destructive"})}finally{h(!1)}}};return e?v.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):v.jsxs("div",{className:"min-h-screen bg-background",children:[v.jsx(zh,{}),v.jsxs("div",{className:"container mx-auto px-6 py-8",children:[v.jsxs(xn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[v.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Profile Settings"}),v.jsx("p",{className:"text-muted-foreground",children:"Manage your profile information"})]}),v.jsx(xn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:v.jsxs(Sr,{className:"max-w-2xl",children:[v.jsxs(Rr,{children:[v.jsx(Lr,{children:"Profile Information"}),v.jsx(yo,{children:"Update your personal details and profile photo"})]}),v.jsx(Er,{children:v.jsxs("form",{onSubmit:d,className:"space-y-6",children:[v.jsxs("div",{className:"flex flex-col items-center gap-4",children:[v.jsxs(cT,{className:"w-32 h-32",children:[v.jsx(uT,{src:l,alt:"Profile"}),v.jsx(hT,{children:v.jsx(oD,{className:"w-16 h-16"})})]}),v.jsx("div",{className:"flex gap-2",children:v.jsxs(zn,{htmlFor:"photo-upload",className:"cursor-pointer",children:[v.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:[v.jsx(sD,{className:"w-4 h-4"}),"Upload Photo"]}),v.jsx(Hr,{id:"photo-upload",type:"file",accept:"image/*",className:"hidden",onChange:p})]})})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(zn,{htmlFor:"name",children:"Full Name"}),v.jsx(Hr,{id:"name",value:i.name,onChange:b=>s({...i,name:b.target.value}),placeholder:"Enter your full name",required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(zn,{htmlFor:"email",children:"Email"}),v.jsx(Hr,{id:"email",type:"email",value:i.email,disabled:!0,className:"bg-muted"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(zn,{htmlFor:"employeeId",children:"Employee ID"}),v.jsx(Hr,{id:"employeeId",value:i.employeeId,onChange:b=>s({...i,employeeId:b.target.value}),placeholder:"Enter employee ID",required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(zn,{htmlFor:"designation",children:"Designation"}),v.jsx(Hr,{id:"designation",value:i.designation,onChange:b=>s({...i,designation:b.target.value}),placeholder:"e.g., Assistant Professor",required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(zn,{htmlFor:"department",children:"Department"}),v.jsx(Hr,{id:"department",value:i.department,onChange:b=>s({...i,department:b.target.value}),placeholder:"Enter your department",required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(zn,{htmlFor:"phone",children:"Phone Number"}),v.jsx(Hr,{id:"phone",type:"tel",value:i.phone,onChange:b=>s({...i,phone:b.target.value}),placeholder:"Enter phone number",required:!0})]})]}),v.jsxs(Cr,{type:"submit",className:"w-full gradient-primary",disabled:u,children:[v.jsx(sH,{className:"w-4 h-4 mr-2"}),u?"Saving...":"Save Profile"]})]})})]})})]})]})},k0e=()=>{const{user:t,loading:e}=Ga(),n=Su(),{toast:r}=Ug(),[i,s]=C.useState([]),[o,a]=C.useState([]);C.useEffect(()=>{!e&&!t&&n("/auth")},[t,e,n]),C.useEffect(()=>{if(t){const c=Oh(Wo(fr,"events"),mu("status","==","active")),u=i0(c,p=>{const d=p.docs.map(b=>({id:b.id,...b.data()}));d.sort((b,y)=>new Date(b.startDate).getTime()-new Date(y.startDate).getTime()),s(d)}),h=Oh(Wo(fr,"eventRegistrations"),mu("userId","==",t.uid));return lA(h).then(p=>{const d=p.docs.map(b=>b.data().eventId);a(d)}),()=>u()}},[t]);const l=async c=>{if(t)try{await uA(Wo(fr,"eventRegistrations"),{eventId:c,userId:t.uid,registeredAt:new Date().toISOString(),status:"registered"}),a([...o,c]),r({title:"Registration Successful",description:"You have been registered for the event."})}catch{r({title:"Registration Failed",description:"Failed to register. Please try again.",variant:"destructive"})}};return e?v.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):v.jsxs("div",{className:"min-h-screen bg-background",children:[v.jsx(zh,{}),v.jsxs("div",{className:"container mx-auto px-6 py-8",children:[v.jsxs(xn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[v.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Events"}),v.jsx("p",{className:"text-muted-foreground",children:"Browse and register for upcoming faculty development events"})]}),v.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.length===0?v.jsx("div",{className:"col-span-full text-center py-12",children:v.jsx("p",{className:"text-muted-foreground",children:"No active events at the moment."})}):i.map((c,u)=>v.jsx(xn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u*.1},children:v.jsxs(Sr,{className:"h-full flex flex-col border-border/50 hover:shadow-lg transition-all",children:[v.jsxs(Rr,{children:[v.jsxs("div",{className:"flex items-start justify-between mb-2",children:[v.jsx(Ix,{variant:"outline",className:"capitalize",children:c.type}),o.includes(c.id)&&v.jsxs(Ix,{className:"bg-success/10 text-success",children:[v.jsx(n2,{className:"w-3 h-3 mr-1"}),"Registered"]})]}),v.jsx(Lr,{className:"text-xl",children:c.title}),v.jsx(yo,{className:"line-clamp-2",children:c.description})]}),v.jsxs(Er,{className:"flex-1 flex flex-col",children:[v.jsxs("div",{className:"space-y-3 mb-4 flex-1",children:[v.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[v.jsx(YS,{className:"w-4 h-4"}),v.jsx("span",{children:new Date(c.startDate).toLocaleDateString()}),c.endDate&&v.jsxs(v.Fragment,{children:[v.jsx("span",{children:"-"}),v.jsx("span",{children:new Date(c.endDate).toLocaleDateString()})]})]}),v.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[v.jsx(rH,{className:"w-4 h-4"}),v.jsx("span",{children:c.venue})]}),v.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[v.jsx(aD,{className:"w-4 h-4"}),v.jsxs("span",{children:[c.registeredCount||0," / ",c.maxParticipants," participants"]})]}),v.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[v.jsx(tD,{className:"w-4 h-4"}),v.jsxs("span",{children:["By ",c.organizer]})]})]}),v.jsx(Cr,{className:"w-full gradient-primary",onClick:()=>l(c.id),disabled:o.includes(c.id)||c.registeredCount>=c.maxParticipants,children:o.includes(c.id)?"Already Registered":c.registeredCount>=c.maxParticipants?"Event Full":"Register Now"})]})]})},c.id))})]})]})},R0e=()=>{const t=Hg();return C.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),v.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:v.jsxs("div",{className:"text-center",children:[v.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),v.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),v.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},L0e=new PK,D0e=()=>v.jsx(RK,{client:L0e,children:v.jsx(yse,{children:v.jsxs(oK,{children:[v.jsx($H,{}),v.jsx(bW,{}),v.jsx(CY,{children:v.jsxs(bY,{children:[v.jsx(va,{path:"/",element:v.jsx(Qce,{})}),v.jsx(va,{path:"/auth",element:v.jsx(Fhe,{})}),v.jsx(va,{path:"/dashboard",element:v.jsx(T0e,{})}),v.jsx(va,{path:"/add-activity",element:v.jsx(I0e,{})}),v.jsx(va,{path:"/review",element:v.jsx(C0e,{})}),v.jsx(va,{path:"/reports",element:v.jsx(N0e,{})}),v.jsx(va,{path:"/settings",element:v.jsx(P0e,{})}),v.jsx(va,{path:"/events",element:v.jsx(k0e,{})}),v.jsx(va,{path:"*",element:v.jsx(R0e,{})})]})})]})})});AL(document.getElementById("root")).render(v.jsx(D0e,{}));export{wn as _,O0e as c,hR as g};
